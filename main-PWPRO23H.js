var Rk=Object.create;var xm=Object.defineProperty,Mk=Object.defineProperties,Nk=Object.getOwnPropertyDescriptor,xk=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertyNames,uC=Object.getOwnPropertySymbols,dC=Object.getPrototypeOf,hC=Object.prototype.hasOwnProperty,kk=Object.prototype.propertyIsEnumerable,Ok=Reflect.get;var lC=(n,e,t)=>e in n?xm(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})hC.call(e,t)&&lC(n,t,e[t]);if(uC)for(var t of uC(e))kk.call(e,t)&&lC(n,t,e[t]);return n},he=(n,e)=>Mk(n,xk(e));var Fk=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Lk=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pk(e))!hC.call(n,i)&&i!==t&&xm(n,i,{get:()=>e[i],enumerable:!(r=Nk(e,i))||r.enumerable});return n};var Vk=(n,e,t)=>(t=n!=null?Rk(dC(n)):{},Lk(e||!n||!n.__esModule?xm(t,"default",{value:n,enumerable:!0}):t,n));var Pi=(n,e,t)=>Ok(dC(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var MP=Fk((xr,Qb)=>{"use strict";(function(n,e){typeof xr=="object"&&typeof Qb<"u"?Qb.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(xr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,E=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,E)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((l,h)=>(l[h]=d+h,l),{}),_=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},U=l=>{console.error(`${M} ${l}`)},Z=[],ee=l=>{Z.includes(l)||(Z.push(l),k(l))},Ae=(l,h=null)=>{ee(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},nt=l=>typeof l=="function"?l():l,De=l=>l&&typeof l.toPromise=="function",R=l=>De(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,C=()=>document.body.querySelector(`.${g.container}`),T=l=>{let h=C();return h?h.querySelector(l):null},A=l=>T(`.${l}`),S=()=>A(g.popup),D=()=>A(g.icon),Ln=()=>A(g["icon-content"]),gi=()=>A(g.title),qc=()=>A(g["html-container"]),mi=()=>A(g.image),Pr=()=>A(g["progress-steps"]),yi=()=>A(g["validation-message"]),cn=()=>T(`.${g.actions} .${g.confirm}`),vi=()=>T(`.${g.actions} .${g.cancel}`),kt=()=>T(`.${g.actions} .${g.deny}`),vt=()=>A(g["input-label"]),wi=()=>T(`.${g.loader}`),Vn=()=>A(g.actions),ad=()=>A(g.footer),er=()=>A(g["timer-progress-bar"]),zc=()=>A(g.close),dm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,_i=()=>{let l=S();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,Ie)=>{let Ne=parseInt($.getAttribute("tabindex")||"0"),Ge=parseInt(Ie.getAttribute("tabindex")||"0");return Ne>Ge?1:Ne<Ge?-1:0}),E=l.querySelectorAll(dm),P=Array.from(E).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(P))].filter($=>Mt($))},Ei=()=>un(document.body,g.shown)&&!un(document.body,g["toast-shown"])&&!un(document.body,g["no-backdrop"]),Ii=()=>{let l=S();return l?un(l,g.toast):!1},Gc=()=>{let l=S();return l?l.hasAttribute("data-loading"):!1},Rt=(l,h)=>{if(l.textContent="",h){let E=new DOMParser().parseFromString(h,"text/html"),P=E.querySelector("head");P&&Array.from(P.childNodes).forEach(Ie=>{l.appendChild(Ie)});let $=E.querySelector("body");$&&Array.from($.childNodes).forEach(Ie=>{Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?l.appendChild(Ie.cloneNode(!0)):l.appendChild(Ie)})}},un=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let E=0;E<y.length;E++)if(!l.classList.contains(y[E]))return!1;return!0},cd=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(_).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Ot=(l,h,y)=>{if(cd(l,h),!h.customClass)return;let E=h.customClass[y];if(E){if(typeof E!="string"&&!E.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof E}"`);return}Ee(l,E)}},js=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},Wc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Kc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(E=>{Array.isArray(l)?l.forEach(P=>{y?P.classList.add(E):P.classList.remove(E)}):y?l.classList.add(E):l.classList.remove(E)}))},Ee=(l,h)=>{Kc(l,h,!0)},Ut=(l,h)=>{Kc(l,h,!1)},tr=(l,h)=>{let y=Array.from(l.children);for(let E=0;E<y.length;E++){let P=y[E];if(P instanceof HTMLElement&&un(P,h))return P}},jn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},Ke=(l,h="flex")=>{l&&(l.style.display=h)},rt=l=>{l&&(l.style.display="none")},it=(l,h="block")=>{l&&new MutationObserver(()=>{nr(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},wt=(l,h,y,E)=>{let P=l.querySelector(h);P&&P.style.setProperty(y,E)},nr=(l,h,y="flex")=>{h?Ke(l,y):rt(l)},Mt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),ud=()=>!Mt(cn())&&!Mt(kt())&&!Mt(vi()),Qc=l=>l.scrollHeight>l.clientHeight,bo=(l,h)=>{let y=l;for(;y&&y!==h;){if(Qc(y))return!0;y=y.parentElement}return!1},Yc=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),E=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||E>0},Bs=(l,h=!1)=>{let y=er();y&&Mt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Zc=()=>{let l=er();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),E=h/y*100;l.style.width=`${E}%`},hm=()=>typeof window>"u"||typeof document>"u",fm=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Jc=()=>{let l=C();return l?(l.remove(),Ut([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},rr=()=>{s.currentInstance.resetValidationMessage()},ld=()=>{let l=S(),h=tr(l,g.input),y=tr(l,g.file),E=l.querySelector(`.${g.range} input`),P=l.querySelector(`.${g.range} output`),$=tr(l,g.select),Ie=l.querySelector(`.${g.checkbox} input`),Ne=tr(l,g.textarea);h.oninput=rr,y.onchange=rr,$.onchange=rr,Ie.onchange=rr,Ne.oninput=rr,E.oninput=()=>{rr(),P.value=E.value},E.onchange=()=>{rr(),P.value=E.value}},Co=l=>typeof l=="string"?document.querySelector(l):l,Xc=l=>{let h=S();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},eu=l=>{window.getComputedStyle(l).direction==="rtl"&&Ee(C(),g.rtl)},kr=l=>{let h=Jc();if(hm()){U("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&Ee(y,g["no-transition"]),Rt(y,fm),y.dataset.swal2Theme=l.theme;let E=Co(l.target);E.appendChild(y),l.topLayer&&(y.setAttribute("popover",""),y.showPopover()),Xc(l),eu(E),ld()},Us=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?$s(l,h):l&&Rt(h,l)},$s=(l,h)=>{l.jquery?dd(h,l):Rt(h,l.toString())},dd=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},Do=(l,h)=>{let y=Vn(),E=wi();!y||!E||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?rt(y):Ke(y),Ot(y,h,"actions"),hd(y,E,h),Rt(E,h.loaderHtml||""),Ot(E,h,"loader"))};function hd(l,h,y){let E=cn(),P=kt(),$=vi();!E||!P||!$||(Or(E,"confirm",y),Or(P,"deny",y),Or($,"cancel",y),Nt(E,P,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,E),l.insertBefore(P,E)):(l.insertBefore($,h),l.insertBefore(P,h),l.insertBefore(E,h))))}function Nt(l,h,y,E){if(!E.buttonsStyling){Ut([l,h,y],g.styled);return}Ee([l,h,y],g.styled),E.confirmButtonColor&&l.style.setProperty("--swal2-confirm-button-background-color",E.confirmButtonColor),E.denyButtonColor&&h.style.setProperty("--swal2-deny-button-background-color",E.denyButtonColor),E.cancelButtonColor&&y.style.setProperty("--swal2-cancel-button-background-color",E.cancelButtonColor),Hs(l),Hs(h),Hs(y)}function Hs(l){let h=window.getComputedStyle(l);if(h.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let y=h.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");l.style.setProperty("--swal2-action-button-focus-box-shadow",h.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${y}`))}function Or(l,h,y){let E=O(h);nr(l,y[`show${E}Button`],"inline-block"),Rt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Ot(l,y,`${h}Button`)}let To=(l,h)=>{let y=zc();y&&(Rt(y,h.closeButtonHtml||""),Ot(y,h,"closeButton"),nr(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},pm=(l,h)=>{let y=C();y&&(gm(y,h.backdrop),bi(y,h.position),mm(y,h.grow),Ot(y,h,"container"))};function gm(l,h){typeof h=="string"?l.style.background=h:h||Ee([document.documentElement,document.body],g["no-backdrop"])}function bi(l,h){h&&(h in g?Ee(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),Ee(l,g.center)))}function mm(l,h){h&&Ee(l,g[`grow-${h}`])}var ke={innerParams:new WeakMap,domCache:new WeakMap};let qs=["input","file","range","select","radio","checkbox","textarea"],fd=(l,h)=>{let y=S();if(!y)return;let E=ke.innerParams.get(l),P=!E||h.input!==E.input;qs.forEach($=>{let Ie=tr(y,g[$]);Ie&&(ir($,h.inputAttributes),Ie.className=g[$],P&&rt(Ie))}),h.input&&(P&&tu(h),pd(h))},tu=l=>{if(!l.input)return;if(!$e[l.input]){U(`Unexpected type of input! Expected ${Object.keys($e).join(" | ")}, got "${l.input}"`);return}let h=Ws(l.input);if(!h)return;let y=$e[l.input](h,l);Ke(h),l.inputAutoFocus&&setTimeout(()=>{Wc(y)})},zs=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},ir=(l,h)=>{let y=S();if(!y)return;let E=js(y,l);if(E){zs(E);for(let P in h)E.setAttribute(P,h[P])}},pd=l=>{if(!l.input)return;let h=Ws(l.input);h&&Ot(h,l,"input")},Gs=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Fr=(l,h,y)=>{if(y.inputLabel){let E=document.createElement("label"),P=g["input-label"];E.setAttribute("for",l.id),E.className=P,typeof y.customClass=="object"&&Ee(E,y.customClass.inputLabel),E.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",E)}},Ws=l=>{let h=S();if(h)return tr(h,g[l]||g.input)},So=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},$e={};$e.text=$e.email=$e.password=$e.number=$e.tel=$e.url=$e.search=$e.date=$e["datetime-local"]=$e.time=$e.week=$e.month=(l,h)=>(So(l,h.inputValue),Fr(l,l,h),Gs(l,h),l.type=h.input,l),$e.file=(l,h)=>(Fr(l,l,h),Gs(l,h),l),$e.range=(l,h)=>{let y=l.querySelector("input"),E=l.querySelector("output");return So(y,h.inputValue),y.type=h.input,So(E,h.inputValue),Fr(y,l,h),l},$e.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Rt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Fr(l,l,h),l},$e.radio=l=>(l.textContent="",l),$e.checkbox=(l,h)=>{let y=js(S(),"checkbox");y.value="1",y.checked=!!h.inputValue;let E=l.querySelector("span");return Rt(E,h.inputPlaceholder||h.inputLabel),y},$e.textarea=(l,h)=>{So(l,h.inputValue),Gs(l,h),Fr(l,l,h);let y=E=>parseInt(window.getComputedStyle(E).marginLeft)+parseInt(window.getComputedStyle(E).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let E=parseInt(window.getComputedStyle(S()).width),P=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>E?S().style.width=`${$}px`:jn(S(),"width",h.width)};new MutationObserver(P).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let ym=(l,h)=>{let y=qc();y&&(it(y),Ot(y,h,"htmlContainer"),h.html?(Us(h.html,y),Ke(y,"block")):h.text?(y.textContent=h.text,Ke(y,"block")):rt(y),fd(l,h))},Ks=(l,h)=>{let y=ad();y&&(it(y),nr(y,h.footer,"block"),h.footer&&Us(h.footer,y),Ot(y,h,"footer"))},gd=(l,h)=>{let y=ke.innerParams.get(l),E=D();if(!E)return;if(y&&h.icon===y.icon){md(E,h),Qs(E,h);return}if(!h.icon&&!h.iconHtml){rt(E);return}if(h.icon&&Object.keys(_).indexOf(h.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),rt(E);return}Ke(E),md(E,h),Qs(E,h),Ee(E,h.showClass&&h.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Ci)},Qs=(l,h)=>{for(let[y,E]of Object.entries(_))h.icon!==y&&Ut(l,E);Ee(l,h.icon&&_[h.icon]),yd(l,h),Ci(),Ot(l,h,"icon")},Ci=()=>{let l=S();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let E=0;E<y.length;E++)y[E].style.backgroundColor=h},Lr=l=>`
  ${l.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${l.animation?'<div class="swal2-success-fix"></div>':""}
  ${l.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,nu=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,md=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,E="";h.iconHtml?E=ru(h.iconHtml):h.icon==="success"?(E=Lr(h),y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?E=nu:h.icon&&(E=ru({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==E.trim()&&Rt(l,E)},yd=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])wt(l,y,"background-color",h.iconColor);wt(l,".swal2-success-ring","border-color",h.iconColor)}},ru=l=>`<div class="${g["icon-content"]}">${l}</div>`,vd=(l,h)=>{let y=mi();if(y){if(!h.imageUrl){rt(y);return}Ke(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),jn(y,"width",h.imageWidth),jn(y,"height",h.imageHeight),y.className=g.image,Ot(y,h,"image")}},Ao=!1,Ys=0,iu=0,ou=0,wd=0,vm=l=>{l.addEventListener("mousedown",Ro),document.body.addEventListener("mousemove",Zs),l.addEventListener("mouseup",bn),l.addEventListener("touchstart",Ro),document.body.addEventListener("touchmove",Zs),l.addEventListener("touchend",bn)},_d=l=>{l.removeEventListener("mousedown",Ro),document.body.removeEventListener("mousemove",Zs),l.removeEventListener("mouseup",bn),l.removeEventListener("touchstart",Ro),document.body.removeEventListener("touchmove",Zs),l.removeEventListener("touchend",bn)},Ro=l=>{let h=S();if(l.target===h||D().contains(l.target)){Ao=!0;let y=Cn(l);Ys=y.clientX,iu=y.clientY,ou=parseInt(h.style.insetInlineStart)||0,wd=parseInt(h.style.insetBlockStart)||0,Ee(h,"swal2-dragging")}},Zs=l=>{let h=S();if(Ao){let{clientX:y,clientY:E}=Cn(l);h.style.insetInlineStart=`${ou+(y-Ys)}px`,h.style.insetBlockStart=`${wd+(E-iu)}px`}},bn=()=>{let l=S();Ao=!1,Ut(l,"swal2-dragging")},Cn=l=>{let h=0,y=0;return l.type.startsWith("mouse")?(h=l.clientX,y=l.clientY):l.type.startsWith("touch")&&(h=l.touches[0].clientX,y=l.touches[0].clientY),{clientX:h,clientY:y}},Js=(l,h)=>{let y=C(),E=S();if(!(!y||!E)){if(h.toast){jn(y,"width",h.width),E.style.width="100%";let P=wi();P&&E.insertBefore(P,D())}else jn(E,"width",h.width);jn(E,"padding",h.padding),h.color&&(E.style.color=h.color),h.background&&(E.style.background=h.background),rt(yi()),Xs(E,h),h.draggable&&!h.toast?(Ee(E,g.draggable),vm(E)):(Ut(E,g.draggable),_d(E))}},Xs=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Mt(l)?y.popup:""}`,h.toast?(Ee([document.documentElement,document.body],g["toast-shown"]),Ee(l,g.toast)):Ee(l,g.modal),Ot(l,h,"popup"),typeof h.customClass=="string"&&Ee(l,h.customClass),h.icon&&Ee(l,g[`icon-${h.icon}`])},Ed=(l,h)=>{let y=Pr();if(!y)return;let{progressSteps:E,currentProgressStep:P}=h;if(!E||E.length===0||P===void 0){rt(y);return}Ke(y),y.textContent="",P>=E.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),E.forEach(($,Ie)=>{let Ne=Le($);if(y.appendChild(Ne),Ie===P&&Ee(Ne,g["active-progress-step"]),Ie!==E.length-1){let Ge=ea(h);y.appendChild(Ge)}})},Le=l=>{let h=document.createElement("li");return Ee(h,g["progress-step"]),Rt(h,l),h},ea=l=>{let h=document.createElement("li");return Ee(h,g["progress-step-line"]),l.progressStepsDistance&&jn(h,"width",l.progressStepsDistance),h},Mo=(l,h)=>{let y=gi();y&&(it(y),nr(y,h.title||h.titleText,"block"),h.title&&Us(h.title,y),h.titleText&&(y.innerText=h.titleText),Ot(y,h,"title"))},Di=(l,h)=>{Js(l,h),pm(l,h),Ed(l,h),gd(l,h),vd(l,h),Mo(l,h),To(l,h),ym(l,h),Do(l,h),Ks(l,h);let y=S();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},wm=()=>Mt(S()),su=()=>{var l;return(l=cn())===null||l===void 0?void 0:l.click()},_m=()=>{var l;return(l=kt())===null||l===void 0?void 0:l.click()},Em=()=>{var l;return(l=vi())===null||l===void 0?void 0:l.click()},Ti=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Id=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},No=(l,h,y)=>{Id(l),h.toast||(l.keydownHandler=E=>Cd(h,E,y),l.keydownTarget=h.keydownListenerCapture?window:S(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Dn=(l,h)=>{var y;let E=_i();if(E.length){l=l+h,l===-2&&(l=E.length-1),l===E.length?l=0:l===-1&&(l=E.length-1),E[l].focus();return}(y=S())===null||y===void 0||y.focus()},au=["ArrowRight","ArrowDown"],bd=["ArrowLeft","ArrowUp"],Cd=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Si(h,l):h.key==="Tab"?Im(h):[...au,...bd].includes(h.key)?bm(h.key):h.key==="Escape"&&Cm(h,l,y)))},Si=(l,h)=>{if(!nt(h.allowEnterKey))return;let y=js(S(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;su(),l.preventDefault()}},Im=l=>{let h=l.target,y=_i(),E=-1;for(let P=0;P<y.length;P++)if(h===y[P]){E=P;break}l.shiftKey?Dn(E,-1):Dn(E,1),l.stopPropagation(),l.preventDefault()},bm=l=>{let h=Vn(),y=cn(),E=kt(),P=vi();if(!h||!y||!E||!P)return;let $=[y,E,P];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let Ie=au.includes(l)?"nextElementSibling":"previousElementSibling",Ne=document.activeElement;if(Ne){for(let Ge=0;Ge<h.children.length;Ge++){if(Ne=Ne[Ie],!Ne)return;if(Ne instanceof HTMLButtonElement&&Mt(Ne))break}Ne instanceof HTMLButtonElement&&Ne.focus()}},Cm=(l,h,y)=>{l.preventDefault(),nt(h.allowEscapeKey)&&y(Ti.esc)};var $t={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Dm=()=>{let l=C();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Dd=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Ai=typeof window<"u"&&!!window.GestureEvent,ta=()=>{if(Ai&&!un(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,Ee(document.body,g.iosfix),Td()}},Td=()=>{let l=C();if(!l)return;let h;l.ontouchstart=y=>{h=xo(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},xo=l=>{let h=l.target,y=C(),E=qc();return!y||!E||Po(l)||Sd(l)?!1:h===y||!Qc(y)&&h instanceof HTMLElement&&!bo(h,E)&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Qc(E)&&E.contains(h))},Po=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Sd=l=>l.touches&&l.touches.length>1,cu=()=>{if(un(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Ut(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},He=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Ri=null,Tm=l=>{Ri===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Ri=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ri+He()}px`)},Ad=()=>{Ri!==null&&(document.body.style.paddingRight=`${Ri}px`,Ri=null)};function uu(l,h,y,E){Ii()?na(l,E):(u(y).then(()=>na(l,E)),Id(s)),Ai?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),Ei()&&(Ad(),cu(),Dd()),Rd()}function Rd(){Ut([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function ln(l){l=Sm(l);let h=$t.swalPromiseResolve.get(this),y=Md(this);this.isAwaitingPromise?l.isDismissed||(Mi(this),h(l)):y&&h(l)}let Md=l=>{let h=S();if(!h)return!1;let y=ke.innerParams.get(l);if(!y||un(h,y.hideClass.popup))return!1;Ut(h,y.showClass.popup),Ee(h,y.hideClass.popup);let E=C();return Ut(E,y.showClass.backdrop),Ee(E,y.hideClass.backdrop),ko(l,h,y),!0};function Tn(l){let h=$t.swalPromiseReject.get(this);Mi(this),h&&h(l)}let Mi=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ke.innerParams.get(l)||l._destroy())},Sm=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),ko=(l,h,y)=>{var E;let P=C(),$=Yc(h);typeof y.willClose=="function"&&y.willClose(h),(E=s.eventEmitter)===null||E===void 0||E.emit("willClose",h),$?Nd(l,h,P,y.returnFocus,y.didClose):uu(l,P,y.returnFocus,y.didClose)},Nd=(l,h,y,E,P)=>{s.swalCloseEventFinishedCallback=uu.bind(null,l,y,E,P);let $=function(Ie){if(Ie.target===h){var Ne;(Ne=s.swalCloseEventFinishedCallback)===null||Ne===void 0||Ne.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$)}};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},na=(l,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(l.params)(),(y=s.eventEmitter)===null||y===void 0||y.emit("didClose"),l._destroy&&l._destroy()})},Bn=l=>{let h=S();if(h||new Hd,h=S(),!h)return;let y=wi();Ii()?rt(D()):xd(h,l),Ke(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},xd=(l,h)=>{let y=Vn(),E=wi();!y||!E||(!h&&Mt(cn())&&(h=cn()),Ke(y),h&&(rt(h),E.setAttribute("data-button-to-replace",h.className),y.insertBefore(E,h)),Ee([l,y],g.loading))},ra=(l,h)=>{h.input==="select"||h.input==="radio"?Od(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(De(h.inputValue)||I(h.inputValue))&&(Bn(cn()),lu(l,h))},Am=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Pd(y);case"radio":return Oo(y);case"file":return kd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Pd=l=>l.checked?1:0,Oo=l=>l.checked?l.value:null,kd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Od=(l,h)=>{let y=S();if(!y)return;let E=P=>{h.input==="select"?du(y,Vr(P),h):h.input==="radio"&&Fd(y,Vr(P),h)};De(h.inputOptions)||I(h.inputOptions)?(Bn(cn()),R(h.inputOptions).then(P=>{l.hideLoading(),E(P)})):typeof h.inputOptions=="object"?E(h.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},lu=(l,h)=>{let y=l.getInput();y&&(rt(y),R(h.inputValue).then(E=>{y.value=h.input==="number"?`${parseFloat(E)||0}`:`${E}`,Ke(y),y.focus(),l.hideLoading()}).catch(E=>{U(`Error in inputValue promise: ${E}`),y.value="",Ke(y),y.focus(),l.hideLoading()}))};function du(l,h,y){let E=tr(l,g.select);if(!E)return;let P=($,Ie,Ne)=>{let Ge=document.createElement("option");Ge.value=Ne,Rt(Ge,Ie),Ge.selected=hu(Ne,y.inputValue),$.appendChild(Ge)};h.forEach($=>{let Ie=$[0],Ne=$[1];if(Array.isArray(Ne)){let Ge=document.createElement("optgroup");Ge.label=Ie,Ge.disabled=!1,E.appendChild(Ge),Ne.forEach(aa=>P(Ge,aa[1],aa[0]))}else P(E,Ne,Ie)}),E.focus()}function Fd(l,h,y){let E=tr(l,g.radio);if(!E)return;h.forEach($=>{let Ie=$[0],Ne=$[1],Ge=document.createElement("input"),aa=document.createElement("label");Ge.type="radio",Ge.name=g.radio,Ge.value=Ie,hu(Ie,y.inputValue)&&(Ge.checked=!0);let Nm=document.createElement("span");Rt(Nm,Ne),Nm.className=g.label,aa.appendChild(Ge),aa.appendChild(Nm),E.appendChild(aa)});let P=E.querySelectorAll("input");P.length&&P[0].focus()}let Vr=l=>{let h=[];return l instanceof Map?l.forEach((y,E)=>{let P=y;typeof P=="object"&&(P=Vr(P)),h.push([E,P])}):Object.keys(l).forEach(y=>{let E=l[y];typeof E=="object"&&(E=Vr(E)),h.push([y,E])}),h},hu=(l,h)=>!!h&&h.toString()===l.toString(),Ld=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.input?fu(l,"confirm"):oa(l,!0)},jr=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?fu(l,"deny"):ia(l,!1)},Vd=(l,h)=>{l.disableButtons(),h(Ti.cancel)},fu=(l,h)=>{let y=ke.innerParams.get(l);if(!y.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let E=l.getInput(),P=Am(l,y);y.inputValidator?jd(l,P,h):E&&!E.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||E.validationMessage)):h==="deny"?ia(l,P):oa(l,P)},jd=(l,h,y)=>{let E=ke.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>R(E.inputValidator(h,E.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?ia(l,h):oa(l,h)})},ia=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnDeny&&Bn(kt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preDeny(h,y.validationMessage))).then(P=>{P===!1?(l.hideLoading(),Mi(l)):l.close({isDenied:!0,value:typeof P>"u"?h:P})}).catch(P=>Ft(l||void 0,P))):l.close({isDenied:!0,value:h})},Fo=(l,h)=>{l.close({isConfirmed:!0,value:h})},Ft=(l,h)=>{l.rejectPromise(h)},oa=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnConfirm&&Bn(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>R(y.preConfirm(h,y.validationMessage))).then(P=>{Mt(yi())||P===!1?(l.hideLoading(),Mi(l)):Fo(l,typeof P>"u"?h:P)}).catch(P=>Ft(l||void 0,P))):Fo(l,h)};function Lo(){let l=ke.innerParams.get(this);if(!l)return;let h=ke.domCache.get(this);rt(h.loader),Ii()?l.icon&&Ke(D()):Ni(h),Ut([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Ni=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Ke(h[0],"inline-block"):ud()&&rt(l.actions)};function c(){let l=ke.innerParams.get(this),h=ke.domCache.get(this);return h?js(h.popup,l.input):null}function f(l,h,y){let E=ke.domCache.get(l);h.forEach(P=>{E[P].disabled=y})}function m(l,h){let y=S();if(!(!y||!l))if(l.type==="radio"){let E=y.querySelectorAll(`[name="${g.radio}"]`);for(let P=0;P<E.length;P++)E[P].disabled=h}else l.disabled=h}function v(){f(this,["confirmButton","denyButton","cancelButton"],!1)}function N(){f(this,["confirmButton","denyButton","cancelButton"],!0)}function x(){m(this.getInput(),!1)}function j(){m(this.getInput(),!0)}function Re(l){let h=ke.domCache.get(this),y=ke.innerParams.get(this);Rt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&Ee(h.validationMessage,y.customClass.validationMessage),Ke(h.validationMessage);let E=this.getInput();E&&(E.setAttribute("aria-invalid","true"),E.setAttribute("aria-describedby",g["validation-message"]),Wc(E),Ee(E,g.inputerror))}function ot(){let l=ke.domCache.get(this);l.validationMessage&&rt(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Ut(h,g.inputerror))}let de={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},_t=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Et={allowEnterKey:void 0},xi=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Zt=l=>Object.prototype.hasOwnProperty.call(de,l),Vo=l=>_t.indexOf(l)!==-1,sa=l=>Et[l],kP=l=>{Zt(l)||k(`Unknown parameter "${l}"`)},OP=l=>{xi.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},FP=l=>{let h=sa(l);h&&Ae(l,h)},Jb=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),l.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(l.theme)&&k(`Invalid theme "${l.theme}"`);for(let h in l)kP(h),l.toast&&OP(h),FP(h)};function Xb(l){let h=C(),y=S(),E=ke.innerParams.get(this);if(!y||un(y,E.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let P=LP(l),$=Object.assign({},E,P);Jb($),h.dataset.swal2Theme=$.theme,Di(this,$),ke.innerParams.set(this,$),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let LP=l=>{let h={};return Object.keys(l).forEach(y=>{Vo(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function eC(){let l=ke.domCache.get(this),h=ke.innerParams.get(this);if(!h){tC(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),VP(this)}let VP=l=>{tC(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},tC=l=>{l.isAwaitingPromise?(Rm(ke,l),l.isAwaitingPromise=!0):(Rm($t,l),Rm(ke,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Rm=(l,h)=>{for(let y in l)l[y].delete(h)};var jP=Object.freeze({__proto__:null,_destroy:eC,close:ln,closeModal:ln,closePopup:ln,closeToast:ln,disableButtons:N,disableInput:j,disableLoading:Lo,enableButtons:v,enableInput:x,getInput:c,handleAwaitingPromise:Mi,hideLoading:Lo,rejectPromise:Tn,resetValidationMessage:ot,showValidationMessage:Re,update:Xb});let BP=(l,h,y)=>{l.toast?UP(l,h,y):(HP(h),qP(h),zP(l,h,y))},UP=(l,h,y)=>{h.popup.onclick=()=>{l&&($P(l)||l.timer||l.input)||y(Ti.close)}},$P=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Bd=!1,HP=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Bd=!0)}}},qP=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Bd=!0)}}},zP=(l,h,y)=>{h.container.onclick=E=>{if(Bd){Bd=!1;return}E.target===h.container&&nt(l.allowOutsideClick)&&y(Ti.backdrop)}},GP=l=>typeof l=="object"&&l.jquery,nC=l=>l instanceof Element||GP(l),WP=l=>{let h={};return typeof l[0]=="object"&&!nC(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,E)=>{let P=l[E];typeof P=="string"||nC(P)?h[y]=P:P!==void 0&&U(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof P}`)}),h};function KP(...l){return new this(...l)}function QP(l){class h extends this{_main(E,P){return super._main(E,Object.assign({},l,P))}}return h}let YP=()=>s.timeout&&s.timeout.getTimerLeft(),rC=()=>{if(s.timeout)return Zc(),s.timeout.stop()},iC=()=>{if(s.timeout){let l=s.timeout.start();return Bs(l),l}},ZP=()=>{let l=s.timeout;return l&&(l.running?rC():iC())},JP=l=>{if(s.timeout){let h=s.timeout.increase(l);return Bs(h,!0),h}},XP=()=>!!(s.timeout&&s.timeout.isRunning()),oC=!1,Mm={};function ek(l="data-swal-template"){Mm[l]=this,oC||(document.body.addEventListener("click",tk),oC=!0)}let tk=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Mm){let E=h.getAttribute(y);if(E){Mm[y].fire({template:E});return}}};class nk{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let E=this._getHandlersByEventName(h);E.includes(y)||E.push(y)}once(h,y){let E=(...P)=>{this.removeListener(h,E),y.apply(this,P)};this.on(h,E)}emit(h,...y){this._getHandlersByEventName(h).forEach(E=>{try{E.apply(this,y)}catch(P){console.error(P)}})}removeListener(h,y){let E=this._getHandlersByEventName(h),P=E.indexOf(y);P>-1&&E.splice(P,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new nk;var rk=Object.freeze({__proto__:null,argsToParams:WP,bindClickHandler:ek,clickCancel:Em,clickConfirm:su,clickDeny:_m,enableLoading:Bn,fire:KP,getActions:Vn,getCancelButton:vi,getCloseButton:zc,getConfirmButton:cn,getContainer:C,getDenyButton:kt,getFocusableElements:_i,getFooter:ad,getHtmlContainer:qc,getIcon:D,getIconContent:Ln,getImage:mi,getInputLabel:vt,getLoader:wi,getPopup:S,getProgressSteps:Pr,getTimerLeft:YP,getTimerProgressBar:er,getTitle:gi,getValidationMessage:yi,increaseTimer:JP,isDeprecatedParameter:sa,isLoading:Gc,isTimerRunning:XP,isUpdatableParameter:Vo,isValidParameter:Zt,isVisible:wm,mixin:QP,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:iC,showLoading:Bn,stopTimer:rC,toggleTimer:ZP});class ik{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let sC=["swal-title","swal-html","swal-footer"],ok=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return fk(y),Object.assign(sk(y),ak(y),ck(y),uk(y),lk(y),dk(y),hk(y,sC))},sk=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(E=>{jo(E,["name","value"]);let P=E.getAttribute("name"),$=E.getAttribute("value");!P||!$||(typeof de[P]=="boolean"?h[P]=$!=="false":typeof de[P]=="object"?h[P]=JSON.parse($):h[P]=$)}),h},ak=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(E=>{let P=E.getAttribute("name"),$=E.getAttribute("value");!P||!$||(h[P]=new Function(`return ${$}`)())}),h},ck=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(E=>{jo(E,["type","color","aria-label"]);let P=E.getAttribute("type");!P||!["confirm","cancel","deny"].includes(P)||(h[`${P}ButtonText`]=E.innerHTML,h[`show${O(P)}Button`]=!0,E.hasAttribute("color")&&(h[`${P}ButtonColor`]=E.getAttribute("color")),E.hasAttribute("aria-label")&&(h[`${P}ButtonAriaLabel`]=E.getAttribute("aria-label")))}),h},uk=l=>{let h={},y=l.querySelector("swal-image");return y&&(jo(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},lk=l=>{let h={},y=l.querySelector("swal-icon");return y&&(jo(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},dk=l=>{let h={},y=l.querySelector("swal-input");y&&(jo(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let E=Array.from(l.querySelectorAll("swal-input-option"));return E.length&&(h.inputOptions={},E.forEach(P=>{jo(P,["value"]);let $=P.getAttribute("value");if(!$)return;let Ie=P.innerHTML;h.inputOptions[$]=Ie})),h},hk=(l,h)=>{let y={};for(let E in h){let P=h[E],$=l.querySelector(P);$&&(jo($,[]),y[P.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},fk=l=>{let h=sC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let E=y.tagName.toLowerCase();h.includes(E)||k(`Unrecognized element <${E}>`)})},jo=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},aC=10,pk=l=>{let h=C(),y=S();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let P=window.getComputedStyle(document.body).overflowY;yk(h,y,l),setTimeout(()=>{gk(h,y)},aC),Ei()&&(mk(h,l.scrollbarPadding,P),Dm()),!Ii()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),Ut(h,g["no-transition"])},Ud=l=>{let h=S();if(l.target!==h)return;let y=C();h.removeEventListener("animationend",Ud),h.removeEventListener("transitionend",Ud),y.style.overflowY="auto"},gk=(l,h)=>{Yc(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Ud),h.addEventListener("transitionend",Ud)):l.style.overflowY="auto"},mk=(l,h,y)=>{ta(),h&&y!=="hidden"&&Tm(y),setTimeout(()=>{l.scrollTop=0})},yk=(l,h,y)=>{Ee(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Ke(h,"grid"),setTimeout(()=>{Ee(h,y.showClass.popup),h.style.removeProperty("opacity")},aC)):Ke(h,"grid"),Ee([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&Ee([document.documentElement,document.body],g["height-auto"])};var cC={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function vk(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=cC.email),l.input==="url"&&(l.inputValidator=cC.url))}function wk(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function _k(l){vk(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),wk(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),kr(l)}let or;var $d=new WeakMap;class et{constructor(...h){if(r(this,$d,void 0),typeof window>"u")return;or=this;let y=Object.freeze(this.constructor.argsToParams(h));this.params=y,this.isAwaitingPromise=!1,i($d,this,this._main(or.params))}_main(h,y={}){if(Jb(Object.assign({},y,h)),s.currentInstance){let $=$t.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:Ie}=s.currentInstance;s.currentInstance._destroy(),Ie||$({isDismissed:!0}),Ei()&&Dd()}s.currentInstance=or;let E=Ik(h,y);_k(E),Object.freeze(E),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let P=bk(or);return Di(or,E),ke.innerParams.set(or,E),Ek(or,P,E)}then(h){return t($d,this).then(h)}finally(h){return t($d,this).finally(h)}}let Ek=(l,h,y)=>new Promise((E,P)=>{let $=Ie=>{l.close({isDismissed:!0,dismiss:Ie})};$t.swalPromiseResolve.set(l,E),$t.swalPromiseReject.set(l,P),h.confirmButton.onclick=()=>{Ld(l)},h.denyButton.onclick=()=>{jr(l)},h.cancelButton.onclick=()=>{Vd(l,$)},h.closeButton.onclick=()=>{$(Ti.close)},BP(y,h,$),No(s,y,$),ra(l,y),pk(y),Ck(s,y,$),Dk(h,y),setTimeout(()=>{h.container.scrollTop=0})}),Ik=(l,h)=>{let y=ok(l),E=Object.assign({},de,h,y,l);return E.showClass=Object.assign({},de.showClass,E.showClass),E.hideClass=Object.assign({},de.hideClass,E.hideClass),E.animation===!1&&(E.showClass={backdrop:"swal2-noanimation"},E.hideClass={}),E},bk=l=>{let h={popup:S(),container:C(),actions:Vn(),confirmButton:cn(),denyButton:kt(),cancelButton:vi(),loader:wi(),closeButton:zc(),validationMessage:yi(),progressSteps:Pr()};return ke.domCache.set(l,h),h},Ck=(l,h,y)=>{let E=er();rt(E),h.timer&&(l.timeout=new ik(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Ke(E),Ot(E,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Bs(h.timer)})))},Dk=(l,h)=>{if(!h.toast){if(!nt(h.allowEnterKey)){Ae("allowEnterKey"),Ak();return}Tk(l)||Sk(l,h)||Dn(-1,1)}},Tk=l=>{let h=Array.from(l.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&Mt(y))return y.focus(),!0;return!1},Sk=(l,h)=>h.focusDeny&&Mt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Mt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Mt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,Ak=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};et.prototype.disableButtons=N,et.prototype.enableButtons=v,et.prototype.getInput=c,et.prototype.disableInput=j,et.prototype.enableInput=x,et.prototype.hideLoading=Lo,et.prototype.disableLoading=Lo,et.prototype.showValidationMessage=Re,et.prototype.resetValidationMessage=ot,et.prototype.close=ln,et.prototype.closePopup=ln,et.prototype.closeModal=ln,et.prototype.closeToast=ln,et.prototype.rejectPromise=Tn,et.prototype.update=Xb,et.prototype._destroy=eC,Object.assign(et,rk),Object.keys(jP).forEach(l=>{et[l]=function(...h){return or&&or[l]?or[l](...h):null}}),et.DismissReason=Ti,et.version="11.23.0";let Hd=et;return Hd.default=Hd,Hd});typeof xr<"u"&&xr.Sweetalert2&&(xr.swal=xr.sweetAlert=xr.Swal=xr.SweetAlert=xr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function Fm(n,e){return Object.is(n,e)}var ft=null,qd=!1,Lm=1,Sn=Symbol("SIGNAL");function ge(n){let e=ft;return ft=n,e}function Vm(){return ft}var gu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mu(n){if(qd)throw new Error("");if(ft===null)return;ft.consumerOnSignalRead(n);let e=ft.nextProducerIndex++;if(Kd(ft),e<ft.producerNode.length&&ft.producerNode[e]!==n&&pu(ft)){let t=ft.producerNode[e];Wd(t,ft.producerIndexOfThis[e])}ft.producerNode[e]!==n&&(ft.producerNode[e]=n,ft.producerIndexOfThis[e]=pu(ft)?pC(n,ft,e):0),ft.producerLastReadVersion[e]=n.version}function fC(){Lm++}function jm(n){if(!(pu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Lm)){if(!n.producerMustRecompute(n)&&!Hm(n)){Om(n);return}n.producerRecomputeValue(n),Om(n)}}function Bm(n){if(n.liveConsumerNode===void 0)return;let e=qd;qd=!0;try{for(let t of n.liveConsumerNode)t.dirty||jk(t)}finally{qd=e}}function Um(){return ft?.consumerAllowSignalWrites!==!1}function jk(n){n.dirty=!0,Bm(n),n.consumerMarkedDirty?.(n)}function Om(n){n.dirty=!1,n.lastCleanEpoch=Lm}function Gd(n){return n&&(n.nextProducerIndex=0),ge(n)}function $m(n,e){if(ge(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Wd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hm(n){Kd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(jm(t),r!==t.version))return!0}return!1}function qm(n){if(Kd(n),pu(n))for(let e=0;e<n.producerNode.length;e++)Wd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function pC(n,e,t){if(gC(n),n.liveConsumerNode.length===0&&mC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=pC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Wd(n,e){if(gC(n),n.liveConsumerNode.length===1&&mC(n))for(let r=0;r<n.producerNode.length;r++)Wd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Kd(i),i.producerIndexOfThis[r]=e}}function pu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Kd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function gC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function mC(n){return n.producerNode!==void 0}function zm(n,e){let t=Object.create(Bk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(jm(t),mu(t),t.value===zd)throw t.error;return t.value};return r[Sn]=t,r}var Pm=Symbol("UNSET"),km=Symbol("COMPUTING"),zd=Symbol("ERRORED"),Bk=he(B({},gu),{value:Pm,dirty:!0,error:null,equal:Fm,kind:"computed",producerMustRecompute(n){return n.value===Pm||n.value===km},producerRecomputeValue(n){if(n.value===km)throw new Error("Detected cycle in computations.");let e=n.value;n.value=km;let t=Gd(n),r,i=!1;try{r=n.computation(),ge(null),i=e!==Pm&&e!==zd&&r!==zd&&n.equal(e,r)}catch(o){r=zd,n.error=o}finally{$m(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Uk(){throw new Error}var yC=Uk;function vC(n){yC(n)}function Gm(n){yC=n}var $k=null;function Wm(n,e){let t=Object.create(Qd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(mu(t),t.value);return r[Sn]=t,r}function yu(n,e){Um()||vC(n),n.equal(n.value,e)||(n.value=e,Hk(n))}function Km(n,e){Um()||vC(n),yu(n,e(n.value))}var Qd=he(B({},gu),{equal:Fm,value:void 0,kind:"signal"});function Hk(n){n.version++,fC(),Bm(n),$k?.()}function Qm(n){let e=ge(null);try{return n()}finally{ge(e)}}var Ym;function vu(){return Ym}function Br(n){let e=Ym;return Ym=n,e}var Yd=Symbol("NotFound");function oe(n){return typeof n=="function"}function ca(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zd=ca(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Bo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Qe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Zd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{wC(o)}catch(s){e=e??[],s instanceof Zd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)wC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Bo(t,e)}remove(e){let{_finalizers:t}=this;t&&Bo(t,e),e instanceof n&&e._removeParent(this)}};Qe.EMPTY=(()=>{let n=new Qe;return n.closed=!0,n})();var Zm=Qe.EMPTY;function Jd(n){return n instanceof Qe||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function wC(n){oe(n)?n():n.unsubscribe()}var Un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ua={setTimeout(n,e,...t){let{delegate:r}=ua;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ua;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xd(n){ua.setTimeout(()=>{let{onUnhandledError:e}=Un;if(e)e(n);else throw n})}function wu(){}var _C=Jm("C",void 0,void 0);function EC(n){return Jm("E",void 0,n)}function IC(n){return Jm("N",n,void 0)}function Jm(n,e,t){return{kind:n,value:e,error:t}}var Uo=null;function la(n){if(Un.useDeprecatedSynchronousErrorHandling){let e=!Uo;if(e&&(Uo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Uo;if(Uo=null,t)throw r}}else n()}function bC(n){Un.useDeprecatedSynchronousErrorHandling&&Uo&&(Uo.errorThrown=!0,Uo.error=n)}var $o=class extends Qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jd(e)&&e.add(this)):this.destination=Qk}static create(e,t,r){return new da(e,t,r)}next(e){this.isStopped?ey(IC(e),this):this._next(e)}error(e){this.isStopped?ey(EC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ey(_C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Wk=Function.prototype.bind;function Xm(n,e){return Wk.call(n,e)}var ty=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){eh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){eh(r)}else eh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eh(t)}}},da=class extends $o{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xm(e.next,o),error:e.error&&Xm(e.error,o),complete:e.complete&&Xm(e.complete,o)}):i=e}this.destination=new ty(i)}};function eh(n){Un.useDeprecatedSynchronousErrorHandling?bC(n):Xd(n)}function Kk(n){throw n}function ey(n,e){let{onStoppedNotification:t}=Un;t&&ua.setTimeout(()=>t(n,e))}var Qk={closed:!0,next:wu,error:Kk,complete:wu};var ha=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dn(n){return n}function th(...n){return ny(n)}function ny(n){return n.length===0?dn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Zk(t)?t:new da(t,r,i);return la(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=CC(r),new r((i,o)=>{let s=new da({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ha](){return this}pipe(...t){return ny(t)(this)}toPromise(t){return t=CC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function CC(n){var e;return(e=n??Un.Promise)!==null&&e!==void 0?e:Promise}function Yk(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function Zk(n){return n&&n instanceof $o||Yk(n)&&Jd(n)}function ry(n){return oe(n?.lift)}function be(n){return e=>{if(ry(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new iy(n,e,t,r,i)}var iy=class extends $o{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fa(){return be((n,e)=>{let t=null;n._refCount++;let r=we(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var pa=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ry(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Qe;let t=this.getSubject();e.add(this.source.subscribe(we(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Qe.EMPTY)}return e}refCount(){return fa()(this)}};var DC=ca(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pt=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new nh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new DC}next(t){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){la(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zm:(this.currentObservers=null,o.push(t),new Qe(()=>{this.currentObservers=null,Bo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new nh(e,t),n})(),nh=class extends pt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Zm}};var gt=class extends pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var oy={now(){return(oy.delegate||Date).now()},delegate:void 0};var rh=class extends Qe{constructor(e,t){super()}schedule(e,t=0){return this}};var _u={setInterval(n,e,...t){let{delegate:r}=_u;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=_u;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ga=class extends rh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return _u.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&_u.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Bo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ma=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ma.now=oy.now;var ya=class extends ma{constructor(e,t=ma.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var sy=new ya(ga);var ih=class extends ga{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var oh=class extends ya{};var ay=new oh(ih);var Jt=new le(n=>n.complete());function TC(n){return n&&oe(n.schedule)}function SC(n){return n[n.length-1]}function sh(n){return oe(SC(n))?n.pop():void 0}function ki(n){return TC(SC(n))?n.pop():void 0}function ah(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(g){s(g)}}function u(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function AC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ho(n){return this instanceof Ho?(this.v=n,this):new Ho(n)}function MC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(M){return Promise.resolve(M).then(_,g)}}function a(_,M){r[_]&&(i[_]=function(O){return new Promise(function(k,U){o.push([_,O,k,U])>1||u(_,O)})},M&&(i[_]=M(i[_])))}function u(_,M){try{d(r[_](M))}catch(O){w(o[0][3],O)}}function d(_){_.value instanceof Ho?Promise.resolve(_.value.v).then(p,g):w(o[0][2],_)}function p(_){u("next",_)}function g(_){u("throw",_)}function w(_,M){_(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function NC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof AC=="function"?AC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var ch=n=>n&&typeof n.length=="number"&&typeof n!="function";function uh(n){return oe(n?.then)}function lh(n){return oe(n[ha])}function dh(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function hh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fh=Jk();function ph(n){return oe(n?.[fh])}function gh(n){return MC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ho(t.read());if(i)return yield Ho(void 0);yield yield Ho(r)}}finally{t.releaseLock()}})}function mh(n){return oe(n?.getReader)}function st(n){if(n instanceof le)return n;if(n!=null){if(lh(n))return Xk(n);if(ch(n))return eO(n);if(uh(n))return tO(n);if(dh(n))return xC(n);if(ph(n))return nO(n);if(mh(n))return rO(n)}throw hh(n)}function Xk(n){return new le(e=>{let t=n[ha]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eO(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function tO(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xd)})}function nO(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function xC(n){return new le(e=>{iO(n,e).catch(t=>e.error(t))})}function rO(n){return xC(gh(n))}function iO(n,e){var t,r,i,o;return RC(this,void 0,void 0,function*(){try{for(t=NC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Xt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Oi(n,e=0){return be((t,r)=>{t.subscribe(we(r,i=>Xt(r,n,()=>r.next(i),e),()=>Xt(r,n,()=>r.complete(),e),i=>Xt(r,n,()=>r.error(i),e)))})}function Fi(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function PC(n,e){return st(n).pipe(Fi(e),Oi(e))}function kC(n,e){return st(n).pipe(Fi(e),Oi(e))}function OC(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function FC(n,e){return new le(t=>{let r;return Xt(t,e,()=>{r=n[fh](),Xt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function yh(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Xt(t,e,()=>{let r=n[Symbol.asyncIterator]();Xt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function LC(n,e){return yh(gh(n),e)}function VC(n,e){if(n!=null){if(lh(n))return PC(n,e);if(ch(n))return OC(n,e);if(uh(n))return kC(n,e);if(dh(n))return yh(n,e);if(ph(n))return FC(n,e);if(mh(n))return LC(n,e)}throw hh(n)}function xe(n,e){return e?VC(n,e):st(n)}function ne(...n){let e=ki(n);return xe(n,e)}function va(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function cy(n){return!!n&&(n instanceof le||oe(n.lift)&&oe(n.subscribe))}var Ur=ca(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function re(n,e){return be((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:oO}=Array;function sO(n,e){return oO(e)?n(...e):n(e)}function vh(n){return re(e=>sO(n,e))}var{isArray:aO}=Array,{getPrototypeOf:cO,prototype:uO,keys:lO}=Object;function wh(n){if(n.length===1){let e=n[0];if(aO(e))return{args:e,keys:null};if(dO(e)){let t=lO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function dO(n){return n&&typeof n=="object"&&cO(n)===uO}function _h(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Eu(...n){let e=ki(n),t=sh(n),{args:r,keys:i}=wh(n);if(r.length===0)return xe([],e);let o=new le(hO(r,e,i?s=>_h(i,s):dn));return t?o.pipe(vh(t)):o}function hO(n,e,t=dn){return r=>{jC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)jC(e,()=>{let d=xe(n[u],e),p=!1;d.subscribe(we(r,g=>{o[u]=g,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jC(n,e,t){n?Xt(t,n,e):e()}function BC(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,g=!1,w=()=>{g&&!u.length&&!d&&e.complete()},_=O=>d<r?M(O):u.push(O),M=O=>{o&&e.next(O),d++;let k=!1;st(t(O,p++)).subscribe(we(e,U=>{i?.(U),o?_(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let U=u.shift();s?Xt(e,s,()=>M(U)):M(U)}w()}catch(U){e.error(U)}}))};return n.subscribe(we(e,_,()=>{g=!0,w()})),()=>{a?.()}}function mt(n,e,t=1/0){return oe(e)?mt((r,i)=>re((o,s)=>e(r,o,i,s))(st(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>BC(r,i,n,t)))}function UC(n=1/0){return mt(dn,n)}function $C(){return UC(1)}function wa(...n){return $C()(xe(n,ki(n)))}function Eh(n){return new le(e=>{st(n()).subscribe(e)})}function uy(...n){let e=sh(n),{args:t,keys:r}=wh(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let g=!1;st(t[p]).subscribe(we(o,w=>{g||(g=!0,d--),a[p]=w},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?_h(r,a):a),o.complete())}))}});return e?i.pipe(vh(e)):i}function An(n,e){return be((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Li(n){return be((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=st(n(s,Li(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function HC(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(we(s,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function _a(n,e){return oe(e)?mt(n,e,1):mt(n,1)}function Vi(n){return be((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $r(n){return n<=0?()=>Jt:be((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ih(n=fO){return be((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fO(){return new Ur}function Iu(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):dn,$r(1),t?Vi(e):Ih(()=>new Ur))}function Ea(n){return n<=0?()=>Jt:be((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ly(n,e){let t=arguments.length>=2;return r=>r.pipe(n?An((i,o)=>n(i,o,r)):dn,Ea(1),t?Vi(e):Ih(()=>new Ur))}function bh(n,e){return be(HC(n,e,arguments.length>=2,!0))}function Ch(...n){let e=ki(n);return be((t,r)=>{(e?wa(n,t,e):wa(n,t)).subscribe(r)})}function xt(n,e){return be((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,u=>{i?.unsubscribe();let d=0,p=o++;st(n(u,p)).subscribe(i=we(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dy(n){return be((e,t)=>{st(n).subscribe(we(t,()=>t.complete(),wu)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):dn}var pO="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,t){super(mO(e,t)),this.code=e}};function gO(n){return`NG0${Math.abs(n)}`}function mO(n,e){return`${gO(n)}${e?": "+e:""}`}var MD=Symbol("InputSignalNode#UNSET"),yO=he(B({},Qd),{transformFn:void 0,applyValueToInputSignal(n,e){yu(n,e)}});function ND(n,e){let t=Object.create(yO);t.value=n,t.transformFn=e?.transform;function r(){if(mu(t),t.value===MD){let i=null;throw new z(-950,i)}return t.value}return r[Sn]=t,r}function Pu(n){return{toString:n}.toString()}var Dh="__parameters__";function vO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function xD(n,e,t){return Pu(()=>{let r=vO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let g=u.hasOwnProperty(Dh)?u[Dh]:Object.defineProperty(u,Dh,{value:[]})[Dh];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function wO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function tn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(tn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function qC(n,e){return n?e?`${n} ${e}`:n:e||""}var _O=Ve({__forward_ref__:Ve});function Gt(n){return n.__forward_ref__=Gt,n.toString=function(){return tn(this())},n}function Ht(n){return PD(n)?n():n}function PD(n){return typeof n=="function"&&n.hasOwnProperty(_O)&&n.__forward_ref__===Gt}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $i(n){return{providers:n.providers||[],imports:n.imports||[]}}function sf(n){return zC(n,OD)||zC(n,FD)}function kD(n){return sf(n)!==null}function zC(n,e){return n.hasOwnProperty(e)?n[e]:null}function EO(n){let e=n&&(n[OD]||n[FD]);return e||null}function GC(n){return n&&(n.hasOwnProperty(WC)||n.hasOwnProperty(IO))?n[WC]:null}var OD=Ve({\u0275prov:Ve}),WC=Ve({\u0275inj:Ve}),FD=Ve({ngInjectableDef:Ve}),IO=Ve({ngInjectorDef:Ve}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function LD(n){return n&&!!n.\u0275providers}var bO=Ve({\u0275cmp:Ve}),CO=Ve({\u0275dir:Ve}),DO=Ve({\u0275pipe:Ve}),TO=Ve({\u0275mod:Ve}),xh=Ve({\u0275fac:Ve}),Tu=Ve({__NG_ELEMENT_ID__:Ve}),KC=Ve({__NG_ENV_ID__:Ve});function pv(n){return typeof n=="string"?n:n==null?"":String(n)}function SO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():pv(n)}function VD(n,e){throw new z(-200,n)}function gv(n,e){throw new z(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),Ty;function jD(){return Ty}function en(n){let e=Ty;return Ty=n,e}function BD(n,e,t){let r=sf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;gv(n,"Injector")}var AO={},qo=AO,Sy="__NG_DI_FLAG__",Ph=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Yd:qo,r)}},kh="ngTempTokenPath",RO="ngTokenPath",MO=/\n/gm,NO="\u0275",QC="__source";function xO(n,e=ue.Default){if(vu()===void 0)throw new z(-203,!1);if(vu()===null)return BD(n,void 0,e);{let t=vu(),r;return t instanceof Ph?r=t.injector:r=t,r.get(n,e&ue.Optional?null:void 0,e)}}function fe(n,e=ue.Default){return(jD()||xO)(Ht(n),e)}function L(n,e=ue.Default){return fe(n,af(e))}function af(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ay(n){let e=[];for(let t=0;t<n.length;t++){let r=Ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=PO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(fe(i,o))}else e.push(fe(r))}return e}function UD(n,e){return n[Sy]=e,n.prototype[Sy]=e,n}function PO(n){return n[Sy]}function kO(n,e,t,r){let i=n[kh];throw e[QC]&&i.unshift(e[QC]),n.message=OO(`
`+n.message,i,t,r),n[RO]=i,n[kh]=null,n}function OO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==NO?n.slice(2):n;let i=tn(e);if(Array.isArray(e))i=e.map(tn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):tn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(MO,`
  `)}`}var pn=UD(xD("Optional"),8);var FO=UD(xD("SkipSelf"),4);function Go(n,e){let t=n.hasOwnProperty(xh);return t?n[xh]:null}function mv(n,e){n.forEach(t=>Array.isArray(t)?mv(t,e):e(t))}function $D(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function LO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function VO(n,e,t){let r=ku(n,e);return r>=0?n[r|1]=t:(r=~r,LO(n,r,e,t)),r}function hy(n,e){let t=ku(n,e);if(t>=0)return n[t|1]}function ku(n,e){return jO(n,e,1)}function jO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Wo={},Rn=[],Su=new G(""),HD=new G("",-1),qD=new G(""),Fh=class{get(e,t=qo){if(t===qo){let r=new Error(`NullInjectorError: No provider for ${tn(e)}!`);throw r.name="NullInjectorError",r}return t}};function zD(n,e){let t=n[TO]||null;if(!t&&e===!0)throw new Error(`Type ${tn(n)} does not have '\u0275mod' property.`);return t}function Ko(n){return n[bO]||null}function BO(n){return n[CO]||null}function UO(n){return n[DO]||null}function Gr(n){return{\u0275providers:n}}function $O(...n){return{\u0275providers:GD(!0,n),\u0275fromNgModule:!0}}function GD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return mv(e,s=>{let a=s;Ry(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WD(i,o),t}function WD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];yv(i,o=>{e(o,r)})}}function Ry(n,e,t,r){if(n=Ht(n),!n)return!1;let i=null,o=GC(n),s=!o&&Ko(n);if(!o&&!s){let u=n.ngModule;if(o=GC(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Ry(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{mv(o.imports,p=>{Ry(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&WD(d,e)}if(!a){let d=Go(i)||(()=>new i);e({provide:i,useFactory:d,deps:Rn},i),e({provide:qD,useValue:i,multi:!0},i),e({provide:Su,useValue:()=>fe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;yv(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function yv(n,e){for(let t of n)LD(t)&&(t=t.\u0275providers),Array.isArray(t)?yv(t,e):e(t)}var HO=Ve({provide:String,useValue:Ve});function KD(n){return n!==null&&typeof n=="object"&&HO in n}function qO(n){return!!(n&&n.useExisting)}function zO(n){return!!(n&&n.useFactory)}function Ta(n){return typeof n=="function"}function GO(n){return!!n.useClass}var cf=new G(""),Sh={},YC={},fy;function vv(){return fy===void 0&&(fy=new Fh),fy}var nn=class{},Au=class extends nn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ny(e,s=>this.processProvider(s)),this.records.set(HD,Ia(void 0,this)),i.has("environment")&&this.records.set(nn,Ia(void 0,this));let o=this.records.get(cf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qD,Rn,ue.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Yd:qo,r)}destroy(){Cu(this),this._destroyed=!0;let e=ge(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return Cu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cu(this);let t=Br(this),r=en(void 0),i;try{return e()}finally{Br(t),en(r)}}get(e,t=qo,r=ue.Default){if(Cu(this),e.hasOwnProperty(KC))return e[KC](this);r=af(r);let i,o=Br(this),s=en(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=ZO(e)&&sf(e);d&&this.injectableDefInScope(d)?u=Ia(My(e),Sh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ue.Self?vv():this.parent;return t=r&ue.Optional&&t===qo?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[kh]=a[kh]||[]).unshift(tn(e)),o)throw a;return kO(a,e,"R3InjectorError",this.source)}else throw a}finally{en(s),Br(o)}}resolveInjectorInitializers(){let e=ge(null),t=Br(this),r=en(void 0),i;try{let o=this.get(Su,Rn,ue.Self);for(let s of o)s()}finally{Br(t),en(r),ge(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(tn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let t=Ta(e)?e:Ht(e&&e.provide),r=KO(e);if(!Ta(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ia(void 0,Sh,!0),i.factory=()=>Ay(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ge(null);try{return t.value===YC?VD(tn(e)):t.value===Sh&&(t.value=YC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&YO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function My(n){let e=sf(n),t=e!==null?e.factory:Go(n);if(t!==null)return t;if(n instanceof G)throw new z(204,!1);if(n instanceof Function)return WO(n);throw new z(204,!1)}function WO(n){if(n.length>0)throw new z(204,!1);let t=EO(n);return t!==null?()=>t.factory(n):()=>new n}function KO(n){if(KD(n))return Ia(void 0,n.useValue);{let e=QD(n);return Ia(e,Sh)}}function QD(n,e,t){let r;if(Ta(n)){let i=Ht(n);return Go(i)||My(i)}else if(KD(n))r=()=>Ht(n.useValue);else if(zO(n))r=()=>n.useFactory(...Ay(n.deps||[]));else if(qO(n))r=(i,o)=>fe(Ht(n.useExisting),o!==void 0&&o&ue.Optional?ue.Optional:void 0);else{let i=Ht(n&&(n.useClass||n.provide));if(QO(n))r=()=>new i(...Ay(n.deps));else return Go(i)||My(i)}return r}function Cu(n){if(n.destroyed)throw new z(205,!1)}function Ia(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function QO(n){return!!n.deps}function YO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function ZO(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function Ny(n,e){for(let t of n)Array.isArray(t)?Ny(t,e):t&&LD(t)?Ny(t.\u0275providers,e):e(t)}function Wt(n,e){let t;n instanceof Au?(Cu(n),t=n):t=new Ph(n);let r,i=Br(t),o=en(void 0);try{return e()}finally{Br(i),en(o)}}function YD(){return jD()!==void 0||vu()!=null}function ZD(n){if(!YD())throw new z(-203,!1)}function JO(n){return typeof n=="function"}var Wr=0,me=1,ae=2,qt=3,Hn=4,qn=5,Lh=6,Vh=7,zt=8,Sa=9,Ui=10,yt=11,Ru=12,ZC=13,Fa=14,ar=15,Aa=16,ba=17,Ra=18,uf=19,JD=20,ji=21,py=22,jh=23,Mn=24,gy=25,fn=26,XD=1;var Qo=7,Bh=8,Uh=9,hn=10;function Bi(n){return Array.isArray(n)&&typeof n[XD]=="object"}function Kr(n){return Array.isArray(n)&&n[XD]===!0}function e0(n){return(n.flags&4)!==0}function La(n){return n.componentOffset>-1}function wv(n){return(n.flags&1)===1}function cr(n){return!!n.template}function $h(n){return(n[ae]&512)!==0}function Va(n){return(n[ae]&256)===256}var xy=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function t0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Hi=(()=>{let n=()=>n0;return n.ngInherit=!0,n})();function n0(n){return n.type.prototype.ngOnChanges&&(n.setInput=e1),XO}function XO(){let n=i0(this),e=n?.current;if(e){let t=n.previous;if(t===Wo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function e1(n,e,t,r,i){let o=this.declaredInputs[r],s=i0(n)||t1(n,{previous:Wo,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new xy(d&&d.currentValue,t,u===Wo),t0(n,e,i,t)}var r0="__ngSimpleChanges__";function i0(n){return n[r0]||null}function t1(n,e){return n[r0]=e}var JC=null;var Be=function(n,e=null,t){JC?.(n,e,t)},n1="svg",r1="math";function ur(n){for(;Array.isArray(n);)n=n[Wr];return n}function o0(n,e){return ur(e[n])}function hr(n,e){return ur(e[n.index])}function _v(n,e){return n.data[e]}function i1(n,e){return n[e]}function o1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function lr(n,e){let t=e[n];return Bi(t)?t:t[Wr]}function Ev(n){return(n[ae]&128)===128}function s1(n){return Kr(n[qt])}function Hh(n,e){return e==null?null:n[e]}function s0(n){n[ba]=0}function a0(n){n[ae]&1024||(n[ae]|=1024,Ev(n)&&df(n))}function a1(n,e){for(;n>0;)e=e[Fa],n--;return e}function lf(n){return!!(n[ae]&9216||n[Mn]?.dirty)}function Py(n){n[Ui].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),lf(n)&&df(n)}function df(n){n[Ui].changeDetectionScheduler?.notify(0);let e=Yo(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!Ev(e)));)e=Yo(e)}function c0(n,e){if(Va(n))throw new z(911,!1);n[ji]===null&&(n[ji]=[]),n[ji].push(e)}function c1(n,e){if(n[ji]===null)return;let t=n[ji].indexOf(e);t!==-1&&n[ji].splice(t,1)}function Yo(n){let e=n[qt];return Kr(e)?e[qt]:e}function u0(n){return n[Vh]??=[]}function l0(n){return n.cleanup??=[]}var ye={lFrame:w0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ky=!1;function u1(){return ye.lFrame.elementDepthCount}function l1(){ye.lFrame.elementDepthCount++}function d1(){ye.lFrame.elementDepthCount--}function d0(){return ye.bindingsEnabled}function h1(){return ye.skipHydrationRootTNode!==null}function f1(n){return ye.skipHydrationRootTNode===n}function p1(){ye.skipHydrationRootTNode=null}function je(){return ye.lFrame.lView}function rn(){return ye.lFrame.tView}function Ou(n){return ye.lFrame.contextLView=n,n[zt]}function Fu(n){return ye.lFrame.contextLView=null,n}function Nn(){let n=h0();for(;n!==null&&n.type===64;)n=n.parent;return n}function h0(){return ye.lFrame.currentTNode}function g1(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Lu(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function f0(){return ye.lFrame.isParent}function m1(){ye.lFrame.isParent=!1}function p0(){return ky}function XC(n){let e=ky;return ky=n,e}function g0(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function y1(n){return ye.lFrame.bindingIndex=n}function Vu(){return ye.lFrame.bindingIndex++}function v1(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function w1(){return ye.lFrame.inI18n}function _1(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Oy(e)}function E1(){return ye.lFrame.currentDirectiveIndex}function Oy(n){ye.lFrame.currentDirectiveIndex=n}function I1(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function m0(n){ye.lFrame.currentQueryIndex=n}function b1(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[qn]:null}function y0(n,e,t){if(t&ue.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=b1(o),i===null||(o=o[Fa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=v0();return r.currentTNode=e,r.lView=n,!0}function Iv(n){let e=v0(),t=n[me];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function v0(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?w0(n):e}function w0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function _0(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var E0=_0;function bv(){let n=_0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function C1(n){return(ye.lFrame.contextLView=a1(n,ye.lFrame.contextLView))[zt]}function ja(){return ye.lFrame.selectedIndex}function Zo(n){ye.lFrame.selectedIndex=n}function Cv(){let n=ye.lFrame;return _v(n.tView,n.selectedIndex)}function D1(){return ye.lFrame.currentNamespace}var I0=!0;function Dv(){return I0}function Tv(n){I0=n}function T1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=n0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function b0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Ah(n,e,t){C0(n,e,3,t)}function Rh(n,e,t,r){(n[ae]&3)===t&&C0(n,e,t,r)}function my(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function C0(n,e,t,r){let i=r!==void 0?n[ba]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ba]+=65536),(a<o||o==-1)&&(S1(n,t,e,u),n[ba]=(n[ba]&4294901760)+u+2),u++}function eD(n,e){Be(4,n,e);let t=ge(null);try{e.call(n)}finally{ge(t),Be(5,n,e)}}function S1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ae]>>14<n[ba]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,eD(a,o)):eD(a,o)}var Da=-1,Jo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function A1(n){return(n.flags&8)!==0}function R1(n){return(n.flags&16)!==0}function M1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];x1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function N1(n){return n===3||n===4||n===6}function x1(n){return n.charCodeAt(0)===64}function Mu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?tD(n,t,i,null,e[++r]):tD(n,t,i,null,null))}}return n}function tD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function D0(n){return n!==Da}function qh(n){return n&32767}function P1(n){return n>>16}function zh(n,e){let t=P1(n),r=e;for(;t>0;)r=r[Fa],t--;return r}var Fy=!0;function Gh(n){let e=Fy;return Fy=n,e}var k1=256,T0=k1-1,S0=5,O1=0,sr={};function F1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Tu)&&(r=t[Tu]),r==null&&(r=t[Tu]=O1++);let i=r&T0,o=1<<i;e.data[n+(i>>S0)]|=o}function Wh(n,e){let t=A0(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,yy(r.data,n),yy(e,null),yy(r.blueprint,null));let i=Sv(n,e),o=n.injectorIndex;if(D0(i)){let s=qh(i),a=zh(i,e),u=a[me].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function yy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function A0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Sv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=P0(i),r===null)return Da;if(t++,i=i[Fa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Da}function Ly(n,e,t){F1(n,e,t)}function R0(n,e,t){if(t&ue.Optional||n!==void 0)return n;gv(e,"NodeInjector")}function M0(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),(t&(ue.Self|ue.Host))===0){let i=n[Sa],o=en(void 0);try{return i?i.get(e,r,t&ue.Optional):BD(e,r,t&ue.Optional)}finally{en(o)}}return R0(r,e,t)}function N0(n,e,t,r=ue.Default,i){if(n!==null){if(e[ae]&2048&&!(r&ue.Self)){let s=U1(n,e,t,r,sr);if(s!==sr)return s}let o=x0(n,e,t,r,sr);if(o!==sr)return o}return M0(e,t,r,i)}function x0(n,e,t,r,i){let o=j1(t);if(typeof o=="function"){if(!y0(e,n,r))return r&ue.Host?R0(i,t,r):M0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))gv(t);else return s}finally{E0()}}else if(typeof o=="number"){let s=null,a=A0(n,e),u=Da,d=r&ue.Host?e[ar][qn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Sv(n,e):e[a+8],u===Da||!rD(r,!1)?a=-1:(s=e[me],a=qh(u),e=zh(u,e)));a!==-1;){let p=e[me];if(nD(o,a,p.data)){let g=L1(a,e,t,s,r,d);if(g!==sr)return g}u=e[a+8],u!==Da&&rD(r,e[me].data[a+8]===d)&&nD(o,a,e)?(s=p,a=qh(u),e=zh(u,e)):a=-1}}return i}function L1(n,e,t,r,i,o){let s=e[me],a=s.data[n+8],u=r==null?La(a)&&Fy:r!=s&&(a.type&3)!==0,d=i&ue.Host&&o===a,p=V1(a,s,t,u,d);return p!==null?Kh(e,s,p,a,i):sr}function V1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,g=r?a:a+p,w=i?a+p:d;for(let _=g;_<w;_++){let M=s[_];if(_<u&&t===M||_>=u&&M.type===t)return _}if(i){let _=s[u];if(_&&cr(_)&&_.type===t)return u}return null}function Kh(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Jo){let a=o;a.resolving&&VD(SO(s[t]));let u=Gh(a.canSeeViewProviders);a.resolving=!0;let d,p=a.injectImpl?en(a.injectImpl):null,g=y0(n,r,ue.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&T1(t,s[t],e)}finally{p!==null&&en(p),Gh(u),a.resolving=!1,E0()}}return o}function j1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Tu)?n[Tu]:void 0;return typeof e=="number"?e>=0?e&T0:B1:e}function nD(n,e,t){let r=1<<n;return!!(t[e+(n>>S0)]&r)}function rD(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var zo=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return N0(this._tNode,this._lView,e,af(r),t)}};function B1(){return new zo(Nn(),je())}function Qr(n){return Pu(()=>{let e=n.prototype.constructor,t=e[xh]||Vy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[xh]||Vy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Vy(n){return PD(n)?()=>{let e=Vy(Ht(n));return e&&e()}:Go(n)}function U1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!$h(s);){let a=x0(o,s,t,r|ue.Self,sr);if(a!==sr)return a;let u=o.parent;if(!u){let d=s[JD];if(d){let p=d.get(t,sr,r);if(p!==sr)return p}u=P0(s),s=s[Fa]}o=u}return i}function P0(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[qn]:null}function iD(n,e=null,t=null,r){let i=k0(n,e,t,r);return i.resolveInjectorInitializers(),i}function k0(n,e=null,t=null,r,i=new Set){let o=[t||Rn,$O(n)];return r=r||(typeof n=="object"?void 0:tn(n)),new Au(o,e||vv(),r||null,i)}var Pt=class n{static THROW_IF_NOT_FOUND=qo;static NULL=new Fh;static create(e,t){if(Array.isArray(e))return iD({name:""},t,e,"");{let r=e.name??"";return iD({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>fe(HD)});static __NG_ELEMENT_ID__=-1};var $1=new G("");$1.__NG_ELEMENT_ID__=n=>{let e=Nn();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new z(204,!1)};var O0=!1,ju=(()=>{class n{static __NG_ELEMENT_ID__=H1;static __NG_ENV_ID__=t=>t}return n})(),jy=class extends ju{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Va(t)?(e(),()=>{}):(c0(t,e),()=>c1(t,e))}};function H1(){return new jy(je())}var Ma=class{},Av=new G("",{providedIn:"root",factory:()=>!1});var F0=new G(""),L0=new G(""),ts=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new gt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),hf=(()=>{class n{internalPendingTasks=L(ts);scheduler=L(Ma);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return b(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),By=class extends pt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,YD()&&(this.destroyRef=L(ju,{optional:!0})??void 0,this.pendingTasks=L(ts,{optional:!0})??void 0)}emit(e){let t=ge(null);try{super.next(e)}finally{ge(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Qe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},tt=By;function Qh(...n){}function V0(n){let e,t;function r(){n=Qh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function oD(n){return queueMicrotask(()=>n()),()=>{n=Qh}}var Rv="isAngularZone",Yh=Rv+"_ID",q1=0,Oe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new tt(!1);onMicrotaskEmpty=new tt(!1);onStable=new tt(!1);onError=new tt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=O0}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,W1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Rv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,z1,Qh,Qh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},z1={};function Mv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function G1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){V0(()=>{n.callbackScheduled=!1,Uy(n),n.isCheckStableRunning=!0,Mv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Uy(n)}function W1(n){let e=()=>{G1(n)},t=q1++;n._inner=n._inner.fork({name:"angular",properties:{[Rv]:!0,[Yh]:t,[Yh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(K1(u))return r.invokeTask(o,s,a,u);try{return sD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aD(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return sD(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Q1(u)&&e(),aD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Uy(n),Mv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Uy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aD(n){n._nesting--,Mv(n)}var $y=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new tt;onMicrotaskEmpty=new tt;onStable=new tt;onError=new tt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function K1(n){return j0(n,"__ignore_ng_zone__")}function Q1(n){return j0(n,"__scheduler_tick__")}function j0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var qr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Y1=new G("",{providedIn:"root",factory:()=>{let n=L(Oe),e=L(qr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function cD(n,e){return ND(n,e)}function Z1(n){return ND(MD,n)}var B0=(cD.required=Z1,cD);function J1(){return ff(Nn(),je())}function ff(n,e){return new fr(hr(n,e))}var fr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=J1}return n})();function X1(n){return typeof n=="function"&&n[Sn]!==void 0}function zn(n,e){let t=Wm(n,e?.equal),r=t[Sn];return t.set=i=>yu(r,i),t.update=i=>Km(r,i),t.asReadonly=eF.bind(t),t}function eF(){let n=this[Sn];if(n.readonlyFn===void 0){let e=()=>this();e[Sn]=n,n.readonlyFn=e}return n.readonlyFn}function U0(n){return X1(n)&&typeof n.set=="function"}function $0(n){return(n.flags&128)===128}var H0=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(H0||{}),q0=new Map,tF=0;function nF(){return tF++}function rF(n){q0.set(n[uf],n)}function Hy(n){q0.delete(n[uf])}var uD="__ngContext__";function Bu(n,e){Bi(e)?(n[uD]=e[uf],rF(e)):n[uD]=e}function z0(n){return W0(n[Ru])}function G0(n){return W0(n[Hn])}function W0(n){for(;n!==null&&!Kr(n);)n=n[Hn];return n}var qy;function K0(n){qy=n}function iF(){if(qy!==void 0)return qy;if(typeof document<"u")return document;throw new z(210,!1)}var Nv=new G("",{providedIn:"root",factory:()=>oF}),oF="ng",xv=new G(""),ns=new G("",{providedIn:"platform",factory:()=>"unknown"});var Pv=new G("",{providedIn:"root",factory:()=>iF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sF="h",aF="b";var Q0=!1,cF=new G("",{providedIn:"root",factory:()=>Q0});var Y0=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Y0||{}),pf=new G(""),lD=new Set;function gf(n){lD.has(n)||(lD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uF=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var lF=(n,e,t,r)=>{};function dF(n,e,t,r){lF(n,e,t,r)}var hF=()=>null;function Z0(n,e,t=!1){return hF(n,e,t)}function J0(n,e){let t=n.contentQueries;if(t!==null){let r=ge(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];m0(o),a.contentQueries(2,e[s],s)}}}finally{ge(r)}}}function zy(n,e,t){m0(0);let r=ge(null);try{e(n,t)}finally{ge(r)}}function X0(n,e,t){if(e0(e)){let r=ge(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ge(r)}}}var dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(dr||{});var Gy=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pO})`}};function fF(n){return n instanceof Gy?n.changingThisBreaksApplicationSecurity:n}function eT(n){return n instanceof Function?n():n}function pF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tT="ng-template";function gF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&pF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(kv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function kv(n){return n.type===4&&n.value!==tT}function mF(n,e,t){let r=n.type===4&&!t?tT:n.value;return e===r}function yF(n,e,t){let r=4,i=n.attrs,o=i!==null?_F(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!$n(r)&&!$n(u))return!1;if(s&&$n(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!mF(n,u,t)||u===""&&e.length===1){if($n(r))return!1;s=!0}}else if(r&8){if(i===null||!gF(n,i,u,t)){if($n(r))return!1;s=!0}}else{let d=e[++a],p=vF(u,i,kv(n),t);if(p===-1){if($n(r))return!1;s=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if($n(r))return!1;s=!0}}}}return $n(r)||s}function $n(n){return(n&1)===0}function vF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return EF(e,n)}function wF(n,e,t=!1){for(let r=0;r<e.length;r++)if(yF(n,e[r],t))return!0;return!1}function _F(n){for(let e=0;e<n.length;e++){let t=n[e];if(N1(t))return e}return n.length}function EF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function dD(n,e){return n?":not("+e.trim()+")":e}function IF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!$n(s)&&(e+=dD(o,i),i=""),r=s,o=o||!$n(r);t++}return i!==""&&(e+=dD(o,i)),e}function bF(n){return n.map(IF).join(",")}function CF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!$n(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var qi={};function DF(n,e){return n.createText(e)}function TF(n,e,t){n.setValue(e,t)}function nT(n,e,t){return n.createElement(e,t)}function Zh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rT(n,e,t){n.appendChild(e,t)}function hD(n,e,t,r,i){r!==null?Zh(n,e,t,r,i):rT(n,e,t)}function SF(n,e,t){n.removeChild(null,e,t)}function AF(n,e,t){n.setAttribute(e,"style",t)}function RF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&M1(n,e,r),i!==null&&RF(n,e,i),o!==null&&AF(n,e,o)}function Ov(n,e,t,r,i,o,s,a,u,d,p){let g=fn+r,w=g+i,_=MF(g,w),M=typeof d=="function"?d():d;return _[me]={type:n,blueprint:_,template:t,queries:null,viewQuery:a,declTNode:e,data:_.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function MF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:qi);return t}function NF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ov(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Fv(n,e,t,r,i,o,s,a,u,d,p){let g=e.blueprint.slice();return g[Wr]=i,g[ae]=r|4|128|8|64|1024,(d!==null||n&&n[ae]&2048)&&(g[ae]|=2048),s0(g),g[qt]=g[Fa]=n,g[zt]=t,g[Ui]=s||n&&n[Ui],g[yt]=a||n&&n[yt],g[Sa]=u||n&&n[Sa]||null,g[qn]=o,g[uf]=nF(),g[Lh]=p,g[JD]=d,g[ar]=e.type==2?n[ar]:g,g}function xF(n,e,t){let r=hr(e,n),i=NF(t),o=n[Ui].rendererFactory,s=Lv(n,Fv(n,i,null,oT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function oT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Lv(n,e){return n[Ru]?n[ZC][Hn]=e:n[Ru]=e,n[ZC]=e,e}function Te(n=1){aT(rn(),je(),ja()+n,!1)}function aT(n,e,t,r){if(!r)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ah(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Rh(e,o,0,t)}Zo(t)}var mf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mf||{});function Wy(n,e,t,r){let i=ge(null);try{let[o,s,a]=n.inputs[t],u=null;(s&mf.SignalBased)!==0&&(u=e[o][Sn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):t0(e,u,o,r)}finally{ge(i)}}function cT(n,e,t,r,i){let o=ja(),s=r&2;try{Zo(-1),s&&e.length>fn&&aT(n,e,fn,!1),Be(s?2:0,i),t(r,i)}finally{Zo(o),Be(s?3:1,i)}}function Vv(n,e,t){VF(n,e,t),(t.flags&64)===64&&jF(n,e,t)}function uT(n,e,t=hr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function PF(n,e,t,r){let o=r.get(cF,Q0)||t===dr.ShadowDom,s=n.selectRootElement(e,o);return kF(s),s}function kF(n){OF(n)}var OF=()=>null;function FF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function lT(n,e,t,r,i,o,s,a){if(!a&&jv(e,n,t,r,i)){La(e)&&LF(t,e.index);return}if(e.type&3){let u=hr(e,t);r=FF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function LF(n,e){let t=lr(e,n);t[ae]&16||(t[ae]|=64)}function VF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;La(t)&&xF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Wh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Kh(e,n,s,t);if(Bu(u,e),o!==null&&HF(e,s-r,u,a,t,o),cr(a)){let d=lr(t.index,e);d[zt]=Kh(e,n,s,t)}}}function jF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=E1();try{Zo(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];Oy(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&BF(u,d)}}finally{Zo(-1),Oy(s)}}function BF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function dT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];wF(e,o.selectors,!1)&&(r??=[],cr(o)?r.unshift(o):r.push(o))}return r}function UF(n,e,t,r,i,o){let s=hr(n,e);$F(e[yt],s,o,n.value,t,r,i)}function $F(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?pv(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function HF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],d=s[a+1];Wy(r,t,u,d)}}function qF(n,e){let t=n[Sa],r=t?t.get(qr,null):null;r&&r.handleError(e)}function jv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let d=s[u],p=s[u+1],g=e.data[d];Wy(g,t[d],p,i),a=!0}if(o)for(let u of o){let d=t[u],p=e.data[u];Wy(p,d,r,i),a=!0}return a}function zF(n,e){let t=lr(e,n),r=t[me];GF(r,t);let i=t[Wr];i!==null&&t[Lh]===null&&(t[Lh]=Z0(i,t[Sa])),Be(18),Bv(r,t,t[zt]),Be(19,t[zt])}function GF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Bv(n,e,t){Iv(e);try{let r=n.viewQuery;r!==null&&zy(1,r,t);let i=n.template;i!==null&&cT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ra]?.finishViewCreation(n),n.staticContentQueries&&J0(n,e),n.staticViewQueries&&zy(2,n.viewQuery,t);let o=n.components;o!==null&&WF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,bv()}}function WF(n,e){for(let t=0;t<e.length;t++)zF(n,e[t])}function hT(n,e,t,r){let i=ge(null);try{let o=e.tView,a=n[ae]&4096?4096:16,u=Fv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[Aa]=d;let p=n[Ra];return p!==null&&(u[Ra]=p.createEmbeddedView(o)),Bv(o,u,t),u}finally{ge(i)}}function Ky(n,e){return!e||e.firstChild===null||$0(n)}var KF;function Uv(n,e){return KF(n,e)}var zr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zr||{});function fT(n){return(n.flags&32)===32}function Ca(n,e,t,r,i){if(r!=null){let o,s=!1;Kr(r)?o=r:Bi(r)&&(s=!0,r=r[Wr]);let a=ur(r);n===0&&t!==null?i==null?rT(e,t,a):Zh(e,t,a,i||null,!0):n===1&&t!==null?Zh(e,t,a,i||null,!0):n===2?SF(e,a,s):n===3&&e.destroyNode(a),o!=null&&sL(e,n,o,t,i)}}function QF(n,e){pT(n,e),e[Wr]=null,e[qn]=null}function YF(n,e,t,r,i,o){r[Wr]=i,r[qn]=e,yf(n,r,t,1,i,o)}function pT(n,e){e[Ui].changeDetectionScheduler?.notify(9),yf(n,e,e[yt],2,null,null)}function ZF(n){let e=n[Ru];if(!e)return vy(n[me],n);for(;e;){let t=null;if(Bi(e))t=e[Ru];else{let r=e[hn];r&&(t=r)}if(!t){for(;e&&!e[Hn]&&e!==n;)Bi(e)&&vy(e[me],e),e=e[qt];e===null&&(e=n),Bi(e)&&vy(e[me],e),t=e&&e[Hn]}e=t}}function $v(n,e){let t=n[Uh],r=t.indexOf(e);t.splice(r,1)}function Hv(n,e){if(Va(e))return;let t=e[yt];t.destroyNode&&yf(n,e,t,3,null,null),ZF(e)}function vy(n,e){if(Va(e))return;let t=ge(null);try{e[ae]&=-129,e[ae]|=256,e[Mn]&&qm(e[Mn]),XF(n,e),JF(n,e),e[me].type===1&&e[yt].destroy();let r=e[Aa];if(r!==null&&Kr(e[qt])){r!==e[qt]&&$v(r,e);let i=e[Ra];i!==null&&i.detachView(n)}Hy(e)}finally{ge(t)}}function JF(n,e){let t=n.cleanup,r=e[Vh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Vh]=null);let i=e[ji];if(i!==null){e[ji]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[jh];if(o!==null){e[jh]=null;for(let s of o)s.destroy()}}function XF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Jo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Be(4,a,u);try{u.call(a)}finally{Be(5,a,u)}}else{Be(4,i,o);try{o.call(i)}finally{Be(5,i,o)}}}}}function eL(n,e,t){return tL(n,e.parent,t)}function tL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Wr];if(La(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===dr.None||i===dr.Emulated)return null}return hr(r,t)}function nL(n,e,t){return iL(n,e,t)}function rL(n,e,t){return n.type&40?hr(n,t):null}var iL=rL,fD;function qv(n,e,t,r){let i=eL(n,r,e),o=e[yt],s=r.parent||e[qn],a=nL(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)hD(o,i,t[u],a,!1);else hD(o,i,t,a,!1);fD!==void 0&&fD(o,r,e,t,i)}function Du(n,e){if(e!==null){let t=e.type;if(t&3)return hr(e,n);if(t&4)return Qy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Du(n,r);{let i=n[e.index];return Kr(i)?Qy(-1,i):ur(i)}}else{if(t&128)return Du(n,e.next);if(t&32)return Uv(e,n)()||ur(n[e.index]);{let r=gT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yo(n[ar]);return Du(i,r)}else return Du(n,e.next)}}}return null}function gT(n,e){if(e!==null){let r=n[ar][qn],i=e.projection;return r.projection[i]}return null}function Qy(n,e){let t=hn+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return Du(r,i)}return e[Qo]}function zv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Bu(ur(a),r),t.flags|=2),!fT(t))if(u&8)zv(n,e,t.child,r,i,o,!1),Ca(e,n,i,a,o);else if(u&32){let d=Uv(t,r),p;for(;p=d();)Ca(e,n,i,p,o);Ca(e,n,i,a,o)}else u&16?oL(n,e,r,t,i,o):Ca(e,n,i,a,o);t=s?t.projectionNext:t.next}}function yf(n,e,t,r,i,o){zv(t,r,n.firstChild,e,i,o,!1)}function oL(n,e,t,r,i,o){let s=t[ar],u=s[qn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Ca(e,n,i,p,o)}else{let d=u,p=s[qt];$0(r)&&(d.flags|=128),zv(n,e,d,p,i,o,!0)}}function sL(n,e,t,r,i){let o=t[Qo],s=ur(t);o!==s&&Ca(e,n,r,o,i);for(let a=hn;a<t.length;a++){let u=t[a];yf(u[me],u,n,e,r,o)}}function aL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zr.Important),n.setStyle(t,r,i,o))}}function Jh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ur(o)),Kr(o)&&cL(o,r);let s=t.type;if(s&8)Jh(n,e,t.child,r);else if(s&32){let a=Uv(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=gT(e,t);if(Array.isArray(a))r.push(...a);else{let u=Yo(e[ar]);Jh(u[me],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function cL(n,e){for(let t=hn;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&Jh(r[me],r,i,e)}n[Qo]!==n[Wr]&&e.push(n[Qo])}function mT(n){if(n[gy]!==null){for(let e of n[gy])e.impl.addSequence(e);n[gy].length=0}}var yT=[];function uL(n){return n[Mn]??lL(n)}function lL(n){let e=yT.pop()??Object.create(hL);return e.lView=n,e}function dL(n){n.lView[Mn]!==n&&(n.lView=null,yT.push(n))}var hL=he(B({},gu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{df(n.lView)},consumerOnSignalRead(){this.lView[Mn]=this}});function fL(n){let e=n[Mn]??Object.create(pL);return e.lView=n,e}var pL=he(B({},gu),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Yo(n.lView);for(;e&&!vT(e[me]);)e=Yo(e);e&&a0(e)},consumerOnSignalRead(){this.lView[Mn]=this}});function vT(n){return n.type!==2}function wT(n){if(n[jh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[jh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ae]&8192)}}var gL=100;function _T(n,e=!0,t=0){let i=n[Ui].rendererFactory,o=!1;o||i.begin?.();try{mL(n,t)}catch(s){throw e&&qF(n,s),s}finally{o||i.end?.()}}function mL(n,e){let t=p0();try{XC(!0),Yy(n,e);let r=0;for(;lf(n);){if(r===gL)throw new z(103,!1);r++,Yy(n,1)}}finally{XC(t)}}function yL(n,e,t,r){if(Va(e))return;let i=e[ae],o=!1,s=!1;Iv(e);let a=!0,u=null,d=null;o||(vT(n)?(d=uL(e),u=Gd(d)):Vm()===null?(a=!1,d=fL(e),u=Gd(d)):e[Mn]&&(qm(e[Mn]),e[Mn]=null));try{s0(e),y1(n.bindingStartIndex),t!==null&&cT(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let _=n.preOrderCheckHooks;_!==null&&Ah(e,_,null)}else{let _=n.preOrderHooks;_!==null&&Rh(e,_,0,null),my(e,0)}if(s||vL(e),wT(e),ET(e,0),n.contentQueries!==null&&J0(n,e),!o)if(p){let _=n.contentCheckHooks;_!==null&&Ah(e,_)}else{let _=n.contentHooks;_!==null&&Rh(e,_,1),my(e,1)}_L(n,e);let g=n.components;g!==null&&bT(e,g,0);let w=n.viewQuery;if(w!==null&&zy(2,w,r),!o)if(p){let _=n.viewCheckHooks;_!==null&&Ah(e,_)}else{let _=n.viewHooks;_!==null&&Rh(e,_,2),my(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[py]){for(let _ of e[py])_();e[py]=null}o||(mT(e),e[ae]&=-73)}catch(p){throw o||df(e),p}finally{d!==null&&($m(d,u),a&&dL(d)),bv()}}function ET(n,e){for(let t=z0(n);t!==null;t=G0(t))for(let r=hn;r<t.length;r++){let i=t[r];IT(i,e)}}function vL(n){for(let e=z0(n);e!==null;e=G0(e)){if(!(e[ae]&2))continue;let t=e[Uh];for(let r=0;r<t.length;r++){let i=t[r];a0(i)}}}function wL(n,e,t){Be(18);let r=lr(e,n);IT(r,t),Be(19,r[zt])}function IT(n,e){Ev(n)&&Yy(n,e)}function Yy(n,e){let r=n[me],i=n[ae],o=n[Mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hm(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)yL(r,n,r.template,n[zt]);else if(i&8192){wT(n),ET(n,1);let a=r.components;a!==null&&bT(n,a,1),mT(n)}}function bT(n,e,t){for(let r=0;r<e.length;r++)wL(n,e[r],t)}function _L(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zo(~i);else{let o=i,s=t[++r],a=t[++r];_1(s,o);let u=e[o];Be(24,u),a(2,u),Be(25,u)}}}finally{Zo(-1)}}function Gv(n,e){let t=p0()?64:1088;for(n[Ui].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let r=Yo(n);if($h(n)&&!r)return n;n=r}return null}function CT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function EL(n,e){let t=hn+e;if(t<n.length)return n[t]}function DT(n,e,t,r=!0){let i=e[me];if(bL(i,e,n,t),r){let s=Qy(t,n),a=e[yt],u=a.parentNode(n[Qo]);u!==null&&YF(i,n[qn],a,e,u,s)}let o=e[Lh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function IL(n,e){let t=Xh(n,e);return t!==void 0&&Hv(t[me],t),t}function Xh(n,e){if(n.length<=hn)return;let t=hn+e,r=n[t];if(r){let i=r[Aa];i!==null&&i!==n&&$v(i,r),e>0&&(n[t-1][Hn]=r[Hn]);let o=Oh(n,hn+e);QF(r[me],r);let s=o[Ra];s!==null&&s.detachView(o[me]),r[qt]=null,r[Hn]=null,r[ae]&=-129}return r}function bL(n,e,t,r){let i=hn+r,o=t.length;r>0&&(t[i-1][Hn]=e),r<o-hn?(e[Hn]=t[i],$D(t,hn+r,e)):(t.push(e),e[Hn]=null),e[qt]=t;let s=e[Aa];s!==null&&t!==s&&TT(s,e);let a=e[Ra];a!==null&&a.insertView(n),Py(e),e[ae]|=128}function TT(n,e){let t=n[Uh],r=e[qt];if(Bi(r))n[ae]|=2;else{let i=r[qt][ar];e[ar]!==i&&(n[ae]|=2)}t===null?n[Uh]=[e]:t.push(e)}var Nu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[me];return Jh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return Va(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(Kr(e)){let t=e[Bh],r=t?t.indexOf(this):-1;r>-1&&(Xh(e,r),Oh(t,r))}this._attachedToViewContainer=!1}Hv(this._lView[me],this._lView)}onDestroy(e){c0(this._lView,e)}markForCheck(){Gv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){Py(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,_T(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$h(this._lView),t=this._lView[Aa];t!==null&&!e&&$v(t,this._lView),pT(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=$h(this._lView),r=this._lView[Aa];r!==null&&!t&&TT(r,this._lView),Py(this._lView)}};var vf=(()=>{class n{static __NG_ELEMENT_ID__=TL}return n})(),CL=vf,DL=class extends CL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=hT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Nu(i)}};function TL(){return SL(Nn(),je())}function SL(n,e){return n.type&4?new DL(e,n,ff(n,e)):null}function Wv(n,e,t,r,i){let o=n.data[e];if(o===null)o=AL(n,e,t,r,i),w1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=g1();o.injectorIndex=s===null?-1:s.injectorIndex}return Lu(o,!0),o}function AL(n,e,t,r,i){let o=h0(),s=f0(),a=s?o:o&&o.parent,u=n.data[e]=ML(n,a,t,e,r,i);return RL(n,u,o,s),u}function RL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ML(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return h1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var z7=new RegExp(`^(\\d+)*(${aF}|${sF})*(.*)`);var NL=()=>null;function Zy(n,e){return NL(n,e)}var xL=class{},ST=class{},Jy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${tn(e)}.`)}},wf=class{static NULL=new Jy},Na=class{},rs=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>PL()}return n})();function PL(){let n=je(),e=Nn(),t=lr(e.index,n);return(Bi(t)?t:n)[yt]}var kL=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var wy={},Xy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=af(r);let i=this.injector.get(e,wy,r);return i!==wy||t===wy?i:this.parentInjector.get(e,t,r)}};function pD(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qC(i,a);else if(o==2){let u=a,d=e[++s];r=qC(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Q(n,e=ue.Default){let t=je();if(t===null)return fe(n,e);let r=Nn();return N0(r,t,Ht(n),e)}function AT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,d=null,p=FL(s);p===null?a=s:[a,u,d]=p,jL(n,e,t,a,o,u,d)}o!==null&&r!==null&&OL(t,r,o)}function OL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function FL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&cr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,LL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function LL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function VL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function jL(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let w=0;w<a;w++){let _=r[w];!u&&cr(_)&&(u=!0,VL(n,t,w)),Ly(Wh(t,e),n,_.type)}zL(t,n.data.length,a);for(let w=0;w<a;w++){let _=r[w];_.providersResolver&&_.providersResolver(_)}let d=!1,p=!1,g=sT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let w=0;w<a;w++){let _=r[w];if(t.mergedAttrs=Mu(t.mergedAttrs,_.hostAttrs),UL(n,t,e,g,_),qL(g,_,i),s!==null&&s.has(_)){let[O,k]=s.get(_);t.directiveToIndex.set(_.type,[g,O+t.directiveStart,k+t.directiveStart])}else(o===null||!o.has(_))&&t.directiveToIndex.set(_.type,g);_.contentQueries!==null&&(t.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(t.flags|=64);let M=_.type.prototype;!d&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!p&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),p=!0),g++}BL(n,t,o)}function BL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))gD(0,e,i,r),gD(1,e,i,r),yD(e,r,!1);else{let o=t.get(i);mD(0,e,o,r),mD(1,e,o,r),yD(e,r,!0)}}}function gD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),RT(e,o)}}function mD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),RT(e,s)}}function RT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function yD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||kv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let d=i[u];for(let p of d)if(p===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let d=o[u];for(let p=0;p<d.length;p+=2)if(d[p]===e){s??=[],s.push(d[p+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function UL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Go(i.type,!0)),s=new Jo(o,cr(i),Q);n.blueprint[r]=s,t[r]=s,$L(n,e,r,sT(n,t,i.hostVars,qi),i)}function $L(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;HL(s)!=a&&s.push(a),s.push(t,r,o)}}function HL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function qL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;cr(e)&&(t[""]=n)}}function zL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function MT(n,e,t,r,i,o,s,a){let u=e.consts,d=Hh(u,s),p=Wv(e,n,2,r,d);return o&&AT(e,t,p,Hh(u,a),i),p.mergedAttrs=Mu(p.mergedAttrs,p.attrs),p.attrs!==null&&pD(p,p.attrs,!1),p.mergedAttrs!==null&&pD(p,p.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,p),p}function NT(n,e){b0(n,e),e0(e)&&n.queries.elementEnd(e)}var ef=class extends wf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ko(e);return new xa(t,this.ngModule)}};function GL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&mf.SignalBased)!==0};return i&&(o.transform=i),o})}function WL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function KL(n,e,t){let r=e instanceof nn?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Xy(t,r):t}function QL(n){let e=n.get(Na,null);if(e===null)throw new z(407,!1);let t=n.get(kL,null),r=n.get(Ma,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function YL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return nT(e,t,t==="svg"?n1:t==="math"?r1:null)}var xa=class extends ST{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=GL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=WL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=bF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Be(22);let o=ge(null);try{let s=this.componentDef,a=r?["ng-version","19.2.14"]:CF(this.componentDef.selectors[0]),u=Ov(0,null,null,1,0,null,null,null,null,[a],null),d=KL(s,i||this.ngModule,e),p=QL(d),g=p.rendererFactory.createRenderer(null,s),w=r?PF(g,r,s.encapsulation,d):YL(s,g),_=Fv(null,u,null,512|oT(s),null,null,p,g,d,null,Z0(w,d,!0));_[fn]=w,Iv(_);let M=null;try{let O=MT(fn,u,_,"#host",()=>[this.componentDef],!0,0);w&&(iT(g,w,O),Bu(w,_)),Vv(u,_,O),X0(u,O,_),NT(u,O),t!==void 0&&ZL(O,this.ngContentSelectors,t),M=lr(O.index,_),_[zt]=M[zt],Bv(u,_,null)}catch(O){throw M!==null&&Hy(M),Hy(_),O}finally{Be(23),bv()}return new ev(this.componentType,_)}finally{ge(o)}}},ev=class extends xL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=_v(t[me],fn),this.location=ff(this._tNode,t),this.instance=lr(this._tNode.index,t)[zt],this.hostView=this.changeDetectorRef=new Nu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=jv(r,i[me],i,e,t);this.previousInputValues.set(e,t);let s=lr(r.index,i);Gv(s,1)}get injector(){return new zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ba=(()=>{class n{static __NG_ELEMENT_ID__=JL}return n})();function JL(){let n=Nn();return eV(n,je())}var XL=Ba,xT=class extends XL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ff(this._hostTNode,this._hostLView)}get injector(){return new zo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sv(this._hostTNode,this._hostLView);if(D0(e)){let t=zh(e,this._hostLView),r=qh(e),i=t[me].data[r+8];return new zo(i,t)}else return new zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Zy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ky(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!JO(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new xa(Ko(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?d:this.parentInjector).get(nn,null);O&&(o=O)}let p=Ko(u.componentType??{}),g=Zy(this._lContainer,p?.id??null),w=g?.firstChild??null,_=u.create(d,i,w,o);return this.insertImpl(_.hostView,a,Ky(this._hostTNode,g)),_}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(s1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[qt],d=new xT(u,u[qn],u[qt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return DT(s,i,o,r),e.attachToViewContainerRef(),$D(_y(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Xh(this._lContainer,t);r&&(Oh(_y(this._lContainer),t),Hv(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=Xh(this._lContainer,t);return r&&Oh(_y(this._lContainer),t)!=null?new Nu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vD(n){return n[Bh]}function _y(n){return n[Bh]||(n[Bh]=[])}function eV(n,e){let t,r=e[n.index];return Kr(r)?t=r:(t=CT(r,e,null,n),e[n.index]=t,Lv(e,t)),nV(t,e,n,r),new xT(t,n,e)}function tV(n,e){let t=n[yt],r=t.createComment(""),i=hr(e,n),o=t.parentNode(i);return Zh(t,o,r,t.nextSibling(i),!1),r}var nV=oV,rV=()=>!1;function iV(n,e,t){return rV(n,e,t)}function oV(n,e,t,r){if(n[Qo])return;let i;t.type&8?i=ur(r):i=tV(e,t),n[Qo]=i}var Pa=class{},Kv=class{};var tv=class extends Pa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ef(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=zD(e);this._bootstrapComponents=eT(o.bootstrap),this._r3Injector=k0(e,t,[{provide:Pa,useValue:this},{provide:wf,useValue:this.componentFactoryResolver},...r],tn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},nv=class extends Kv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new tv(this.moduleType,e,[])}};var tf=class extends Pa{injector;componentFactoryResolver=new ef(this);instance=null;constructor(e){super();let t=new Au([...e.providers,{provide:Pa,useValue:this},{provide:wf,useValue:this.componentFactoryResolver}],e.parent||vv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _f(n,e,t=null){return new tf({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var sV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=GD(!1,t.type),i=r.length>0?_f([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(fe(nn))})}return n})();function on(n){return Pu(()=>{let e=kT(n),t=he(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===H0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(sV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||dr.Emulated,styles:n.styles||Rn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&gf("NgStandalone"),OT(t);let r=n.dependencies;return t.directiveDefs=wD(r,!1),t.pipeDefs=wD(r,!0),t.id=dV(t),t})}function aV(n){return Ko(n)||BO(n)}function cV(n){return n!==null}function zi(n){return Pu(()=>({type:n.type,bootstrap:n.bootstrap||Rn,declarations:n.declarations||Rn,imports:n.imports||Rn,exports:n.exports||Rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function uV(n,e){if(n==null)return Wo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=mf.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function lV(n){if(n==null)return Wo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Fe(n){return Pu(()=>{let e=kT(n);return OT(e),e})}function PT(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function kT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Wo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Rn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:uV(n.inputs,e),outputs:lV(n.outputs),debugInfo:null}}function OT(n){n.features?.forEach(e=>e(n))}function wD(n,e){if(!n)return null;let t=e?UO:aV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(cV)}function dV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hV(n){return Object.getPrototypeOf(n.prototype).constructor}function Lt(n){let e=hV(n.type),t=!0,r=[n];for(;e;){let i;if(cr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ey(n.inputs),s.declaredInputs=Ey(n.declaredInputs),s.outputs=Ey(n.outputs);let a=i.hostBindings;a&&yV(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&gV(n,u),d&&mV(n,d),fV(n,i),wO(n.outputs,i.outputs),cr(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Lt&&(t=!1)}}e=Object.getPrototypeOf(e)}pV(r)}function fV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function pV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Mu(i.hostAttrs,t=Mu(t,i.hostAttrs))}}function Ey(n){return n===Wo?{}:n===Rn?[]:n}function gV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function mV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function yV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function FT(n){return wV(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function wV(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _V(n,e,t){return n[e]=t}function is(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function EV(n,e,t,r,i,o,s,a,u){let d=e.consts,p=Wv(e,n,4,s||null,a||null);d0()&&AT(e,t,p,Hh(d,u),dT),p.mergedAttrs=Mu(p.mergedAttrs,p.attrs),b0(e,p);let g=p.tView=Ov(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function IV(n,e,t,r,i,o,s,a,u,d){let p=t+fn,g=e.firstCreatePass?EV(p,e,n,r,i,o,s,a,u):e.data[p];Lu(g,!1);let w=bV(e,n,g,t);Dv()&&qv(e,n,w,g),Bu(w,n);let _=CT(w,n,w,g);return n[p]=_,Lv(n,_),iV(_,g,n),wv(g)&&Vv(e,n,g),u!=null&&uT(n,g,d),g}function gn(n,e,t,r,i,o,s,a){let u=je(),d=rn(),p=Hh(d.consts,o);return IV(u,d,n,e,t,r,i,p,s,a),gn}var bV=CV;function CV(n,e,t,r){return Tv(!0),e[yt].createComment("")}var LT=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var VT=new G("");var DV=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new rv})}return n})(),rv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Gi(n){return!!n&&typeof n.then=="function"}function Qv(n){return!!n&&typeof n.subscribe=="function"}var TV=new G("");var jT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=L(TV,{optional:!0})??[];injector=L(Pt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Wt(this.injector,i);if(Gi(o))t.push(o);else if(Qv(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yv=new G("");function SV(){Gm(()=>{throw new z(600,!1)})}function AV(n){return n.isBoundToModule}var RV=10;var Xo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Y1);afterRenderManager=L(uF);zonelessEnabled=L(Av);rootEffectScheduler=L(DV);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=L(ts).hasPendingTasks.pipe(re(t=>!t));constructor(){L(pf,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=L(nn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Pt.NULL){Be(10);let o=t instanceof ST;if(!this._injector.get(jT).done){let _="";throw new z(405,_)}let a;o?a=t:a=this._injector.get(wf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=AV(a)?void 0:this._injector.get(Pa),d=r||a.selector,p=a.create(i,[],d,u),g=p.location.nativeElement,w=p.injector.get(VT,null);return w?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Mh(this.components,p),w?.unregisterApplication(g)}),this._loadComponent(p),Be(11,p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Y0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new z(101,!1);let t=ge(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ge(t),this.afterTick.next(),Be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Na,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<RV;)Be(14),this.synchronizeOnce(),Be(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)MV(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>lf(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Mh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MV(n,e,t,r){if(!t&&!lf(n))return;_T(n,e,t&&!r?0:1)}function Zv(n,e,t,r){let i=je(),o=Vu();if(is(i,o,e)){let s=rn(),a=Cv();UF(a,i,n,e,t,r)}return Zv}function NV(n,e,t,r){return is(n,Vu(),t)?e+pv(t)+r:qi}function Th(n,e){return n<<17|e<<2}function es(n){return n>>17&32767}function xV(n){return(n&2)==2}function PV(n,e){return n&131071|e<<17}function iv(n){return n|2}function ka(n){return(n&131068)>>2}function Iy(n,e){return n&-131069|e<<2}function kV(n){return(n&1)===1}function ov(n){return n|1}function OV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=es(s),u=ka(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||ku(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let w=es(n[a+1]);n[r+1]=Th(w,a),w!==0&&(n[w+1]=Iy(n[w+1],r)),n[a+1]=PV(n[a+1],r)}else n[r+1]=Th(a,0),a!==0&&(n[a+1]=Iy(n[a+1],r)),a=r;else n[r+1]=Th(u,0),a===0?a=r:n[u+1]=Iy(n[u+1],r),u=r;d&&(n[r+1]=iv(n[r+1])),_D(n,p,r,!0),_D(n,p,r,!1),FV(e,p,n,r,o),s=Th(a,u),o?e.classBindings=s:e.styleBindings=s}function FV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ku(o,e)>=0&&(t[r+1]=ov(t[r+1]))}function _D(n,e,t,r){let i=n[t+1],o=e===null,s=r?es(i):ka(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];LV(u,e)&&(a=!0,n[s+1]=r?ov(d):iv(d)),s=r?es(d):ka(d)}a&&(n[t+1]=r?iv(i):ov(i))}function LV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ku(n,e)>=0:!1}function at(n,e,t){let r=je(),i=Vu();if(is(r,i,e)){let o=rn(),s=Cv();lT(o,s,r,n,e,r[yt],t,!1)}return at}function ED(n,e,t,r,i){jv(e,n,t,i?"class":"style",r)}function Ef(n,e){return VV(n,e,null,!0),Ef}function VV(n,e,t,r){let i=je(),o=rn(),s=v1(2);if(o.firstUpdatePass&&BV(o,n,s,r),e!==qi&&is(i,s,e)){let a=o.data[ja()];zV(o,a,i,i[yt],n,i[s+1]=GV(e,t),r,s)}}function jV(n,e){return e>=n.expandoStartIndex}function BV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ja()],s=jV(n,t);WV(o,r)&&e===null&&!s&&(e=!1),e=UV(i,o,e,r),OV(i,o,e,t,s,r)}}function UV(n,e,t,r){let i=I1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=by(null,n,e,t,r),t=xu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=by(i,n,e,t,r),o===null){let u=$V(n,e,r);u!==void 0&&Array.isArray(u)&&(u=by(null,n,e,u[1],r),u=xu(u,e.attrs,r),HV(n,e,r,u))}else o=qV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function $V(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ka(r)!==0)return n[es(r)]}function HV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[es(i)]=r}function qV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=xu(r,s,t)}return xu(r,e.attrs,t)}function by(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=xu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function xu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),VO(n,s,t?!0:e[++o]))}return n===void 0?null:n}function zV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=kV(d)?ID(u,e,t,i,ka(d),s):void 0;if(!nf(p)){nf(o)||xV(d)&&(o=ID(u,null,t,i,a,s));let g=o0(ja(),t);aL(r,s,g,i,o)}}function ID(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,w=t[i+1];w===qi&&(w=g?Rn:void 0);let _=g?hy(w,r):p===r?w:void 0;if(d&&!nf(_)&&(_=hy(u,r)),nf(_)&&(a=_,s))return a;let M=n[i+1];i=s?es(M):ka(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=hy(u,r))}return a}function nf(n){return n!==void 0}function GV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=tn(fF(n)))),n}function WV(n,e){return(n.flags&(e?8:16))!==0}function BT(n,e){gf("NgControlFlow");let t=je(),r=Vu(),i=t[r]!==qi?t[r]:-1,o=i!==-1?bD(t,fn+i):void 0,s=0;if(is(t,r,n)){let a=ge(null);try{if(o!==void 0&&IL(o,s),n!==-1){let u=fn+n,d=bD(t,u),p=KV(t[me],u),g=Zy(d,p.tView.ssrId),w=hT(t,p,e,{dehydratedView:g});DT(d,w,s,Ky(p,g))}}finally{ge(a)}}else if(o!==void 0){let a=EL(o,s);a!==void 0&&(a[zt]=e)}}function bD(n,e){return n[e]}function KV(n,e){return _v(n,e)}function X(n,e,t,r){let i=je(),o=rn(),s=fn+n,a=i[yt],u=o.firstCreatePass?MT(s,o,i,e,dT,d0(),t,r):o.data[s],d=QV(o,i,u,a,e,n);i[s]=d;let p=wv(u);return Lu(u,!0),iT(a,d,u),!fT(u)&&Dv()&&qv(o,i,d,u),(u1()===0||p)&&Bu(d,i),l1(),p&&(Vv(o,i,u),X0(o,u,i)),r!==null&&uT(i,u),X}function te(){let n=Nn();f0()?m1():(n=n.parent,Lu(n,!1));let e=n;f1(e)&&p1(),d1();let t=rn();return t.firstCreatePass&&NT(t,e),e.classesWithoutHost!=null&&A1(e)&&ED(t,e,je(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&R1(e)&&ED(t,e,je(),e.stylesWithoutHost,!1),te}function It(n,e,t,r){return X(n,e,t,r),te(),It}var QV=(n,e,t,r,i,o)=>(Tv(!0),nT(r,i,D1()));function Jv(){return je()}var rf="en-US";var YV=rf;function ZV(n){typeof n=="string"&&(YV=n.toLowerCase().replace(/_/g,"-"))}function CD(n,e,t){return function r(i){if(i===Function)return t;let o=La(n)?lr(n.index,e):e;Gv(o,5);let s=e[zt],a=DD(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=DD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function DD(n,e,t,r){let i=ge(null);try{return Be(6,e,t),t(r)!==!1}catch(o){return JV(n,o),!1}finally{Be(7,e,t),ge(i)}}function JV(n,e){let t=n[Sa],r=t?t.get(qr,null):null;r&&r.handleError(e)}function TD(n,e,t,r,i,o){let s=e[t],a=e[me],d=a.data[t].outputs[r],p=s[d],g=a.firstCreatePass?l0(a):null,w=u0(e),_=p.subscribe(o),M=w.length;w.push(o,_),g&&g.push(i,n.index,M,-(M+1))}function Ue(n,e,t,r){let i=je(),o=rn(),s=Nn();return UT(o,i,i[yt],s,n,e,r),Ue}function XV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Vh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function UT(n,e,t,r,i,o,s){let a=wv(r),d=n.firstCreatePass?l0(n):null,p=u0(e),g=!0;if(r.type&3||s){let w=hr(r,e),_=s?s(w):w,M=p.length,O=s?U=>s(ur(U[r.index])):r.index,k=null;if(!s&&a&&(k=XV(n,e,i,r.index)),k!==null){let U=k.__ngLastListenerFn__||k;U.__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,g=!1}else{o=CD(r,e,o),dF(e,_,i,o);let U=t.listen(_,i,o);p.push(o,U),d&&d.push(i,O,M,M+1)}}else o=CD(r,e,o);if(g){let w=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let M=0;M<_.length;M+=2){let O=_[M],k=_[M+1];TD(r,e,O,k,i,o)}if(w&&w.length)for(let M of w)TD(r,e,M,i,i,o)}}function Gn(n=1){return C1(n)}function Pe(n,e=""){let t=je(),r=rn(),i=n+fn,o=r.firstCreatePass?Wv(r,i,1,e,null):r.data[i],s=e2(r,t,o,e,n);t[i]=s,Dv()&&qv(r,t,s,o),Lu(o,!1)}var e2=(n,e,t,r,i)=>(Tv(!0),DF(e[yt],r));function pr(n){return $T("",n,""),pr}function $T(n,e,t){let r=je(),i=NV(r,n,e,t);return i!==qi&&t2(r,ja(),i),$T}function t2(n,e,t){let r=o0(e,n);TF(n[yt],r,t)}function gr(n,e,t){U0(e)&&(e=e());let r=je(),i=Vu();if(is(r,i,e)){let o=rn(),s=Cv();lT(o,s,r,n,e,r[yt],t,!1)}return gr}function Yr(n,e){let t=U0(n);return t&&n.set(e),t}function mr(n,e){let t=je(),r=rn(),i=Nn();return UT(r,t,t[yt],i,n,e),mr}function n2(n,e,t){let r=rn();if(r.firstCreatePass){let i=cr(n);sv(t,r.data,r.blueprint,i,!0),sv(e,r.data,r.blueprint,i,!1)}}function sv(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)sv(n[o],e,t,r,i);else{let o=rn(),s=je(),a=Nn(),u=Ta(n)?n:Ht(n.provide),d=QD(n),p=a.providerIndexes&1048575,g=a.directiveStart,w=a.providerIndexes>>20;if(Ta(n)||!n.multi){let _=new Jo(d,i,Q),M=Dy(u,e,i?p:p+w,g);M===-1?(Ly(Wh(a,s),o,u),Cy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)):(t[M]=_,s[M]=_)}else{let _=Dy(u,e,p+w,g),M=Dy(u,e,p,p+w),O=_>=0&&t[_],k=M>=0&&t[M];if(i&&!k||!i&&!O){Ly(Wh(a,s),o,u);let U=o2(i?i2:r2,t.length,i,r,d);!i&&k&&(t[M].providerFactory=U),Cy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=HT(t[i?M:_],d,!i&&r);Cy(o,n,_>-1?_:M,U)}!i&&r&&k&&t[M].componentProviders++}}}function Cy(n,e,t,r){let i=Ta(e),o=GO(e);if(i||o){let u=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function HT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Dy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function r2(n,e,t,r,i){return av(this.multi,[])}function i2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Kh(r,r[me],this.providerFactory.index,i);s=u.slice(0,a),av(o,s);for(let d=a;d<u.length;d++)s.push(u[d])}else s=[],av(o,s);return s}function av(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function o2(n,e,t,r,i){let o=new Jo(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,HT(o,i,r&&!t),o}function mn(n,e=[]){return t=>{t.providersResolver=(r,i)=>n2(r,i?i(n):n,e)}}function If(n,e,t,r){return qT(je(),g0(),n,e,t,r)}function s2(n,e){let t=n[e];return t===qi?void 0:t}function qT(n,e,t,r,i,o){let s=e+t;return is(n,s,i)?_V(n,s+1,o?r.call(o,i):r(i)):s2(n,s+1)}function zT(n,e){let t=rn(),r,i=n+fn;t.firstCreatePass?(r=a2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Go(r.type,!0)),s,a=en(Q);try{let u=Gh(!1),d=o();return Gh(u),o1(t,je(),i,d),d}finally{en(a)}}function a2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function GT(n,e,t){let r=n+fn,i=je(),o=i1(i,r);return c2(i,r)?qT(i,g0(),e,o.transform,t,o):o.transform(t)}function c2(n,e){return n[me].data[e].pure}var Oa=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},WT=new Oa("19.2.14"),cv=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},KT=(()=>{class n{compileModuleSync(t){return new nv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=zD(t),o=eT(i.declarations).reduce((s,a)=>{let u=Ko(a);return u&&s.push(new xa(u)),s},[]);return new cv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u2=(()=>{class n{zone=L(Oe);changeDetectionScheduler=L(Ma);applicationRef=L(Xo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),l2=new G("",{factory:()=>!1});function QT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Oe(he(B({},ZT()),{scheduleInRootZone:t})),[{provide:Oe,useFactory:n},{provide:Su,multi:!0,useFactory:()=>{let r=L(u2,{optional:!0});return()=>r.initialize()}},{provide:Su,multi:!0,useFactory:()=>{let r=L(d2);return()=>{r.initialize()}}},e===!0?{provide:F0,useValue:!0}:[],{provide:L0,useValue:t??O0}]}function YT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=QT({ngZoneFactory:()=>{let i=ZT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&gf("NgZone_CoalesceEvent"),new Oe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Gr([{provide:l2,useValue:!0},{provide:Av,useValue:!1},r])}function ZT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var d2=(()=>{class n{subscription=new Qe;initialized=!1;zone=L(Oe);pendingTasks=L(ts);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var h2=(()=>{class n{appRef=L(Xo);taskService=L(ts);ngZone=L(Oe);zonelessEnabled=L(Av);tracing=L(pf,{optional:!0});disableScheduling=L(F0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Yh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(L0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $y||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?oD:V0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Yh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f2(){return typeof $localize<"u"&&$localize.locale||rf}var Xv=new G("",{providedIn:"root",factory:()=>L(Xv,ue.Optional|ue.SkipSelf)||f2()});var uv=new G(""),p2=new G("");function bu(n){return!n.moduleRef}function g2(n){let e=bu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Oe);return t.run(()=>{bu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(qr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),bu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(uv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(uv);s.add(o),n.moduleRef.onDestroy(()=>{Mh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return y2(r,t,()=>{let o=e.get(jT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Xv,rf);if(ZV(s||rf),!e.get(p2,!0))return bu(n)?e.get(Xo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(bu(n)){let u=e.get(Xo);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return m2(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function m2(n,e){let t=n.injector.get(Xo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new z(-403,!1);e.push(n)}function y2(n,e,t){try{let r=t();return Gi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Nh=null;function v2(n=[],e){return Pt.create({name:e,providers:[{provide:cf,useValue:"platform"},{provide:uv,useValue:new Set([()=>Nh=null])},...n]})}function w2(n=[]){if(Nh)return Nh;let e=v2(n);return Nh=e,SV(),_2(e),e}function _2(n){let e=n.get(xv,null);Wt(n,()=>{e?.forEach(t=>t())})}function ew(){return!1}var Ua=(()=>{class n{static __NG_ELEMENT_ID__=E2}return n})();function E2(n){return I2(Nn(),je(),(n&16)===16)}function I2(n,e,t){if(La(n)&&!t){let r=lr(n.index,e);return new Nu(r,r)}else if(n.type&175){let r=e[ar];return new Nu(r,e)}return null}var lv=class{constructor(){}supports(e){return FT(e)}create(e){return new dv(e)}},b2=(n,e)=>e,dv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||b2}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<SD(r,i,o)?t:r,a=SD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let w=0;w<d;w++){let _=w<o.length?o[w]:o[w]=0,M=_+w;p<=M&&M<d&&(o[w]=_+1)}let g=s.previousIndex;o[g]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!FT(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,vV(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new hv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new of),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new of),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},fv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},of=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new fv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function SD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function AD(){return new tw([new lv])}var tw=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:AD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AD()),deps:[[n,new FO,new pn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function JT(n){Be(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=w2(r),o=[QT({}),{provide:Ma,useExisting:h2},...t||[]],s=new tf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return g2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Be(9)}}function bf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function yn(n){return Qm(n)}function os(n,e){return zm(n,e?.equal)}var RD=class{[Sn];constructor(e){this[Sn]=e}destroy(){this[Sn].destroy()}};function XT(n){let e=Ko(n);if(!e)return null;let t=new xa(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Vt=new G("");var nS=null;function xn(){return nS}function nw(n){nS??=n}var Uu=class{},rw=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(rS),providedIn:"platform"})}return n})();var rS=(()=>{class n extends rw{_location;_history;_doc=L(Vt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xn().getBaseHref(this._doc)}onPopState(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function iS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function eS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Wi(n){return n&&n[0]!=="?"?`?${n}`:n}var Cf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(sS),providedIn:"root"})}return n})(),oS=new G(""),sS=(()=>{class n extends Cf{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return iS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Wi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Wi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(fe(rw),fe(oS,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$a=(()=>{class n{_subject=new pt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=T2(eS(tS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wi(r))}normalize(t){return n.stripTrailingSlash(D2(this._basePath,tS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Wi;static joinWithSlash=iS;static stripTrailingSlash=eS;static \u0275fac=function(r){return new(r||n)(fe(Cf))};static \u0275prov=W({token:n,factory:()=>C2(),providedIn:"root"})}return n})();function C2(){return new $a(fe(Cf))}function D2(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function tS(n){return n.replace(/\/index.html$/,"")}function T2(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var iw=/\s+/,aS=[],aw=(()=>{class n{_ngEl;_renderer;initialClasses=aS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(iw):aS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(iw):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(iw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Q(fr),Q(rs))};static \u0275dir=Fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Df=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Sf=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Df(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),cS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);cS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(Ba),Q(vf),Q(tw))};static \u0275dir=Fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function cS(n,e){n.context.$implicit=e.item}var Zr=(()=>{class n{_viewContainer;_context=new Tf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(Ba),Q(vf))};static \u0275dir=Fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Tf=class{$implicit=null;ngIf=null};function uS(n,e){if(n&&!n.createEmbeddedView)throw new z(2020,!1)}function S2(n,e){return new z(2100,!1)}var ow=class{createSubscription(e,t){return yn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){yn(()=>e.unsubscribe())}},sw=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},A2=new sw,R2=new ow,cw=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Gi(t))return A2;if(Qv(t))return R2;throw S2(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Q(Ua,16))};static \u0275pipe=PT({name:"async",type:n,pure:!1})}return n})();var Ki=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zi({type:n});static \u0275inj=$i({})}return n})();function uw(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var lw="browser",lS="server";function Af(n){return n===lS}var $u=class{};var Nf=new G(""),gw=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(fe(Nf),fe(Oe))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Hu=class{_doc;constructor(e){this._doc=e}manager},Rf="ng-app-id";function dS(n){for(let e of n)e.remove()}function hS(n,e){let t=e.createElement("style");return t.textContent=n,t}function M2(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Rf}="${e}"],link[${Rf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Rf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function fw(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var mw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Af(o),M2(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,hS);r?.forEach(i=>this.addUsage(i,this.external,fw))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(dS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])dS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,hS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,fw(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Rf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(fe(Vt),fe(Nv),fe(Pv,8),fe(ns))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yw=/%COMP%/g;var pS="%COMP%",N2=`_nghost-${pS}`,x2=`_ngcontent-${pS}`,P2=!0,k2=new G("",{providedIn:"root",factory:()=>P2});function O2(n){return x2.replace(yw,n)}function F2(n){return N2.replace(yw,n)}function gS(n,e){return e.map(t=>t.replace(yw,n))}var vw=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,d=null,p=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.tracingService=p,this.platformIsServer=Af(a),this.defaultRenderer=new qu(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===dr.ShadowDom&&(r=he(B({},r),{encapsulation:dr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Mf?i.applyToHost(t):i instanceof zu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer,w=this.tracingService;switch(r.encapsulation){case dr.Emulated:o=new Mf(u,d,r,this.appId,p,s,a,g,w);break;case dr.ShadowDom:return new pw(u,d,t,r,s,a,this.nonce,g,w);default:o=new zu(u,d,r,p,s,a,g,w);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(fe(gw),fe(mw),fe(Nv),fe(k2),fe(Vt),fe(ns),fe(Oe),fe(Pv),fe(pf,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),qu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(hw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(fS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(fS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=hw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=hw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zr.DashCase|zr.Important)?e.style.setProperty(t,r,i&zr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=xn().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function fS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var pw=class extends qu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,d){super(e,o,s,u,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=i.styles;p=gS(i.id,p);for(let w of p){let _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=w,this.shadowRoot.appendChild(_)}let g=i.getExternalStyles?.();if(g)for(let w of g){let _=fw(w,o);a&&_.setAttribute("nonce",a),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zu=class extends qu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,d){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let p=r.styles;this.styles=d?gS(d,p):p,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Mf=class extends zu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,d){let p=i+"-"+r.id;super(e,t,r,o,s,a,u,d,p),this.contentAttr=O2(p),this.hostAttr=F2(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var xf=class n extends Uu{supportsDOMEvents=!0;static makeCurrent(){nw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=L2();return t==null?null:V2(t)}resetBaseElement(){Gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uw(document.cookie,e)}},Gu=null;function L2(){return Gu=Gu||document.head.querySelector("base"),Gu?Gu.getAttribute("href"):null}function V2(n){return new URL(n,document.baseURI).pathname}var j2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),yS=(()=>{class n extends Hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(fe(Vt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),mS=["alt","control","meta","shift"],B2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},U2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vS=(()=>{class n extends Hu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mS.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=B2[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),mS.forEach(s=>{if(s!==i){let a=U2[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(fe(Vt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();function ww(n,e){return JT(B({rootComponent:n},$2(e)))}function $2(n){return{appProviders:[...W2,...n?.providers??[]],platformProviders:G2}}function H2(){xf.makeCurrent()}function q2(){return new qr}function z2(){return K0(document),document}var G2=[{provide:ns,useValue:lw},{provide:xv,useValue:H2,multi:!0},{provide:Vt,useFactory:z2}];var W2=[{provide:cf,useValue:"root"},{provide:qr,useFactory:q2},{provide:Nf,useClass:yS,multi:!0,deps:[Vt]},{provide:Nf,useClass:vS,multi:!0,deps:[Vt]},vw,mw,gw,{provide:Na,useExisting:vw},{provide:$u,useClass:j2},[]];var wS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(fe(Vt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ce="primary",sl=Symbol("RouteTitle"),Cw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function cs(n){return new Cw(n)}function SS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Q2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yr(n[t],e[t]))return!1;return!0}function yr(n,e){let t=n?Dw(n):void 0,r=e?Dw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!AS(n[i],e[i]))return!1;return!0}function Dw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function AS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function RS(n){return n.length>0?n[n.length-1]:null}function Yi(n){return cy(n)?n:Gi(n)?xe(Promise.resolve(n)):ne(n)}var Y2={exact:NS,subset:xS},MS={exact:Z2,subset:J2,ignored:()=>!0};function _S(n,e,t){return Y2[t.paths](n.root,e.root,t.matrixParams)&&MS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Z2(n,e){return yr(n,e)}function NS(n,e,t){if(!ss(n.segments,e.segments)||!Of(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!NS(n.children[r],e.children[r],t))return!1;return!0}function J2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>AS(n[t],e[t]))}function xS(n,e,t){return PS(n,e,e.segments,t)}function PS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ss(i,t)||e.hasChildren()||!Of(i,t,r))}else if(n.segments.length===t.length){if(!ss(n.segments,t)||!Of(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!xS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ss(n.segments,i)||!Of(n.segments,i,r)||!n.children[ce]?!1:PS(n.children[ce],e,o,r)}}function Of(n,e,t){return e.every((r,i)=>MS[t](n[i].parameters,r.parameters))}var wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Se([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=cs(this.queryParams),this._queryParamMap}toString(){return tj.serialize(this)}},Se=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ff(this)}},Qi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=cs(this.parameters),this._parameterMap}toString(){return OS(this)}};function X2(n,e){return ss(n,e)&&n.every((t,r)=>yr(t.parameters,e[r].parameters))}function ss(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function ej(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ce&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ce&&(t=t.concat(e(i,r)))}),t}var al=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new us,providedIn:"root"})}return n})(),us=class{parse(e){let t=new Sw(e);return new wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wu(e.root,!0)}`,r=ij(e.queryParams),i=typeof e.fragment=="string"?`#${nj(e.fragment)}`:"";return`${t}${r}${i}`}},tj=new us;function Ff(n){return n.segments.map(e=>OS(e)).join("/")}function Wu(n,e){if(!n.hasChildren())return Ff(n);if(e){let t=n.children[ce]?Wu(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ce&&r.push(`${i}:${Wu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=ej(n,(r,i)=>i===ce?[Wu(n.children[ce],!1)]:[`${i}:${Wu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${Ff(n)}/${t[0]}`:`${Ff(n)}/(${t.join("//")})`}}function kS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pf(n){return kS(n).replace(/%3B/gi,";")}function nj(n){return encodeURI(n)}function Tw(n){return kS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lf(n){return decodeURIComponent(n)}function ES(n){return Lf(n.replace(/\+/g,"%20"))}function OS(n){return`${Tw(n.path)}${rj(n.parameters)}`}function rj(n){return Object.entries(n).map(([e,t])=>`;${Tw(e)}=${Tw(t)}`).join("")}function ij(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Pf(t)}=${Pf(i)}`).join("&"):`${Pf(t)}=${Pf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var oj=/^[^\/()?;#]+/;function _w(n){let e=n.match(oj);return e?e[0]:""}var sj=/^[^\/()?;=#]+/;function aj(n){let e=n.match(sj);return e?e[0]:""}var cj=/^[^=?&#]+/;function uj(n){let e=n.match(cj);return e?e[0]:""}var lj=/^[^&#]+/;function dj(n){let e=n.match(lj);return e?e[0]:""}var Sw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new Se(e,t)),r}parseSegment(){let e=_w(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Qi(Lf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_w(this.remaining);i&&(r=i,this.capture(r))}e[Lf(t)]=Lf(r)}parseQueryParam(e){let t=uj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=dj(this.remaining);s&&(r=s,this.capture(r))}let i=ES(t),o=ES(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_w(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ce]:new Se([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function FS(n){return n.segments.length>0?new Se([],{[ce]:n}):n}function LS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=LS(i);if(r===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Se(n.segments,e);return hj(t)}function hj(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new Se(n.segments.concat(e.segments),e.children)}return n}function Wa(n){return n instanceof wr}function VS(n,e,t=null,r=null){let i=jS(n);return BS(i,e,t,r)}function jS(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new Se(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=FS(r);return e??i}function BS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ew(i,i,i,t,r);let o=fj(e);if(o.toRoot())return Ew(i,i,new Se([],{}),t,r);let s=pj(o,i,n),a=s.processChildren?Qu(s.segmentGroup,s.index,o.commands):$S(s.segmentGroup,s.index,o.commands);return Ew(i,s.segmentGroup,a,t,r)}function jf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Zu(n){return typeof n=="object"&&n!=null&&n.outlets}function Ew(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=US(n,e,t);let a=FS(LS(s));return new wr(a,o,i)}function US(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=US(o,e,t)}),new Se(n.segments,r)}var Bf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jf(r[0]))throw new z(4003,!1);let i=r.find(Zu);if(i&&i!==RS(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bf(t,e,r)}var za=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pj(n,e,t){if(n.isAbsolute)return new za(e,!0,0);if(!t)return new za(e,!1,NaN);if(t.parent===null)return new za(t,!0,0);let r=jf(n.commands[0])?0:1,i=t.segments.length-1+r;return gj(t,i,n.numberOfDoubleDots)}function gj(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new za(r,!1,i-o)}function mj(n){return Zu(n[0])?n[0].outlets:{[ce]:n}}function $S(n,e,t){if(n??=new Se([],{}),n.segments.length===0&&n.hasChildren())return Qu(n,e,t);let r=yj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Se(n.segments.slice(0,r.pathIndex),{});return o.children[ce]=new Se(n.segments.slice(r.pathIndex),n.children),Qu(o,0,i)}else return r.match&&i.length===0?new Se(n.segments,{}):r.match&&!n.hasChildren()?Aw(n,e,t):r.match?Qu(n,0,i):Aw(n,e,t)}function Qu(n,e,t){if(t.length===0)return new Se(n.segments,{});{let r=mj(t),i={};if(Object.keys(r).some(o=>o!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let o=Qu(n.children[ce],e,t);return new Se(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=$S(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Se(n.segments,i)}}function yj(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Zu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!bS(u,d,s))return o;r+=2}else{if(!bS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Aw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Zu(o)){let u=vj(o.outlets);return new Se(r,u)}if(i===0&&jf(t[0])){let u=n.segments[e];r.push(new Qi(u.path,IS(t[0]))),i++;continue}let s=Zu(o)?o.outlets[ce]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jf(a)?(r.push(new Qi(s,IS(a))),i+=2):(r.push(new Qi(s,{})),i++)}return new Se(r,{})}function vj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Aw(new Se([],{}),0,r))}),e}function IS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function bS(n,e,t){return n==t.path&&yr(e,t.parameters)}var Vf="imperative",Ct=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ct||{}),wn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ls=class extends wn{type=Ct.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends wn{urlAfterRedirects;type=Ct.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(sn||{}),Ju=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ju||{}),vr=class extends wn{reason;code;type=Ct.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xr=class extends wn{reason;code;type=Ct.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ka=class extends wn{error;target;type=Ct.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xu=class extends wn{urlAfterRedirects;state;type=Ct.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class extends wn{urlAfterRedirects;state;type=Ct.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends wn{urlAfterRedirects;state;shouldActivate;type=Ct.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hf=class extends wn{urlAfterRedirects;state;type=Ct.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qf=class extends wn{urlAfterRedirects;state;type=Ct.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class{route;type=Ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{route;type=Ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{snapshot;type=Ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kf=class{snapshot;type=Ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qf=class{snapshot;type=Ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{snapshot;type=Ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var el=class{},Qa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wj(n,e){return n.providers&&!n._injector&&(n._injector=_f(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Wn(n){return n.outlet||ce}function _j(n,e){let t=n.filter(r=>Wn(r)===e);return t.push(...n.filter(r=>Wn(r)!==e)),t}function cl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ja(this.rootInjector)}},Ja=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(fe(nn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Mw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mw(e,this._root).map(t=>t.value)}};function Rw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rw(n,t);if(r)return r}return null}function Mw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Mw(n,t);if(r.length)return r.unshift(e),r}return[]}var vn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function qa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var tl=class extends Jf{snapshot;constructor(e,t){super(e),this.snapshot=t,Vw(this,e)}toString(){return this.snapshot.toString()}};function HS(n){let e=Ej(n),t=new gt([new Qi("",{})]),r=new gt({}),i=new gt({}),o=new gt({}),s=new gt(""),a=new _r(t,r,o,s,i,ce,n,e.root);return a.snapshot=e.root,new tl(new vn(a,[]),e)}function Ej(n){let e={},t={},r={},i="",o=new as([],e,r,i,t,ce,n,null,{});return new nl("",new vn(o,[]))}var _r=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(d=>d[sl]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&zS(i)&&(r.resolve[sl]=i.title),r}var as=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sl]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},nl=class extends Jf{url;constructor(e,t){super(t),this.url=e,Vw(this,t)}toString(){return qS(this._root)}};function Vw(n,e){e.value._routerState=n,e.children.forEach(t=>Vw(n,t))}function qS(n){let e=n.children.length>0?` { ${n.children.map(qS).join(", ")} } `:"";return`${n.value}${e}`}function Iw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yr(e.params,t.params)||n.paramsSubject.next(t.params),Q2(e.url,t.url)||n.urlSubject.next(t.url),yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Nw(n,e){let t=yr(n.params,e.params)&&X2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Nw(n.parent,e.parent))}function zS(n){return typeof n.title=="string"||n.title===null}var GS=new G(""),ul=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new tt;deactivateEvents=new tt;attachEvents=new tt;detachEvents=new tt;routerOutletData=B0(void 0);parentContexts=L(Ja);location=L(Ba);changeDetector=L(Ua);inputBinder=L(ll,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hi]})}return n})(),xw=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===_r?this.route:e===Ja?this.childContexts:e===GS?this.outletData:this.parent.get(e,t)}},ll=new G(""),jw=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Eu([r.queryParams,r.params,r.data]).pipe(xt(([o,s,a],u)=>(a=B(B(B({},o),s),a),u===0?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=XT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Bw=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=on({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&It(0,"router-outlet")},dependencies:[ul],encapsulation:2})}return n})();function Uw(n){let e=n.children&&n.children.map(Uw),t=e?he(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=Bw),t}function Ij(n,e,t){let r=rl(n,e._root,t?t._root:void 0);return new tl(r,e)}function rl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=bj(n,e,t);return new vn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>rl(n,a)),s}}let r=Cj(e.value),i=e.children.map(o=>rl(n,o));return new vn(r,i)}}function bj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rl(n,r,i);return rl(n,r)})}function Cj(n){return new _r(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var Ya=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},WS="ngNavigationCancelingError";function ep(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KS(!1,sn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function KS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[WS]=!0,t.cancellationCode=e,t}function Dj(n){return QS(n)&&Wa(n.url)}function QS(n){return!!n&&n[WS]}var Tj=(n,e,t,r)=>re(i=>(new Pw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=qa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=qa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=qa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Yf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Iw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},tp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Sj(n,e,t){let r=n._root,i=e?e._root:null;return Ku(r,i,t,[r.value])}function Aj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!kD(n)?n:e.get(n):r}function Ku(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qa(e);return n.children.forEach(s=>{Rj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yu(a,t.getContext(s),i)),i}function Rj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Mj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new tp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ku(n,e,a?a.children:null,r,i):Ku(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&Yu(e,a,i),i.canActivateChecks.push(new tp(r)),o.component?Ku(n,null,a?a.children:null,r,i):Ku(n,null,t,r,i);return i}function Mj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ss(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ss(n.url,e.url)||!yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nw(n,e)||!yr(n.queryParams,e.queryParams);case"paramsChange":default:return!Nw(n,e)}}function Yu(n,e,t){let r=qa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Yu(s,e.children.getContext(o),t):Yu(s,null,t):Yu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ga(e.outlet.component,i)):t.canDeactivateChecks.push(new Ga(null,i)):t.canDeactivateChecks.push(new Ga(null,i))}function dl(n){return typeof n=="function"}function Nj(n){return typeof n=="boolean"}function xj(n){return n&&dl(n.canLoad)}function Pj(n){return n&&dl(n.canActivate)}function kj(n){return n&&dl(n.canActivateChild)}function Oj(n){return n&&dl(n.canDeactivate)}function Fj(n){return n&&dl(n.canMatch)}function YS(n){return n instanceof Ur||n?.name==="EmptyError"}var kf=Symbol("INITIAL_VALUE");function Za(){return xt(n=>Eu(n.map(e=>e.pipe($r(1),Ch(kf)))).pipe(re(e=>{for(let t of e)if(t!==!0){if(t===kf)return kf;if(t===!1||Lj(t))return t}return!0}),An(e=>e!==kf),$r(1)))}function Lj(n){return Wa(n)||n instanceof Ya}function Vj(n,e){return mt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(he(B({},t),{guardsResult:!0})):jj(s,r,i,n).pipe(mt(a=>a&&Nj(a)?Bj(r,o,n,e):ne(a)),re(a=>he(B({},t),{guardsResult:a})))})}function jj(n,e,t,r){return xe(n).pipe(mt(i=>zj(i.component,i.route,t,e,r)),Hr(i=>i!==!0,!0))}function Bj(n,e,t,r){return xe(e).pipe(_a(i=>wa($j(i.route.parent,r),Uj(i.route,r),qj(n,i.path,t),Hj(n,i.route,t))),Hr(i=>i!==!0,!0))}function Uj(n,e){return n!==null&&e&&e(new Qf(n)),ne(!0)}function $j(n,e){return n!==null&&e&&e(new Wf(n)),ne(!0)}function Hj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Eh(()=>{let s=cl(e)??t,a=Xa(o,s),u=Pj(a)?a.canActivate(e,n):Wt(s,()=>a(e,n));return Yi(u).pipe(Hr())}));return ne(i).pipe(Za())}function qj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Aj(s)).filter(s=>s!==null).map(s=>Eh(()=>{let a=s.guards.map(u=>{let d=cl(s.node)??t,p=Xa(u,d),g=kj(p)?p.canActivateChild(r,n):Wt(d,()=>p(r,n));return Yi(g).pipe(Hr())});return ne(a).pipe(Za())}));return ne(o).pipe(Za())}function zj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=cl(e)??i,d=Xa(a,u),p=Oj(d)?d.canDeactivate(n,e,t,r):Wt(u,()=>d(n,e,t,r));return Yi(p).pipe(Hr())});return ne(s).pipe(Za())}function Gj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=Xa(s,n),u=xj(a)?a.canLoad(e,t):Wt(n,()=>a(e,t));return Yi(u)});return ne(o).pipe(Za(),ZS(r))}function ZS(n){return th(Ye(e=>{if(typeof e!="boolean")throw ep(n,e)}),re(e=>e===!0))}function Wj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=Xa(s,n),u=Fj(a)?a.canMatch(e,t):Wt(n,()=>a(e,t));return Yi(u)});return ne(o).pipe(Za(),ZS(r))}var il=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ol=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ha(n){return va(new il(n))}function Kj(n){return va(new z(4e3,!1))}function Qj(n){return va(KS(!1,sn.GuardRejected))}var kw=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return Kj(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,params:_,data:M,title:O}=i,k=Wt(o,()=>a({params:_,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:w,title:O}));if(k instanceof wr)throw new ol(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ol(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Se(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yj(n,e,t,r,i){let o=JS(n,e,t);return o.matched?(r=wj(e,r),Wj(r,e,t,i).pipe(re(s=>s===!0?o:B({},Ow)))):ne(o)}function JS(n,e,t){if(e.path==="**")return Zj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},Ow):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SS)(t,n,e);if(!i)return B({},Ow);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Zj(n){return{matched:!0,parameters:n.length>0?RS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function CS(n,e,t,r){return t.length>0&&eB(n,t,r)?{segmentGroup:new Se(e,Xj(r,new Se(t,n.children))),slicedSegments:[]}:t.length===0&&tB(n,t,r)?{segmentGroup:new Se(n.segments,Jj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Se(n.segments,n.children),slicedSegments:t}}function Jj(n,e,t,r){let i={};for(let o of t)if(rp(n,e,o)&&!r[Wn(o)]){let s=new Se([],{});i[Wn(o)]=s}return B(B({},r),i)}function Xj(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&Wn(r)!==ce){let i=new Se([],{});t[Wn(r)]=i}return t}function eB(n,e,t){return t.some(r=>rp(n,e,r)&&Wn(r)!==ce)}function tB(n,e,t){return t.some(r=>rp(n,e,r))}function rp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function nB(n,e,t){return e.length===0&&!n.children[t]}var Fw=class{};function rB(n,e,t,r,i,o,s="emptyOnly"){return new Lw(n,e,t,r,i,s,o).recognize()}var iB=31,Lw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kw(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=CS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:t,rootSnapshot:r})=>{let i=new vn(r,t),o=new nl("",i),s=VS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new as([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(re(r=>({children:r,rootSnapshot:t})),Li(r=>{if(r instanceof ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof il?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(re(s=>s instanceof vn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(_a(s=>{let a=r.children[s],u=_j(t,s);return this.processSegmentGroup(e,u,a,s,i)}),bh((s,a)=>(s.push(...a),s)),Vi(null),ly(),mt(s=>{if(s===null)return Ha(r);let a=XS(s);return oB(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return xe(t).pipe(_a(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Li(d=>{if(d instanceof il)return ne(null);throw d}))),Hr(u=>!!u),Li(u=>{if(YS(u))return nB(r,i,o)?ne(new Fw):Ha(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Wn(r)!==s&&(s===ce||!rp(i,o,r))?Ha(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ha(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:w}=JS(t,i,o);if(!u)return Ha(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iB&&(this.allowRedirects=!1));let _=new as(o,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,DS(i),Wn(i),i.component??i._loadedComponent??null,i,TS(i)),M=Xf(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(M.params),_.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,_,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(mt(k=>this.processSegment(e,r,t,k.concat(w),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Yj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:w,remainingSegments:_}=u,M=new as(w,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,DS(r),Wn(r),r.component??r._loadedComponent??null,r,TS(r)),O=Xf(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:U}=CS(t,w,_,d);if(U.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(re(ee=>new vn(M,ee)));if(d.length===0&&U.length===0)return ne(new vn(M,[]));let Z=Wn(r)===o;return this.processSegment(p,d,k,U,Z?ce:o,!0,M).pipe(re(ee=>new vn(M,ee instanceof vn?[ee]:[])))}))):Ha(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):Gj(e,t,r,this.urlSerializer).pipe(mt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Qj(t))):ne({routes:[],injector:e})}};function oB(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function sB(n){let e=n.value.routeConfig;return e&&e.path===""}function XS(n){let e=[],t=new Set;for(let r of n){if(!sB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=XS(r.children);e.push(new vn(r.value,i))}return e.filter(r=>!t.has(r))}function DS(n){return n.data||{}}function TS(n){return n.resolve||{}}function aB(n,e,t,r,i,o){return mt(s=>rB(n,e,t,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>he(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function cB(n,e){return mt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of eA(u))s.add(d);let a=0;return xe(s).pipe(_a(u=>o.has(u)?uB(u,r,n,e):(u.data=Xf(u,u.parent,n).resolve,ne(void 0))),Ye(()=>a++),Ea(1),mt(u=>a===s.size?ne(t):Jt))})}function eA(n){let e=n.children.map(t=>eA(t)).flat();return[n,...e]}function uB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!zS(i)&&(o[sl]=i.title),lB(o,n,e,r).pipe(re(s=>(n._resolvedData=s,n.data=Xf(n,n.parent,t).resolve,null)))}function lB(n,e,t,r){let i=Dw(n);if(i.length===0)return ne({});let o={};return xe(i).pipe(mt(s=>dB(n[s],e,t,r).pipe(Hr(),Ye(a=>{if(a instanceof Ya)throw ep(new us,a);o[s]=a}))),Ea(1),re(()=>o),Li(s=>YS(s)?Jt:va(s)))}function dB(n,e,t,r){let i=cl(e)??r,o=Xa(n,i),s=o.resolve?o.resolve(e,t):Wt(i,()=>o(e,t));return Yi(s)}function bw(n){return xt(e=>{let t=n(e);return t?xe(t).pipe(re(()=>e)):ne(e)})}var $w=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[sl]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(tA),providedIn:"root"})}return n})(),tA=(()=>{class n extends $w{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(fe(wS))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hl=new G("",{providedIn:"root",factory:()=>({})}),fl=new G(""),nA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(KT);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yi(t.loadComponent()).pipe(re(iA),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Iu(()=>{this.componentLoaders.delete(t)})),i=new pa(r,()=>new pt).pipe(fa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=rA(r,this.compiler,t,this.onLoadEndListener).pipe(Iu(()=>{this.childrenLoaders.delete(r)})),s=new pa(o,()=>new pt).pipe(fa());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rA(n,e,t,r){return Yi(n.loadChildren()).pipe(re(iA),mt(i=>i instanceof Kv||Array.isArray(i)?ne(i):xe(e.compileModuleAsync(i))),re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uw),injector:o}}))}function hB(n){return n&&typeof n=="object"&&"default"in n}function iA(n){return hB(n)?n.default:n}var ip=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(fB),providedIn:"root"})}return n})(),fB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oA=new G("");var sA=new G(""),aA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new pt;transitionAbortSubject=new pt;configLoader=L(nA);environmentInjector=L(nn);destroyRef=L(ju);urlSerializer=L(al);rootContexts=L(Ja);location=L($a);inputBindingEnabled=L(ll,{optional:!0})!==null;titleStrategy=L($w);options=L(hl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(ip);createViewTransition=L(oA,{optional:!0});navigationErrorHandler=L(sA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new zf(i)),r=i=>this.events.next(new Gf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(he(B({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new gt(null),this.transitions.pipe(An(r=>r!==null),xt(r=>{let i=!1,o=!1;return ne(r).pipe(xt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",sn.SupersededByNewNavigation),Jt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?he(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let d="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.rawUrl),d,Ju.IgnoredSameUrlNavigation)),s.resolve(!1),Jt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ne(s).pipe(xt(d=>(this.events.next(new ls(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Jt:Promise.resolve(d))),aB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(d=>{r.targetSnapshot=d.targetSnapshot,r.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=he(B({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Xu(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:w,extras:_}=s,M=new ls(d,this.urlSerializer.serialize(p),g,w);this.events.next(M);let O=HS(this.rootComponentType).snapshot;return this.currentTransition=r=he(B({},s),{targetSnapshot:O,urlAfterRedirects:p,extras:he(B({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,ne(r)}else{let d="";return this.events.next(new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),d,Ju.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Jt}}),Ye(s=>{let a=new Uf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),re(s=>(this.currentTransition=r=he(B({},s),{guards:Sj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Vj(this.environmentInjector,s=>this.events.next(s)),Ye(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw ep(this.urlSerializer,s.guardsResult);let a=new $f(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),An(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",sn.GuardRejected),!1)),bw(s=>{if(s.guards.canActivateChecks.length!==0)return ne(s).pipe(Ye(a=>{let u=new Hf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),xt(a=>{let u=!1;return ne(a).pipe(cB(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",sn.NoDataFromResolver)}}))}),Ye(a=>{let u=new qf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),bw(s=>{let a=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ye(p=>{u.component=p}),re(()=>{})));for(let p of u.children)d.push(...a(p));return d};return Eu(a(s.targetSnapshot.root)).pipe(Vi(null),$r(1))}),bw(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?xe(u).pipe(re(()=>r)):ne(r)}),re(s=>{let a=Ij(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=he(B({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ye(()=>{this.events.next(new el)}),Tj(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),$r(1),Ye({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),dy(this.transitionAbortSubject.pipe(Ye(s=>{throw s}))),Iu(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",sn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Li(s=>{if(this.destroyed)return r.resolve(!1),Jt;if(o=!0,QS(s))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Dj(s)?this.events.next(new Qa(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ka(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Wt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ya){let{message:d,cancellationCode:p}=ep(this.urlSerializer,u);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),d,p)),this.events.next(new Qa(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Jt}))}))}cancelNavigationTransition(t,r,i){let o=new vr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pB(n){return n!==Vf}var cA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(gB),providedIn:"root"})}return n})(),np=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},gB=(()=>{class n extends np{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uA=(()=>{class n{urlSerializer=L(al);options=L(hl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L($a);urlHandlingStrategy=L(ip);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=HS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(mB),providedIn:"root"})}return n})(),mB=(()=>{class n extends uA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ls?this.updateStateMemento():t instanceof Xr?this.commitTransition(r):t instanceof Xu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof el?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vr&&(t.code===sn.GuardRejected||t.code===sn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ka?this.restoreHistory(r,!0):t instanceof Jr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=B(B({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=B(B({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hw(n,e){n.events.pipe(An(t=>t instanceof Jr||t instanceof vr||t instanceof Ka||t instanceof Xr),re(t=>t instanceof Jr||t instanceof Xr?0:(t instanceof vr?t.code===sn.Redirect||t.code===sn.SupersededByNewNavigation:!1)?2:1),An(t=>t!==2),$r(1)).subscribe(()=>{e()})}var yB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Er=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(LT);stateManager=L(uA);options=L(hl,{optional:!0})||{};pendingTasks=L(ts);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(aA);urlSerializer=L(al);location=L($a);urlHandlingStrategy=L(ip);_events=new pt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(cA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(fl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(ll,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==sn.Redirect&&r.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof Qa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pB(i.source)},s);this.scheduleNavigation(a,Vf,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_B(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let w=i?i.snapshot:this.routerState.snapshot.root;g=jS(w)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return BS(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wa(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vf,null,r)}navigate(t,r={skipLocationChange:!1}){return wB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},yB):r===!1?i=B({},vB):i=r,Wa(t))return _S(this.currentUrlTree,t,i);let o=this.parseUrl(t);return _S(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,w)=>{a=g,u=w});let p=this.pendingTasks.add();return Hw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function _B(n){return!(n instanceof el)&&!(n instanceof Qa)}var IB=new G("");function qw(n,...e){return Gr([{provide:fl,multi:!0,useValue:n},[],{provide:_r,useFactory:bB,deps:[Er]},{provide:Yv,multi:!0,useFactory:DB},e.map(t=>t.\u0275providers)])}function bB(n){return n.routerState.root}function CB(n,e){return{\u0275kind:n,\u0275providers:e}}function DB(){let n=L(Pt);return e=>{let t=n.get(Xo);if(e!==t.components[0])return;let r=n.get(Er),i=n.get(TB);n.get(SB)===1&&r.initialNavigation(),n.get(AB,null,ue.Optional)?.setUpPreloading(),n.get(IB,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TB=new G("",{factory:()=>new pt}),SB=new G("",{providedIn:"root",factory:()=>1});var AB=new G("");function zw(){return CB(8,[jw,{provide:ll,useExisting:jw}])}var lA=()=>{};var fA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},MB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,g=(o&3)<<4|a>>4,w=(a&15)<<2|d>>6,_=d&63;u||(_=64,s||(w=64)),r.push(t[p],t[g],t[w],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new Ww;let w=o<<2|a>>4;if(r.push(w),d!==64){let _=a<<4&240|d>>2;if(r.push(_),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ww=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NB=function(n){let e=fA(n);return op.encodeByteArray(e,!0)},gl=function(n){return NB(n).replace(/\./g,"")},sp=function(n){try{return op.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Qw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xB=()=>Qw().__FIREBASE_DEFAULTS__,PB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&sp(n[1]);return e&&JSON.parse(e)},ap=()=>{try{return lA()||xB()||PB()||kB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yw=n=>{var e,t;return(t=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},pA=n=>{let e=Yw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Zw=()=>{var n;return(n=ap())===null||n===void 0?void 0:n.config},Jw=n=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${n}`]};var ds=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Zi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function cp(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function gA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gl(JSON.stringify(t)),gl(JSON.stringify(s)),""].join(".")}var pl={};function OB(){let n={prod:[],emulator:[]};for(let e of Object.keys(pl))pl[e]?n.emulator.push(e):n.prod.push(e);return n}function FB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var dA=!1;function up(n,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||pl[n]===e||pl[n]||dA)return;pl[n]=e;function t(w){return`__firebase__banner__${w}`}let r="__firebase__banner",o=OB().prod.length>0;function s(){let w=document.getElementById(r);w&&w.remove()}function a(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function u(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function d(){let w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{dA=!0,s()},w}function p(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function g(){let w=FB(r),_=t("text"),M=document.getElementById(_)||document.createElement("span"),O=t("learnmore"),k=document.getElementById(O)||document.createElement("a"),U=t("preprendIcon"),Z=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){let ee=w.element;a(ee),p(k,O);let Ae=d();u(Z,U),ee.append(Z,M,k,Ae),document.body.appendChild(ee)}o?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function LB(){var n;let e=(n=ap())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _A(){let n=Dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function EA(){return!LB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ml(){try{return typeof indexedDB=="object"}catch{return!1}}function IA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var VB="FirebaseError",_n=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=VB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kn.prototype.create)}},Kn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _n(i,a,r)}};function jB(n,e){return n.replace(BB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BB=/\{\$([^}]+)}/g;function bA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ir(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(hA(o)&&hA(s)){if(!Ir(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function hA(n){return n!==null&&typeof n=="object"}function ec(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function nc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function CA(n,e){let t=new Kw(n,e);return t.subscribe.bind(t)}var Kw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Gw),i.error===void 0&&(i.error=Gw),i.complete===void 0&&(i.complete=Gw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Gw(){}var vZ=4*60*60*1e3;function We(n){return n&&n._delegate?n._delegate:n}var Kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hs="[DEFAULT]";var Xw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ds;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HB(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$B(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $B(n){return n===hs?void 0:n}function HB(n){return n.instantiationMode==="EAGER"}var lp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var qB=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),zB={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},GB=ve.INFO,WB={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},KB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=WB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=GB,this._logHandler=KB,this._userLogHandler=null,qB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var QB=(n,e)=>e.some(t=>n instanceof t),DA,TA;function YB(){return DA||(DA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZB(){return TA||(TA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SA=new WeakMap,t_=new WeakMap,AA=new WeakMap,e_=new WeakMap,r_=new WeakMap;function JB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Cr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SA.set(t,n)}).catch(()=>{}),r_.set(e,n),e}function XB(n){if(t_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});t_.set(n,e)}var n_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return t_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RA(n){n_=n(n_)}function eU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(dp(this),e,...t);return AA.set(r,e.sort?e.sort():[e]),Cr(r)}:ZB().includes(n)?function(...e){return n.apply(dp(this),e),Cr(SA.get(this))}:function(...e){return Cr(n.apply(dp(this),e))}}function tU(n){return typeof n=="function"?eU(n):(n instanceof IDBTransaction&&XB(n),QB(n,YB())?new Proxy(n,n_):n)}function Cr(n){if(n instanceof IDBRequest)return JB(n);if(e_.has(n))return e_.get(n);let e=tU(n);return e!==n&&(e_.set(n,e),r_.set(e,n)),e}var dp=n=>r_.get(n);function NA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Cr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cr(s.result),u.oldVersion,u.newVersion,Cr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var nU=["get","getKey","getAll","getAllKeys","count"],rU=["put","add","delete","clear"],i_=new Map;function MA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(i_.get(e))return i_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=rU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nU.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return i_.set(e,o),o}RA(n=>he(B({},n),{get:(e,t,r)=>MA(e,t)||n.get(e,t,r),has:(e,t)=>!!MA(e,t)||n.has(e,t)}));var s_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function iU(n){let e=n.getComponent();return e?.type==="VERSION"}var a_="@firebase/app",xA="0.13.2";var ei=new br("@firebase/app"),oU="@firebase/app-compat",sU="@firebase/analytics-compat",aU="@firebase/analytics",cU="@firebase/app-check-compat",uU="@firebase/app-check",lU="@firebase/auth",dU="@firebase/auth-compat",hU="@firebase/database",fU="@firebase/data-connect",pU="@firebase/database-compat",gU="@firebase/functions",mU="@firebase/functions-compat",yU="@firebase/installations",vU="@firebase/installations-compat",wU="@firebase/messaging",_U="@firebase/messaging-compat",EU="@firebase/performance",IU="@firebase/performance-compat",bU="@firebase/remote-config",CU="@firebase/remote-config-compat",DU="@firebase/storage",TU="@firebase/storage-compat",SU="@firebase/firestore",AU="@firebase/ai",RU="@firebase/firestore-compat",MU="firebase",NU="11.10.0";var c_="[DEFAULT]",xU={[a_]:"fire-core",[oU]:"fire-core-compat",[aU]:"fire-analytics",[sU]:"fire-analytics-compat",[uU]:"fire-app-check",[cU]:"fire-app-check-compat",[lU]:"fire-auth",[dU]:"fire-auth-compat",[hU]:"fire-rtdb",[fU]:"fire-data-connect",[pU]:"fire-rtdb-compat",[gU]:"fire-fn",[mU]:"fire-fn-compat",[yU]:"fire-iid",[vU]:"fire-iid-compat",[wU]:"fire-fcm",[_U]:"fire-fcm-compat",[EU]:"fire-perf",[IU]:"fire-perf-compat",[bU]:"fire-rc",[CU]:"fire-rc-compat",[DU]:"fire-gcs",[TU]:"fire-gcs-compat",[SU]:"fire-fst",[RU]:"fire-fst-compat",[AU]:"fire-vertex","fire-js":"fire-js",[MU]:"fire-js-all"};var yl=new Map,PU=new Map,u_=new Map;function PA(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qn(n){let e=n.name;if(u_.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;u_.set(e,n);for(let t of yl.values())PA(t,n);for(let t of PU.values())PA(t,n);return!0}function rc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qt(n){return n==null?!1:n.settings!==void 0}var kU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ji=new Kn("app","Firebase",kU);var l_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ji.create("app-deleted",{appName:this._name})}};var Xi=NU;function f_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:c_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ji.create("bad-app-name",{appName:String(i)});if(t||(t=Zw()),!t)throw Ji.create("no-options");let o=yl.get(i);if(o){if(Ir(t,o.options)&&Ir(r,o.config))return o;throw Ji.create("duplicate-app",{appName:i})}let s=new lp(i);for(let u of u_.values())s.addComponent(u);let a=new l_(t,r,s);return yl.set(i,a),a}function fs(n=c_){let e=yl.get(n);if(!e&&n===c_&&Zw())return f_();if(!e)throw Ji.create("no-app",{appName:n});return e}function hp(){return Array.from(yl.values())}function Ze(n,e,t){var r;let i=(r=xU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Qn(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OU="firebase-heartbeat-database",FU=1,vl="firebase-heartbeat-store",o_=null;function LA(){return o_||(o_=NA(OU,FU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ji.create("idb-open",{originalErrorMessage:n.message})})),o_}function LU(n){return b(this,null,function*(){try{let t=(yield LA()).transaction(vl),r=yield t.objectStore(vl).get(VA(n));return yield t.done,r}catch(e){if(e instanceof _n)ei.warn(e.message);else{let t=Ji.create("idb-get",{originalErrorMessage:e?.message});ei.warn(t.message)}}})}function kA(n,e){return b(this,null,function*(){try{let r=(yield LA()).transaction(vl,"readwrite");yield r.objectStore(vl).put(e,VA(n)),yield r.done}catch(t){if(t instanceof _n)ei.warn(t.message);else{let r=Ji.create("idb-set",{originalErrorMessage:t?.message});ei.warn(r.message)}}})}function VA(n){return`${n.name}!${n.options.appId}`}var VU=1024,jU=30,d_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new h_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=OA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jU){let s=UU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=OA(),{heartbeatsToSend:r,unsentEntries:i}=BU(this._heartbeatsCache.heartbeats),o=gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ei.warn(t),""}})}};function OA(){return new Date().toISOString().substring(0,10)}function BU(n,e=VU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var h_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return ml()?IA().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield LU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return kA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function FA(n){return gl(JSON.stringify({version:2,heartbeats:n})).length}function UU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function $U(n){Qn(new Kt("platform-logger",e=>new s_(e),"PRIVATE")),Qn(new Kt("heartbeat",e=>new d_(e),"PRIVATE")),Ze(a_,xA,n),Ze(a_,xA,"esm2017"),Ze("fire-js","")}$U("");var HU="firebase",qU="11.10.0";Ze(HU,qU,"app");function p_(n){n===void 0&&(ZD(p_),n=L(Pt));let e=n.get(hf);return t=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var eo=new Oa("ANGULARFIRE2_VERSION");function wl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var oc=(n,e)=>{let t=e?[e]:hp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ic=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(ic||{}),jA=ew()&&typeof Zone<"u"?ic.WARN:ic.SILENT;var fp=class{zone;delegate;constructor(e,t=ay){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},to=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=L(Oe);this.outsideAngular=t.runOutsideAngular(()=>new fp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new fp(typeof Zone>"u"?void 0:Zone.current,sy))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BA=!1;function zU(n,e){!BA&&(jA>ic.SILENT||ew())&&(BA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),jA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function GU(n){let e=L(Oe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function ps(n){let e=L(Oe,{optional:!0});return e?e.run(()=>n()):n()}var WU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Wt(t,()=>ps(()=>n.apply(void 0,r)))),Je=(n,e,t)=>(t||=e?ic.WARN:ic.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=L(to),s=L(hf),a=L(nn)}catch{return zU(n,t),n.apply(this,i)}for(let d=0;d<arguments.length;d++)typeof i[d]=="function"&&(e&&(r||=ps(()=>s.add())),i[d]=WU(i[d],r,a));let u=GU(()=>n.apply(this,i));return e?u instanceof le?u.pipe(Fi(o.outsideAngular),Oi(o.insideAngular),p_(a)):u instanceof Promise?ps(()=>new Promise((d,p)=>{s.run(()=>u).then(g=>Wt(a,()=>ps(()=>d(g))),g=>Wt(a,()=>ps(()=>p(g))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:ps(()=>u):u instanceof le?u.pipe(Fi(o.outsideAngular),Oi(o.insideAngular)):ps(()=>u)});var ti=class{constructor(e){return e}},gs=class{constructor(){return hp()}};function KU(n){return n&&n.length===1?n[0]:new ti(fs())}var g_=new G("angularfire2._apps"),QU={provide:ti,useFactory:KU,deps:[[new pn,g_]]},YU={provide:gs,deps:[[new pn,g_]]};function ZU(n){return(e,t)=>{let r=t.get(ns);Ze("angularfire",eo.full,"core"),Ze("angularfire",eo.full,"app"),Ze("angular",WT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function UA(n,...e){return Gr([QU,YU,{provide:g_,useFactory:ZU(n),multi:!0,deps:[Oe,Pt,to,...e]}])}var $A=Je(f_,!0);var JU=new Map,XU={activated:!1,tokenObservers:[]},e$={initialized:!1,enabled:!1};function Yn(n){return JU.get(n)||Object.assign({},XU)}function GA(){return e$}var t$="https://content-firebaseappcheck.googleapis.com/v1";var n$="exchangeDebugToken",HA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},CJ=24*60*60*1e3;var v_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new ds,this.pending.promise.catch(t=>{}),yield r$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ds,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function r$(n){return new Promise(e=>{setTimeout(e,n)})}var i$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},no=new Kn("appCheck","AppCheck",i$);function WA(n){if(!Yn(n).activated)throw no.create("use-before-activation",{appName:n.name})}function KA(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(_){throw no.create("fetch-network-error",{originalErrorMessage:_?.message})}if(u.status!==200)throw no.create("fetch-status-error",{httpStatus:u.status});let d;try{d=yield u.json()}catch(_){throw no.create("fetch-parse-error",{originalErrorMessage:_?.message})}let p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw no.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let g=Number(p[1])*1e3,w=Date.now();return{token:d.token,expireTimeMillis:w+g,issuedAtTimeMillis:w}})}function QA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${t$}/projects/${t}/apps/${r}:${n$}?key=${i}`,body:{debug_token:e}}}var o$="firebase-app-check-database",s$=1,w_="firebase-app-check-store";var pp=null;function a$(){return pp||(pp=new Promise((n,e)=>{try{let t=indexedDB.open(o$,s$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(no.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(w_,{keyPath:"compositeKey"})}}}catch(t){e(no.create("storage-open",{originalErrorMessage:t?.message}))}}),pp)}function c$(n,e){return u$(l$(n),e)}function u$(n,e){return b(this,null,function*(){let r=(yield a$()).transaction(w_,"readwrite"),o=r.objectStore(w_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var d;a(no.create("storage-set",{originalErrorMessage:(d=u.target.error)===null||d===void 0?void 0:d.message}))}})})}function l$(n){return`${n.options.appId}-${n.name}`}var _l=new br("@firebase/app-check");function m_(n,e){return ml()?c$(n,e).catch(t=>{_l.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function YA(){return GA().enabled}function ZA(){return b(this,null,function*(){let n=GA();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var d$={error:"UNKNOWN_ERROR"};function h$(n){return op.encodeString(JSON.stringify(n),!1)}function __(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;WA(r);let i=Yn(r),o=i.token,s;if(o&&!El(o)&&(i.token=void 0,o=void 0),!o){let d=yield i.cachedTokenPromise;d&&(El(d)?o=d:yield m_(r,void 0))}if(!e&&o&&El(o))return{token:o.token};let a=!1;if(YA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=KA(QA(r,yield ZA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let d=yield i.exchangeTokenPromise;return yield m_(r,d),i.token=d,{token:d.token}}catch(d){return d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?_l.warn(d.message):t&&_l.error(d),y_(d)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Yn(r).exchangeTokenPromise}catch(d){d.code==="appCheck/throttled"||d.code==="appCheck/initial-throttle"?_l.warn(d.message):t&&_l.error(d),s=d}let u;return o?s?El(o)?u={token:o.token,internalError:s}:u=y_(s):(u={token:o.token},i.token=o,yield m_(r,o)):u=y_(s),a&&m$(r,u),u})}function f$(n){return b(this,null,function*(){let e=n.app;WA(e);let{provider:t}=Yn(e);if(YA()){let r=yield ZA(),{token:i}=yield KA(QA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function p$(n,e,t,r){let{app:i}=n,o=Yn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&El(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),qA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qA(n))}function JA(n,e){let t=Yn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qA(n){let{app:e}=n,t=Yn(e),r=t.tokenRefresher;r||(r=g$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function g$(n){let{app:e}=n;return new v_(()=>b(null,null,function*(){let t=Yn(e),r;if(t.token?r=yield __(n,!0):r=yield __(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},HA.RETRIAL_MIN_WAIT,HA.RETRIAL_MAX_WAIT)}function m$(n,e){let t=Yn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function El(n){return n.expireTimeMillis-Date.now()>0}function y_(n){return{token:h$(d$),error:n}}var E_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Yn(this.app);for(let t of e)JA(this.app,t.next);return Promise.resolve()}};function y$(n,e){return new E_(n,e)}function v$(n){return{getToken:e=>__(n,e),getLimitedUseToken:()=>f$(n),addTokenListener:e=>p$(n,"INTERNAL",e),removeTokenListener:e=>JA(n.app,e)}}var w$="@firebase/app-check",_$="0.10.1";var E$="app-check",zA="app-check-internal";function I$(){Qn(new Kt(E$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return y$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zA).initialize()})),Qn(new Kt(zA,n=>{let e=n.getProvider("app-check").getImmediate();return v$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ze(w$,_$)}I$();var b$="app-check";var sc=class{constructor(){return oc(b$)}};var C$=["localhost","0.0.0.0","127.0.0.1"],LJ=typeof window<"u"&&C$.includes(window.location.hostname);function pR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gR=pR,mR=new Kn("auth","Firebase",pR());var _p=new br("@firebase/auth");function D$(n,...e){_p.logLevel<=ve.WARN&&_p.warn(`Auth (${Xi}): ${n}`,...e)}function mp(n,...e){_p.logLevel<=ve.ERROR&&_p.error(`Auth (${Xi}): ${n}`,...e)}function Pn(n,...e){throw q_(n,...e)}function Zn(n,...e){return q_(n,...e)}function H_(n,e,t){let r=Object.assign(Object.assign({},gR()),{[e]:t});return new Kn("auth","Firebase",r).create(e,{appName:n.name})}function ii(n){return H_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T$(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pn(n,"argument-error"),H_(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function q_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return mR.create(n,...e)}function J(n,e,...t){if(!n)throw q_(e,...t)}function ni(n){let e="INTERNAL ASSERTION FAILED: "+n;throw mp(e),new Error(e)}function oi(n,e){n||ni(e)}function C_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function S$(){return XA()==="http:"||XA()==="https:"}function XA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function A$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S$()||vA()||"connection"in navigator)?navigator.onLine:!0}function R$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ms=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=mA()||wA()}get(){return A$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function z_(n,e){oi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ep=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var N$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],x$=new ms(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function si(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){return yR(n,i,()=>b(null,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=ec(Object.assign({key:n.config.apiKey},p)).slice(1),w=yield n._getAdditionalHeaders();w["Content-Type"]="application/json",n.languageCode&&(w["X-Firebase-Locale"]=n.languageCode);let _=Object.assign({method:e,headers:w},d);return yA()||(_.referrerPolicy="no-referrer"),n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(_.credentials="include"),Ep.fetch()(yield vR(n,n.config.apiHost,t,g),_)}))})}function yR(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},M$),e);try{let i=new D_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw gp(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw H_(n,p,d);Pn(n,p)}}catch(i){if(i instanceof _n)throw i;Pn(n,"network-request-failed",{message:String(i)})}})}function Rl(o,s,a,u){return b(this,arguments,function*(n,e,t,r,i={}){let d=yield si(n,e,t,r,i);return"mfaPendingCredential"in d&&Pn(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function vR(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?z_(n.config,i):`${n.config.apiScheme}://${i}`;return N$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function P$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var D_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),x$.get())})}};function gp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Zn(n,e,r);return i.customData._tokenResponse=t,i}function eR(n){return n!==void 0&&n.enterprise!==void 0}var T_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return P$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function k$(n,e){return b(this,null,function*(){return si(n,"GET","/v2/recaptchaConfig",oo(n,e))})}function O$(n,e){return b(this,null,function*(){return si(n,"POST","/v1/accounts:delete",e)})}function Ip(n,e){return b(this,null,function*(){return si(n,"POST","/v1/accounts:lookup",e)})}function bl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function G_(n,e=!1){return b(this,null,function*(){let t=We(n),r=yield t.getIdToken(e),i=W_(r);J(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bl(I_(i.auth_time)),issuedAtTime:bl(I_(i.iat)),expirationTime:bl(I_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function I_(n){return Number(n)*1e3}function W_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=sp(t);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function tR(n){let e=W_(n);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cc(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof _n&&F$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function F$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var S_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Dl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield cc(n,Ip(t,{idToken:r}));J(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wR(o.providerUserInfo):[],a=L$(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Dl(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function K_(n){return b(this,null,function*(){let e=We(n);yield bp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wR(n){return n.map(e=>{var{providerId:t}=e,r=ah(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V$(n,e){return b(this,null,function*(){let t=yield yR(n,{},()=>b(null,null,function*(){let r=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield vR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Zi(n.emulatorConfig.host)&&(u.credentials="include"),Ep.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function j$(n,e){return b(this,null,function*(){return si(n,"POST","/v2/accounts:revokeToken",oo(n,e))})}var Cl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){J(e.length!==0,"internal-error");let t=tR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield V$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ni("not implemented")}};function ro(n,e){J(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var io=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ah(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Dl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield cc(this,this.stsTokenManager.getToken(this.auth,e));return J(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return G_(this,e)}reload(){return K_(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield bp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Qt(this.auth.app))return Promise.reject(ii(this.auth));let e=yield this.getIdToken();return yield cc(this,O$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,_=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,O=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,Z=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:ee,emailVerified:Ae,isAnonymous:nt,providerData:De,stsTokenManager:R}=t;J(ee&&R,e,"internal-error");let I=Cl.fromJSON(this.name,R);J(typeof ee=="string",e,"internal-error"),ro(g,e.name),ro(w,e.name),J(typeof Ae=="boolean",e,"internal-error"),J(typeof nt=="boolean",e,"internal-error"),ro(_,e.name),ro(M,e.name),ro(O,e.name),ro(k,e.name),ro(U,e.name),ro(Z,e.name);let C=new n({uid:ee,auth:e,email:w,emailVerified:Ae,displayName:g,isAnonymous:nt,photoURL:M,phoneNumber:_,tenantId:O,stsTokenManager:I,createdAt:U,lastLoginAt:Z});return De&&Array.isArray(De)&&(C.providerData=De.map(T=>Object.assign({},T))),k&&(C._redirectEventId=k),C}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Cl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?wR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Cl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var nR=new Map;function ri(n){oi(n instanceof Function,"Expected a class definition");let e=nR.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,nR.set(n,e),e)}var B$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),A_=B$;function yp(n,e,t){return`firebase:${n}:${e}:${t}`}var Cp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=yp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ip(this.auth,{idToken:e}).catch(()=>{});return t?io._fromGetAccountInfoResponse(this.auth,t,e):null}return io._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(ri(A_),e,r);let i=(yield Promise.all(t.map(d=>b(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||ri(A_),s=yp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let g;if(typeof p=="string"){let w=yield Ip(e,{idToken:p}).catch(()=>{});if(!w)break;g=yield io._fromGetAccountInfoResponse(e,w,p)}else g=io._fromJSON(e,p);d!==o&&(a=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>b(null,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function rR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_R(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DR(e))return"Blackberry";if(TR(e))return"Webos";if(ER(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(CR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _R(n=Dt()){return/firefox\//i.test(n)}function ER(n=Dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(n=Dt()){return/crios\//i.test(n)}function bR(n=Dt()){return/iemobile/i.test(n)}function CR(n=Dt()){return/android/i.test(n)}function DR(n=Dt()){return/blackberry/i.test(n)}function TR(n=Dt()){return/webos/i.test(n)}function Q_(n=Dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U$(n=Dt()){var e;return Q_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $$(){return _A()&&document.documentMode===10}function SR(n=Dt()){return Q_(n)||CR(n)||TR(n)||DR(n)||/windows phone/i.test(n)||bR(n)}function AR(n,e=[]){let t;switch(n){case"Browser":t=rR(Dt());break;case"Worker":t=`${rR(Dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xi}/${r}`}var R_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H$(t){return b(this,arguments,function*(n,e={}){return si(n,"GET","/v2/passwordPolicy",oo(n,e))})}var q$=6,M_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:q$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var N_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new R_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Cp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Ip(this,{idToken:e}),r=yield io._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(Qt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield bp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R$()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(Qt(this.app))return Promise.reject(ii(this));let t=e?We(e):null;return t&&J(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Qt(this.app)?Promise.reject(ii(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qt(this.app)?Promise.reject(ii(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield H$(this),t=new M_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield j$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ri(e)||this._popupRedirectResolver;J(t,this,"argument-error"),this.redirectPersistenceManager=yield Cp.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&D$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function so(n){return We(n)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=CA(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z$(n){kp=n}function RR(n){return kp.loadJS(n)}function G$(){return kp.recaptchaEnterpriseScript}function W$(){return kp.gapiScript}function MR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var x_=class{constructor(){this.enterprise=new P_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},P_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var K$="recaptcha-enterprise",NR="NO_RECAPTCHA",k_=class{constructor(e){this.type=K$,this.auth=so(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){k$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new T_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;eR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(NR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&eR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=G$();u.length!==0&&(u+=a),RR(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function Il(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new k_(n),s;if(i)s=NR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function O_(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Il(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Il(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Il(n,e,t);return r(n,a).catch(u=>b(null,null,function*(){var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let p=yield Il(n,e,t,!1,!0);return r(n,p)}return Promise.reject(u)}))}else{let a=yield Il(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Y_(n,e){let t=rc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Ir(o,e??{}))return i;Pn(i,"already-initialized")}return t.initialize({options:e})}function Q$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Z_(n,e,t){let r=so(n);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=xR(e),{host:s,port:a}=Y$(e),u=a===null?"":`:${a}`,d={url:`${o}//${s}${u}/`},p=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Ir(d,r.config.emulator)&&Ir(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Zi(s)?(cp(`${o}//${s}${u}`),up("Auth",!0)):i||Z$()}function xR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Y$(n){let e=xR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:iR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:iR(s)}}}function iR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Z$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var uc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}};function J$(n,e){return b(this,null,function*(){return si(n,"POST","/v1/accounts:signUp",e)})}function X$(n,e){return b(this,null,function*(){return Rl(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))})}function eH(n,e){return b(this,null,function*(){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))})}function tH(n,e){return b(this,null,function*(){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))})}var Tl=class n extends uc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,t,"signInWithPassword",X$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eH(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,r,"signUpPassword",J$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tH(e,{idToken:t,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ac(n,e){return b(this,null,function*(){return Rl(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))})}var nH="http://localhost",Tp=class n extends uc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=ah(t,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return ac(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,ac(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,ac(e,t)}buildRequest(){let e={requestUri:nH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ec(t)}return e}};function rH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iH(n){let e=tc(nc(n)).link,t=e?tc(nc(e)).deep_link_id:null,r=tc(nc(n)).deep_link_id;return(r?tc(nc(r)).link:null)||r||t||e||n}var Sp=class n{constructor(e){var t,r,i,o,s,a;let u=tc(nc(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=rH((i=u.mode)!==null&&i!==void 0?i:null);J(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=iH(e);try{return new n(t)}catch{return null}}};var PR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Tl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Sp.parseLink(r);return J(i,"argument-error"),Tl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Sl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ap=class extends Sl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var J_=(()=>{class n extends Ap{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Tp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function oH(n,e){return b(this,null,function*(){return Rl(n,"POST","/v1/accounts:signUp",oo(n,e))})}var lc=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield io._fromIdTokenResponse(e,r,i),s=oR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=oR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function oR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var F_=class n extends _n{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function kR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?F_._fromErrorAndOperation(n,o,e,r):o})}function sH(n,e,t=!1){return b(this,null,function*(){let r=yield cc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lc._forOperation(n,"link",r)})}function aH(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(Qt(r.app))return Promise.reject(ii(r));let i="reauthenticate";try{let o=yield cc(n,kR(r,i,e,n),t);J(o.idToken,r,"internal-error");let s=W_(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(n.uid===a,r,"user-mismatch"),lc._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Pn(r,"user-mismatch"),o}})}function OR(n,e,t=!1){return b(this,null,function*(){if(Qt(n.app))return Promise.reject(ii(n));let r="signIn",i=yield kR(n,r,e),o=yield lc._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function X_(n,e){return b(this,null,function*(){return OR(so(n),e)})}function FR(n){return b(this,null,function*(){let e=so(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function eE(n,e,t){return b(this,null,function*(){if(Qt(n.app))return Promise.reject(ii(n));let r=so(n),s=yield O_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FR(n),u}),a=yield lc._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function tE(n,e,t){return Qt(n.app)?Promise.reject(ii(n)):X_(We(n),PR.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&FR(n),r}))}function cH(n,e){return b(this,null,function*(){return si(n,"POST","/v1/accounts:update",e)})}function nE(r,i){return b(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=We(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=yield cc(o,cH(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let d=o.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=o.displayName,d.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Op(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function rE(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function Fp(n,e,t,r){return We(n).onAuthStateChanged(e,t,r)}function iE(n){return We(n).signOut()}var Rp="__sak";var Mp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rp,"1"),this.storage.removeItem(Rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var uH=1e3,lH=10,dH=(()=>{class n extends Mp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$$()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,lH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},uH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Pi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Pi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Pi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),LR=dH;var hH=(()=>{class n extends Mp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),oE=hH;function fH(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var pH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>b(this,null,function*(){return p(r.origin,s)})),d=yield fH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function sE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var L_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=sE("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let w=g;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Dr(){return window}function gH(n){Dr().location.href=n}function VR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}function mH(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vH(){return VR()?self:null}var jR="firebaseLocalStorageDb",wH=1,Np="firebaseLocalStorage",BR="fbase_key",ys=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Lp(n,e){return n.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function _H(){let n=indexedDB.deleteDatabase(jR);return new ys(n).toPromise()}function V_(){let n=indexedDB.open(jR,wH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Np,{keyPath:BR})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),yield _H(),e(yield V_()))}))})}function sR(n,e,t){return b(this,null,function*(){let r=Lp(n,!0).put({[BR]:e,value:t});return new ys(r).toPromise()})}function EH(n,e){return b(this,null,function*(){let t=Lp(n,!1).get(e),r=yield new ys(t).toPromise();return r===void 0?null:r.value})}function aR(n,e){let t=Lp(n,!0).delete(e);return new ys(t).toPromise()}var IH=800,bH=3,CH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield V_(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>bH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return VR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=pH._getInstance(vH()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield mH(),!this.activeServiceWorker)return;this.sender=new L_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield V_();return yield sR(t,Rp,"1"),yield aR(t,Rp),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>sR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>EH(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>aR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Lp(o,!1).getAll();return new ys(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),IH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),UR=CH;var zJ=MR("rcb"),GJ=new ms(3e4,6e4);function $R(n,e){return e?ri(e):(J(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Al=class extends uc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function DH(n){return OR(n.auth,new Al(n),n.bypassAuthState)}function TH(n){let{auth:e,user:t}=n;return J(t,e,"internal-error"),aH(t,new Al(n),n.bypassAuthState)}function SH(n){return b(this,null,function*(){let{auth:e,user:t}=n;return J(t,e,"internal-error"),sH(t,new Al(n),n.bypassAuthState)})}var xp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DH;case"linkViaPopup":case"linkViaRedirect":return SH;case"reauthViaPopup":case"reauthViaRedirect":return TH;default:Pn(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AH=new ms(2e3,1e4);function aE(n,e,t){return b(this,null,function*(){if(Qt(n.app))return Promise.reject(Zn(n,"operation-not-supported-in-this-environment"));let r=so(n);T$(n,e,Sl);let i=$R(r,t);return new RH(r,"signInViaPopup",e,i).executeNotNull()})}var RH=(()=>{class n extends xp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let t=yield this.execute();return J(t,this.auth,"internal-error"),t})}onExecution(){return b(this,null,function*(){oi(this.filter.length===1,"Popup operations only handle one event");let t=sE();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,AH.get())};t()}}n.currentPopupAction=null;return n})(),MH="pendingRedirect",vp=new Map,j_=class n extends xp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=vp.get(this.auth._key());if(!e){try{let r=(yield NH(this.resolver,this.auth))?yield Pi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Pi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Pi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function NH(n,e){return b(this,null,function*(){let t=kH(e),r=PH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function xH(n,e){vp.set(n._key(),e)}function PH(n){return ri(n._redirectPersistence)}function kH(n){return yp(MH,n.config.apiKey,n.name)}function OH(n,e,t=!1){return b(this,null,function*(){if(Qt(n.app))return Promise.reject(ii(n));let r=so(n),i=$R(r,e),s=yield new j_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var FH=10*60*1e3,B_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!HR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FH&&this.cachedEventUids.clear(),this.cachedEventUids.has(cR(e))}saveEventToCache(e){this.cachedEventUids.add(cR(e)),this.lastProcessedEventTime=Date.now()}};function cR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function HR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function LH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HR(n);default:return!1}}function VH(t){return b(this,arguments,function*(n,e={}){return si(n,"GET","/v1/projects",e)})}var jH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;function UH(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield VH(n);for(let t of e)try{if($H(t))return}catch{}Pn(n,"unauthorized-domain")})}function $H(n){let e=C_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!BH.test(t))return!1;if(jH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HH=new ms(3e4,6e4);function uR(){let n=Dr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function qH(n){return new Promise((e,t)=>{var r,i,o;function s(){uR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uR(),t(Zn(n,"network-request-failed"))},timeout:HH.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)s();else{let a=MR("iframefcb");return Dr()[a]=()=>{gapi.load?s():t(Zn(n,"network-request-failed"))},RR(`${W$()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw wp=null,e})}var wp=null;function zH(n){return wp=wp||qH(n),wp}var GH=new ms(5e3,15e3),WH="__/auth/iframe",KH="emulator/auth/iframe",QH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZH(n){let e=n.config;J(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?z_(e,KH):`https://${n.config.authDomain}/${WH}`,r={apiKey:e.apiKey,appName:n.name,v:Xi},i=YH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ec(r).slice(1)}`}function JH(n){return b(this,null,function*(){let e=yield zH(n),t=Dr().gapi;return J(t,n,"internal-error"),e.open({where:document.body,url:ZH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QH,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Zn(n,"network-request-failed"),a=Dr().setTimeout(()=>{o(s)},GH.get());function u(){Dr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var XH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost",Pp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function i4(n,e,t,r=e4,i=t4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},XH),{width:r.toString(),height:i.toString(),top:o,left:s}),d=Dt().toLowerCase();t&&(a=IR(d)?n4:t),_R(d)&&(e=e||r4,u.scrollbars="yes");let p=Object.entries(u).reduce((w,[_,M])=>`${w}${_}=${M},`,"");if(U$(d)&&a!=="_self")return o4(e||"",a),new Pp(null);let g=window.open(e||"",a,p);J(g,n,"popup-blocked");try{g.focus()}catch{}return new Pp(g)}function o4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var s4="__/auth/handler",a4="emulator/auth/handler",c4=encodeURIComponent("fac");function lR(n,e,t,r,i,o){return b(this,null,function*(){J(n.config.authDomain,n,"auth-domain-config-required"),J(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Sl){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",bA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(o||{}))s[p]=g}if(e instanceof Ap){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${c4}=${encodeURIComponent(u)}`:"";return`${u4(n)}?${ec(a).slice(1)}${d}`})}function u4({config:n}){return n.emulator?z_(n,a4):`https://${n.authDomain}/${s4}`}var b_="webStorageSupport",U_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=OH,this._overrideRedirectResult=xH}_openPopup(e,t,r,i){return b(this,null,function*(){var o;oi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield lR(e,t,r,C_(),i);return i4(e,s,sE())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield lR(e,t,r,C_(),i);return gH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(oi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield JH(e),r=new B_(e);return t.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(b_,{type:b_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[b_];s!==void 0&&t(!!s),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SR()||ER()||Q_()}},qR=U_;var dR="@firebase/auth",hR="1.10.8";var $_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function l4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d4(n){Qn(new Kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AR(n)},d=new N_(r,i,o,u);return Q$(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qn(new Kt("auth-internal",e=>{let t=so(e.getProvider("auth").getImmediate());return(r=>new $_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ze(dR,hR,l4(n)),Ze(dR,hR,"esm2017")}var h4=5*60,f4=Jw("authIdTokenMaxAge")||h4,fR=null,p4=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>f4)return;let i=t?.token;fR!==i&&(fR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cE(n=fs()){let e=rc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Y_(n,{popupRedirectResolver:qR,persistence:[UR,LR,oE]}),r=Jw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=p4(o.toString());rE(t,s,()=>s(t.currentUser)),Op(t,a=>s(a))}}let i=Yw("auth");return i&&Z_(t,`http://${i}`),t}function g4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}z$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Zn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",g4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d4("Browser");function GR(n){return new le(function(e){var t=Fp(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var WR="auth",vs=class{constructor(e){return e}},Ml=class{constructor(){return oc(WR)}};var uE=new G("angularfire2.auth-instances");function eq(n,e){let t=wl(WR,n,e);return t&&new vs(t)}function tq(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vs(r)}}var nq={provide:Ml,deps:[[new pn,uE]]},rq={provide:vs,useFactory:eq,deps:[[new pn,uE],ti]};function KR(n,...e){return Ze("angularfire",eo.full,"auth"),Gr([rq,nq,{provide:uE,useFactory:tq(n),multi:!0,deps:[Oe,Pt,to,gs,[new pn,sc],...e]}])}var QR=Je(GR,!0);var YR=Je(eE,!0,2);var ZR=Je(cE,!0);var JR=Je(tE,!0,2);var XR=Je(aE,!0,2);var eM=Je(iE,!0,2);var tM=Je(nE,!0,2);var nM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rM={};var ai,lE;(function(){var n;function e(R,I){function C(){}C.prototype=I.prototype,R.D=I.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(T,A,S){for(var D=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)D[Ln-2]=arguments[Ln];return I.prototype[A].apply(T,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,C){C||(C=0);var T=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)T[A]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(A=0;16>A;++A)T[A]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=R.g[0],C=R.g[1],A=R.g[2];var S=R.g[3],D=I+(S^C&(A^S))+T[0]+3614090360&4294967295;I=C+(D<<7&4294967295|D>>>25),D=S+(A^I&(C^A))+T[1]+3905402710&4294967295,S=I+(D<<12&4294967295|D>>>20),D=A+(C^S&(I^C))+T[2]+606105819&4294967295,A=S+(D<<17&4294967295|D>>>15),D=C+(I^A&(S^I))+T[3]+3250441966&4294967295,C=A+(D<<22&4294967295|D>>>10),D=I+(S^C&(A^S))+T[4]+4118548399&4294967295,I=C+(D<<7&4294967295|D>>>25),D=S+(A^I&(C^A))+T[5]+1200080426&4294967295,S=I+(D<<12&4294967295|D>>>20),D=A+(C^S&(I^C))+T[6]+2821735955&4294967295,A=S+(D<<17&4294967295|D>>>15),D=C+(I^A&(S^I))+T[7]+4249261313&4294967295,C=A+(D<<22&4294967295|D>>>10),D=I+(S^C&(A^S))+T[8]+1770035416&4294967295,I=C+(D<<7&4294967295|D>>>25),D=S+(A^I&(C^A))+T[9]+2336552879&4294967295,S=I+(D<<12&4294967295|D>>>20),D=A+(C^S&(I^C))+T[10]+4294925233&4294967295,A=S+(D<<17&4294967295|D>>>15),D=C+(I^A&(S^I))+T[11]+2304563134&4294967295,C=A+(D<<22&4294967295|D>>>10),D=I+(S^C&(A^S))+T[12]+1804603682&4294967295,I=C+(D<<7&4294967295|D>>>25),D=S+(A^I&(C^A))+T[13]+4254626195&4294967295,S=I+(D<<12&4294967295|D>>>20),D=A+(C^S&(I^C))+T[14]+2792965006&4294967295,A=S+(D<<17&4294967295|D>>>15),D=C+(I^A&(S^I))+T[15]+1236535329&4294967295,C=A+(D<<22&4294967295|D>>>10),D=I+(A^S&(C^A))+T[1]+4129170786&4294967295,I=C+(D<<5&4294967295|D>>>27),D=S+(C^A&(I^C))+T[6]+3225465664&4294967295,S=I+(D<<9&4294967295|D>>>23),D=A+(I^C&(S^I))+T[11]+643717713&4294967295,A=S+(D<<14&4294967295|D>>>18),D=C+(S^I&(A^S))+T[0]+3921069994&4294967295,C=A+(D<<20&4294967295|D>>>12),D=I+(A^S&(C^A))+T[5]+3593408605&4294967295,I=C+(D<<5&4294967295|D>>>27),D=S+(C^A&(I^C))+T[10]+38016083&4294967295,S=I+(D<<9&4294967295|D>>>23),D=A+(I^C&(S^I))+T[15]+3634488961&4294967295,A=S+(D<<14&4294967295|D>>>18),D=C+(S^I&(A^S))+T[4]+3889429448&4294967295,C=A+(D<<20&4294967295|D>>>12),D=I+(A^S&(C^A))+T[9]+568446438&4294967295,I=C+(D<<5&4294967295|D>>>27),D=S+(C^A&(I^C))+T[14]+3275163606&4294967295,S=I+(D<<9&4294967295|D>>>23),D=A+(I^C&(S^I))+T[3]+4107603335&4294967295,A=S+(D<<14&4294967295|D>>>18),D=C+(S^I&(A^S))+T[8]+1163531501&4294967295,C=A+(D<<20&4294967295|D>>>12),D=I+(A^S&(C^A))+T[13]+2850285829&4294967295,I=C+(D<<5&4294967295|D>>>27),D=S+(C^A&(I^C))+T[2]+4243563512&4294967295,S=I+(D<<9&4294967295|D>>>23),D=A+(I^C&(S^I))+T[7]+1735328473&4294967295,A=S+(D<<14&4294967295|D>>>18),D=C+(S^I&(A^S))+T[12]+2368359562&4294967295,C=A+(D<<20&4294967295|D>>>12),D=I+(C^A^S)+T[5]+4294588738&4294967295,I=C+(D<<4&4294967295|D>>>28),D=S+(I^C^A)+T[8]+2272392833&4294967295,S=I+(D<<11&4294967295|D>>>21),D=A+(S^I^C)+T[11]+1839030562&4294967295,A=S+(D<<16&4294967295|D>>>16),D=C+(A^S^I)+T[14]+4259657740&4294967295,C=A+(D<<23&4294967295|D>>>9),D=I+(C^A^S)+T[1]+2763975236&4294967295,I=C+(D<<4&4294967295|D>>>28),D=S+(I^C^A)+T[4]+1272893353&4294967295,S=I+(D<<11&4294967295|D>>>21),D=A+(S^I^C)+T[7]+4139469664&4294967295,A=S+(D<<16&4294967295|D>>>16),D=C+(A^S^I)+T[10]+3200236656&4294967295,C=A+(D<<23&4294967295|D>>>9),D=I+(C^A^S)+T[13]+681279174&4294967295,I=C+(D<<4&4294967295|D>>>28),D=S+(I^C^A)+T[0]+3936430074&4294967295,S=I+(D<<11&4294967295|D>>>21),D=A+(S^I^C)+T[3]+3572445317&4294967295,A=S+(D<<16&4294967295|D>>>16),D=C+(A^S^I)+T[6]+76029189&4294967295,C=A+(D<<23&4294967295|D>>>9),D=I+(C^A^S)+T[9]+3654602809&4294967295,I=C+(D<<4&4294967295|D>>>28),D=S+(I^C^A)+T[12]+3873151461&4294967295,S=I+(D<<11&4294967295|D>>>21),D=A+(S^I^C)+T[15]+530742520&4294967295,A=S+(D<<16&4294967295|D>>>16),D=C+(A^S^I)+T[2]+3299628645&4294967295,C=A+(D<<23&4294967295|D>>>9),D=I+(A^(C|~S))+T[0]+4096336452&4294967295,I=C+(D<<6&4294967295|D>>>26),D=S+(C^(I|~A))+T[7]+1126891415&4294967295,S=I+(D<<10&4294967295|D>>>22),D=A+(I^(S|~C))+T[14]+2878612391&4294967295,A=S+(D<<15&4294967295|D>>>17),D=C+(S^(A|~I))+T[5]+4237533241&4294967295,C=A+(D<<21&4294967295|D>>>11),D=I+(A^(C|~S))+T[12]+1700485571&4294967295,I=C+(D<<6&4294967295|D>>>26),D=S+(C^(I|~A))+T[3]+2399980690&4294967295,S=I+(D<<10&4294967295|D>>>22),D=A+(I^(S|~C))+T[10]+4293915773&4294967295,A=S+(D<<15&4294967295|D>>>17),D=C+(S^(A|~I))+T[1]+2240044497&4294967295,C=A+(D<<21&4294967295|D>>>11),D=I+(A^(C|~S))+T[8]+1873313359&4294967295,I=C+(D<<6&4294967295|D>>>26),D=S+(C^(I|~A))+T[15]+4264355552&4294967295,S=I+(D<<10&4294967295|D>>>22),D=A+(I^(S|~C))+T[6]+2734768916&4294967295,A=S+(D<<15&4294967295|D>>>17),D=C+(S^(A|~I))+T[13]+1309151649&4294967295,C=A+(D<<21&4294967295|D>>>11),D=I+(A^(C|~S))+T[4]+4149444226&4294967295,I=C+(D<<6&4294967295|D>>>26),D=S+(C^(I|~A))+T[11]+3174756917&4294967295,S=I+(D<<10&4294967295|D>>>22),D=A+(I^(S|~C))+T[2]+718787259&4294967295,A=S+(D<<15&4294967295|D>>>17),D=C+(S^(A|~I))+T[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+S&4294967295}r.prototype.u=function(R,I){I===void 0&&(I=R.length);for(var C=I-this.blockSize,T=this.B,A=this.h,S=0;S<I;){if(A==0)for(;S<=C;)i(this,R,S),S+=this.blockSize;if(typeof R=="string"){for(;S<I;)if(T[A++]=R.charCodeAt(S++),A==this.blockSize){i(this,T),A=0;break}}else for(;S<I;)if(T[A++]=R[S++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;var C=8*this.o;for(I=R.length-8;I<R.length;++I)R[I]=C&255,C/=256;for(this.u(R),R=Array(16),I=C=0;4>I;++I)for(var T=0;32>T;T+=8)R[C++]=this.g[I]>>>T&255;return R};function o(R,I){var C=a;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=I(R)}function s(R,I){this.h=I;for(var C=[],T=!0,A=R.length-1;0<=A;A--){var S=R[A]|0;T&&S==I||(C[A]=S,T=!1)}this.g=C}var a={};function u(R){return-128<=R&&128>R?o(R,function(I){return new s([I|0],0>I?-1:0)}):new s([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return k(d(-R));for(var I=[],C=1,T=0;R>=C;T++)I[T]=R/C|0,C*=4294967296;return new s(I,0)}function p(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return k(p(R.substring(1),I));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(I,8)),T=g,A=0;A<R.length;A+=8){var S=Math.min(8,R.length-A),D=parseInt(R.substring(A,A+S),I);8>S?(S=d(Math.pow(I,S)),T=T.j(S).add(d(D))):(T=T.j(C),T=T.add(d(D)))}return T}var g=u(0),w=u(1),_=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-k(this).m();for(var R=0,I=1,C=0;C<this.g.length;C++){var T=this.i(C);R+=(0<=T?T:4294967296+T)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M(this))return"0";if(O(this))return"-"+k(this).toString(R);for(var I=d(Math.pow(R,6)),C=this,T="";;){var A=Ae(C,I).g;C=U(C,A.j(I));var S=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=A,M(C))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function M(R){if(R.h!=0)return!1;for(var I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function O(R){return R.h==-1}n.l=function(R){return R=U(this,R),O(R)?-1:M(R)?0:1};function k(R){for(var I=R.g.length,C=[],T=0;T<I;T++)C[T]=~R.g[T];return new s(C,~R.h).add(w)}n.abs=function(){return O(this)?k(this):this},n.add=function(R){for(var I=Math.max(this.g.length,R.g.length),C=[],T=0,A=0;A<=I;A++){var S=T+(this.i(A)&65535)+(R.i(A)&65535),D=(S>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);T=D>>>16,S&=65535,D&=65535,C[A]=D<<16|S}return new s(C,C[C.length-1]&-2147483648?-1:0)};function U(R,I){return R.add(k(I))}n.j=function(R){if(M(this)||M(R))return g;if(O(this))return O(R)?k(this).j(k(R)):k(k(this).j(R));if(O(R))return k(this.j(k(R)));if(0>this.l(_)&&0>R.l(_))return d(this.m()*R.m());for(var I=this.g.length+R.g.length,C=[],T=0;T<2*I;T++)C[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<R.g.length;A++){var S=this.i(T)>>>16,D=this.i(T)&65535,Ln=R.i(A)>>>16,gi=R.i(A)&65535;C[2*T+2*A]+=D*gi,Z(C,2*T+2*A),C[2*T+2*A+1]+=S*gi,Z(C,2*T+2*A+1),C[2*T+2*A+1]+=D*Ln,Z(C,2*T+2*A+1),C[2*T+2*A+2]+=S*Ln,Z(C,2*T+2*A+2)}for(T=0;T<I;T++)C[T]=C[2*T+1]<<16|C[2*T];for(T=I;T<2*I;T++)C[T]=0;return new s(C,0)};function Z(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function ee(R,I){this.g=R,this.h=I}function Ae(R,I){if(M(I))throw Error("division by zero");if(M(R))return new ee(g,g);if(O(R))return I=Ae(k(R),I),new ee(k(I.g),k(I.h));if(O(I))return I=Ae(R,k(I)),new ee(k(I.g),I.h);if(30<R.g.length){if(O(R)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,T=I;0>=T.l(R);)C=nt(C),T=nt(T);var A=De(C,1),S=De(T,1);for(T=De(T,2),C=De(C,2);!M(T);){var D=S.add(T);0>=D.l(R)&&(A=A.add(C),S=D),T=De(T,1),C=De(C,1)}return I=U(R,A.j(I)),new ee(A,I)}for(A=g;0<=R.l(I);){for(C=Math.max(1,Math.floor(R.m()/I.m())),T=Math.ceil(Math.log(C)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=d(C),D=S.j(I);O(D)||0<D.l(R);)C-=T,S=d(C),D=S.j(I);M(S)&&(S=w),A=A.add(S),R=U(R,D)}return new ee(A,R)}n.A=function(R){return Ae(this,R).h},n.and=function(R){for(var I=Math.max(this.g.length,R.g.length),C=[],T=0;T<I;T++)C[T]=this.i(T)&R.i(T);return new s(C,this.h&R.h)},n.or=function(R){for(var I=Math.max(this.g.length,R.g.length),C=[],T=0;T<I;T++)C[T]=this.i(T)|R.i(T);return new s(C,this.h|R.h)},n.xor=function(R){for(var I=Math.max(this.g.length,R.g.length),C=[],T=0;T<I;T++)C[T]=this.i(T)^R.i(T);return new s(C,this.h^R.h)};function nt(R){for(var I=R.g.length+1,C=[],T=0;T<I;T++)C[T]=R.i(T)<<1|R.i(T-1)>>>31;return new s(C,R.h)}function De(R,I){var C=I>>5;I%=32;for(var T=R.g.length-C,A=[],S=0;S<T;S++)A[S]=0<I?R.i(S+C)>>>I|R.i(S+C+1)<<32-I:R.i(S+C);return new s(A,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lE=rM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,ai=rM.Integer=s}).apply(typeof nM<"u"?nM:typeof self<"u"?self:typeof window<"u"?window:{});var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ci={};var dE,iq,dc,hE,Nl,jp,fE,pE,gE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vp=="object"&&Vp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var N=c[v];if(!(N in m))break e;m=m[N]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var m=0,v=!1,N={next:function(){if(!v&&m<c.length){var x=m++;return{value:f(x,c[x]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),c.apply(f,N)}}return function(){return c.apply(f,arguments)}}function w(c,f,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,w.apply(null,arguments)}function _(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,N,x){for(var j=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)j[Re-2]=arguments[Re];return f.prototype[N].apply(v,j)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let N=c.length||0,x=v.length||0;c.length=N+x;for(let j=0;j<x;j++)c[N+j]=v[j]}else c.push(v)}}class U{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Z(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var nt=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function De(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function R(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,f){let m,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(m in v)c[m]=v[m];for(let x=0;x<C.length;x++)m=C[x],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function S(c){a.setTimeout(()=>{throw c},0)}function D(){var c=yi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Ln{constructor(){this.h=this.g=null}add(f,m){let v=gi.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var gi=new U(()=>new qc,c=>c.reset());class qc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let mi,Pr=!1,yi=new Ln,cn=()=>{let c=a.Promise.resolve(void 0);mi=()=>{c.then(vi)}};var vi=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){S(m)}var f=gi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Pr=!1};function kt(){this.s=this.s,this.C=this.C}kt.prototype.s=!1,kt.prototype.ma=function(){this.s||(this.s=!0,this.N())},kt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function vt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var wi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Vn(c,f){if(vt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(nt){e:{try{Ae(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ad[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vn.aa.h.call(this)}}M(Vn,vt);var ad={2:"touch",3:"pen",4:"mouse"};Vn.prototype.h=function(){Vn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var er="closure_listenable_"+(1e6*Math.random()|0),zc=0;function dm(c,f,m,v,N){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=N,this.key=++zc,this.da=this.fa=!1}function _i(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,f,m,v,N){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var j=Gc(c,f,v,N);return-1<j?(f=c[j],m||(f.fa=!1)):(f=new dm(f,this.src,x,!!v,N),f.fa=m,c.push(f)),f};function Ii(c,f){var m=f.type;if(m in c.g){var v=c.g[m],N=Array.prototype.indexOf.call(v,f,void 0),x;(x=0<=N)&&Array.prototype.splice.call(v,N,1),x&&(_i(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Gc(c,f,m,v){for(var N=0;N<c.length;++N){var x=c[N];if(!x.da&&x.listener==f&&x.capture==!!m&&x.ha==v)return N}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),un={};function cd(c,f,m,v,N){if(v&&v.once)return Wc(c,f,m,v,N);if(Array.isArray(f)){for(var x=0;x<f.length;x++)cd(c,f[x],m,v,N);return null}return m=rt(m),c&&c[er]?c.K(f,m,d(v)?!!v.capture:!!v,N):Ot(c,f,m,!1,v,N)}function Ot(c,f,m,v,N,x){if(!f)throw Error("Invalid event type");var j=d(N)?!!N.capture:!!N,Re=jn(c);if(Re||(c[Rt]=Re=new Ei(c)),m=Re.add(f,m,v,j,x),m.proxy)return m;if(v=js(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)wi||(N=j),N===void 0&&(N=!1),c.addEventListener(f.toString(),v,N);else if(c.attachEvent)c.attachEvent(Ut(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function js(){function c(m){return f.call(c.src,c.listener,m)}let f=tr;return c}function Wc(c,f,m,v,N){if(Array.isArray(f)){for(var x=0;x<f.length;x++)Wc(c,f[x],m,v,N);return null}return m=rt(m),c&&c[er]?c.L(f,m,d(v)?!!v.capture:!!v,N):Ot(c,f,m,!0,v,N)}function Kc(c,f,m,v,N){if(Array.isArray(f))for(var x=0;x<f.length;x++)Kc(c,f[x],m,v,N);else v=d(v)?!!v.capture:!!v,m=rt(m),c&&c[er]?(c=c.i,f=String(f).toString(),f in c.g&&(x=c.g[f],m=Gc(x,m,v,N),-1<m&&(_i(x[m]),Array.prototype.splice.call(x,m,1),x.length==0&&(delete c.g[f],c.h--)))):c&&(c=jn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Gc(f,m,v,N)),(m=-1<c?f[c]:null)&&Ee(m))}function Ee(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[er])Ii(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Ut(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=jn(f))?(Ii(m,c),m.h==0&&(m.src=null,f[Rt]=null)):_i(c)}}}function Ut(c){return c in un?un[c]:un[c]="on"+c}function tr(c,f){if(c.da)c=!0;else{f=new Vn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&Ee(c),c=m.call(v,f)}return c}function jn(c){return c=c[Rt],c instanceof Ei?c:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(c){return typeof c=="function"?c:(c[Ke]||(c[Ke]=function(f){return c.handleEvent(f)}),c[Ke])}function it(){kt.call(this),this.i=new Ei(this),this.M=this,this.F=null}M(it,kt),it.prototype[er]=!0,it.prototype.removeEventListener=function(c,f,m,v){Kc(this,c,f,m,v)};function wt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new vt(f,c);else if(f instanceof vt)f.target=f.target||c;else{var N=f;f=new vt(v,c),T(f,N)}if(N=!0,m)for(var x=m.length-1;0<=x;x--){var j=f.g=m[x];N=nr(j,v,!0,f)&&N}if(j=f.g=c,N=nr(j,v,!0,f)&&N,N=nr(j,v,!1,f)&&N,m)for(x=0;x<m.length;x++)j=f.g=m[x],N=nr(j,v,!1,f)&&N}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)_i(m[v]);delete c.g[f],c.h--}}this.F=null},it.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},it.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function nr(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,x=0;x<f.length;++x){var j=f[x];if(j&&!j.da&&j.capture==m){var Re=j.listener,ot=j.ha||j.src;j.fa&&Ii(c.i,j),N=Re.call(ot,v)!==!1&&N}}return N&&!v.defaultPrevented}function Mt(c,f,m){if(typeof c=="function")m&&(c=w(c,m));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function ud(c){c.g=Mt(()=>{c.g=null,c.i&&(c.i=!1,ud(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Qc extends kt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ud(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bo(c){kt.call(this),this.h=c,this.g={}}M(bo,kt);var Yc=[];function Bs(c){De(c.g,function(f,m){this.g.hasOwnProperty(m)&&Ee(f)},c),c.g={}}bo.prototype.N=function(){bo.aa.N.call(this),Bs(this)},bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zc=a.JSON.stringify,hm=a.JSON.parse,fm=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Jc(){}Jc.prototype.h=null;function rr(c){return c.h||(c.h=c.i())}function ld(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xc(){vt.call(this,"d")}M(Xc,vt);function eu(){vt.call(this,"c")}M(eu,vt);var kr={},Us=null;function $s(){return Us=Us||new it}kr.La="serverreachability";function dd(c){vt.call(this,kr.La,c)}M(dd,vt);function Do(c){let f=$s();wt(f,new dd(f))}kr.STAT_EVENT="statevent";function hd(c,f){vt.call(this,kr.STAT_EVENT,c),this.stat=f}M(hd,vt);function Nt(c){let f=$s();wt(f,new hd(f,c))}kr.Ma="timingevent";function Hs(c,f){vt.call(this,kr.Ma,c),this.size=f}M(Hs,vt);function Or(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function To(){this.g=!0}To.prototype.xa=function(){this.g=!1};function pm(c,f,m,v,N,x){c.info(function(){if(c.g)if(x)for(var j="",Re=x.split("&"),ot=0;ot<Re.length;ot++){var de=Re[ot].split("=");if(1<de.length){var _t=de[0];de=de[1];var Et=_t.split("_");j=2<=Et.length&&Et[1]=="type"?j+(_t+"="+de+"&"):j+(_t+"=redacted&")}}else j=null;else j=x;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+`
`+m+`
`+j})}function gm(c,f,m,v,N,x,j){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+`
`+m+`
`+x+" "+j})}function bi(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+ke(c,m)+(v?" "+v:"")})}function mm(c,f){c.info(function(){return"TIMEOUT: "+f})}To.prototype.info=function(){};function ke(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var x=N[0];if(x!="noop"&&x!="stop"&&x!="close")for(var j=1;j<N.length;j++)N[j]=""}}}}return Zc(m)}catch{return f}}var qs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tu;function zs(){}M(zs,Jc),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},tu=new zs;function ir(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new bo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pd}function pd(){this.i=null,this.g="",this.h=!1}var Gs={},Fr={};function Ws(c,f,m){c.L=1,c.v=ea(Cn(f)),c.m=m,c.P=!0,So(c,null)}function So(c,f){c.F=Date.now(),Ks(c),c.A=Cn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Cd(m.i,"t",v),c.C=0,m=c.j.J,c.h=new pd,c.g=jd(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Qc(w(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var N="readystatechange";Array.isArray(N)||(N&&(Yc[0]=N.toString()),N=Yc);for(var x=0;x<N.length;x++){var j=cd(m,N[x],v||f.handleEvent,!1,f.h||f);if(!j)break;f.g[j.key]=j}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Do(),pm(c.i,c.u,c.A,c.l,c.R,c.m)}ir.prototype.ca=function(c){c=c.target;let f=this.M;f&&Tn(c)==3?f.j():this.Y(c)},ir.prototype.Y=function(c){try{if(c==this.g)e:{let Et=Tn(this.g);var f=this.g.Ba();let xi=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Mi(this.g)))){this.J||Et!=4||f==7||(f==8||0>=xi?Do(3):Do(2)),Qs(this);var m=this.g.Z();this.X=m;t:if($e(this)){var v=Mi(this.g);c="";var N=v.length,x=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),Ci(this);var j="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(x&&f==N-1)});v.length=0,this.h.g+=c,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,gm(this.i,this.u,this.A,this.l,this.R,Et,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ot=this.g;if((Re=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Re)){var de=Re;break t}}de=null}if(m=de)bi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,m);else{this.o=!1,this.s=3,Nt(12),Lr(this),Ci(this);break e}}if(this.P){m=!0;let Zt;for(;!this.J&&this.C<j.length;)if(Zt=ym(this,j),Zt==Fr){Et==4&&(this.s=4,Nt(14),m=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Gs){this.s=4,Nt(15),bi(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else bi(this.i,this.l,Zt,null),nu(this,Zt);if($e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||j.length!=0||this.h.h||(this.s=1,Nt(16),m=!1),this.o=this.o&&m,!m)bi(this.i,this.l,j,"[Invalid Chunked Response]"),Lr(this),Ci(this);else if(0<j.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),du(_t),_t.M=!0,Nt(11))}}else bi(this.i,this.l,j,null),nu(this,j);Et==4&&Lr(this),this.o&&!this.J&&(Et==4?hu(this.j,this):(this.o=!1,Ks(this)))}else Sm(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Lr(this),Ci(this)}}}catch{}finally{}};function $e(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ym(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Fr:(m=Number(f.substring(m,v)),isNaN(m)?Gs:(v+=1,v+m>f.length?Fr:(f=f.slice(v,v+m),c.C=v+m,f)))}ir.prototype.cancel=function(){this.J=!0,Lr(this)};function Ks(c){c.S=Date.now()+c.I,gd(c,c.I)}function gd(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Or(w(c.ba,c),f)}function Qs(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ir.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(mm(this.i,this.A),this.L!=2&&(Do(),Nt(17)),Lr(this),this.s=2,Ci(this)):gd(this,this.S-c)};function Ci(c){c.j.G==0||c.J||hu(c.j,c)}function Lr(c){Qs(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Bs(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function nu(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Ao(m.h,c))){if(!c.K&&Ao(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Vr(m),Bn(m);else break e;lu(m),Nt(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=Or(w(m.Za,m),6e3));if(1>=vd(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else jr(m,11)}else if((c.K||m.g==c)&&Vr(m),!Z(f))for(N=m.Da.g.parse(f),f=0;f<N.length;f++){let de=N[f];if(m.T=de[0],de=de[1],m.G==2)if(de[0]=="c"){m.K=de[1],m.ia=de[2];let _t=de[3];_t!=null&&(m.la=_t,m.j.info("VER="+m.la));let Et=de[4];Et!=null&&(m.Aa=Et,m.j.info("SVER="+m.Aa));let xi=de[5];xi!=null&&typeof xi=="number"&&0<xi&&(v=1.5*xi,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Zt=c.g;if(Zt){let Vo=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var x=v.h;x.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Ys(x,x.h),x.h=null))}if(v.D){let sa=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(v.ya=sa,Le(v.I,v.D,sa))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var j=c;if(v.qa=fu(v,v.J?v.ia:null,v.W),j.K){iu(v.h,j);var Re=j,ot=v.L;ot&&(Re.I=ot),Re.B&&(Qs(Re),Ks(Re)),v.g=j}else Od(v);0<m.i.length&&ra(m)}else de[0]!="stop"&&de[0]!="close"||jr(m,7);else m.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?jr(m,7):na(m):de[0]!="noop"&&m.l&&m.l.ta(de),m.v=0)}}Do(4)}catch{}}var md=class{constructor(c,f){this.g=c,this.map=f}};function yd(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ru(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vd(c){return c.h?1:c.g?c.g.size:0}function Ao(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Ys(c,f){c.g?c.g.add(f):c.h=f}function iu(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}yd.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ou(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function wd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function vm(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function _d(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=vm(c),v=wd(c),N=v.length,x=0;x<N;x++)f.call(void 0,v[x],m&&m[x],c)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),N=null;if(0<=v){var x=c[m].substring(0,v);N=c[m].substring(v+1)}else x=c[m];f(x,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function bn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bn){this.h=c.h,Js(this,c.j),this.o=c.o,this.g=c.g,Xs(this,c.s),this.l=c.l;var f=c.i,m=new No;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Ed(this,m),this.m=c.m}else c&&(f=String(c).match(Ro))?(this.h=!1,Js(this,f[1]||"",!0),this.o=Mo(f[2]||""),this.g=Mo(f[3]||"",!0),Xs(this,f[4]),this.l=Mo(f[5]||"",!0),Ed(this,f[6]||"",!0),this.m=Mo(f[7]||"")):(this.h=!1,this.i=new No(null,this.h))}bn.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Di(f,su,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Di(f,su,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Di(m,m.charAt(0)=="/"?Em:_m,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Di(m,Id)),c.join("")};function Cn(c){return new bn(c)}function Js(c,f,m){c.j=m?Mo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Xs(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Ed(c,f,m){f instanceof No?(c.i=f,Im(c.i,c.h)):(m||(f=Di(f,Ti)),c.i=new No(f,c.h))}function Le(c,f,m){c.i.set(f,m)}function ea(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Di(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,wm),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wm(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var su=/[#\/\?@]/g,_m=/[#\?:]/g,Em=/[#\?]/g,Ti=/[#\?@]/g,Id=/#/g;function No(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zs(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=No.prototype,n.add=function(c,f){Dn(this),this.i=null,c=Si(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function au(c,f){Dn(c),f=Si(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function bd(c,f){return Dn(c),f=Si(c,f),c.g.has(f)}n.forEach=function(c,f){Dn(this),this.g.forEach(function(m,v){m.forEach(function(N){c.call(f,N,v,this)},this)},this)},n.na=function(){Dn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let N=c[v];for(let x=0;x<N.length;x++)m.push(f[v])}return m},n.V=function(c){Dn(this);let f=[];if(typeof c=="string")bd(this,c)&&(f=f.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return Dn(this),this.i=null,c=Si(this,c),bd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Cd(c,f,m){au(c,f),0<m.length&&(c.i=null,c.g.set(Si(c,f),O(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let x=encodeURIComponent(String(v)),j=this.V(v);for(v=0;v<j.length;v++){var N=x;j[v]!==""&&(N+="="+encodeURIComponent(String(j[v]))),c.push(N)}}return this.i=c.join("&")};function Si(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Im(c,f){f&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(m,v){var N=v.toLowerCase();v!=N&&(au(this,v),Cd(this,N,m))},c)),c.j=f}function bm(c,f){let m=new To;if(a.Image){let v=new Image;v.onload=_($t,m,"TestLoadImage: loaded",!0,f,v),v.onerror=_($t,m,"TestLoadImage: error",!1,f,v),v.onabort=_($t,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=_($t,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Cm(c,f){let m=new To,v=new AbortController,N=setTimeout(()=>{v.abort(),$t(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(x=>{clearTimeout(N),x.ok?$t(m,"TestPingServer: ok",!0,f):$t(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),$t(m,"TestPingServer: error",!1,f)})}function $t(c,f,m,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(m)}catch{}}function Dm(){this.g=new fm}function Dd(c,f,m){let v=m||"";try{_d(c,function(N,x){let j=N;d(N)&&(j=Zc(N)),f.push(v+x+"="+encodeURIComponent(j))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function Ai(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ai,Jc),Ai.prototype.g=function(){return new ta(this.l,this.j)},Ai.prototype.i=function(c){return function(){return c}}({});function ta(c,f){it.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ta,it),n=ta.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Po(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Td(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Td(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?xo(this):Po(this),this.readyState==3&&Td(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xo(this))},n.Qa=function(c){this.g&&(this.response=c,xo(this))},n.ga=function(){this.g&&xo(this)};function xo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Po(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Po(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sd(c){let f="";return De(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function cu(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Sd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Le(c,f,m))}function He(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(He,it);var Ri=/^https?$/i,Tm=["POST","PUT"];n=He.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tu.g(),this.v=this.o?rr(this.o):rr(tu),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(x){Ad(this,x);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)m.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let x of v.keys())m.set(x,v.get(x));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(x=>x.toLowerCase()=="content-type"),N=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tm,f,void 0))||v||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,j]of m)this.g.setRequestHeader(x,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Md(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){Ad(this,x)}};function Ad(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,uu(c),ln(c)}function uu(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),ln(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ln(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Rd(this):this.bb())},n.bb=function(){Rd(this)};function Rd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Tn(c)!=4||c.Z()!=2)){if(c.u&&Tn(c)==4)Mt(c.Ea,0,c);else if(wt(c,"readystatechange"),Tn(c)==4){c.h=!1;try{let j=c.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=j===0){var N=String(c.D).match(Ro)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!Ri.test(N?N.toLowerCase():"")}m=v}if(m)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var x=2<Tn(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",uu(c)}}finally{ln(c)}}}}function ln(c,f){if(c.g){Md(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||wt(c,"ready");try{m.onreadystatechange=v}catch{}}}function Md(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),hm(f)}};function Mi(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sm(c){let f={};c=(c.g&&2<=Tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(Z(c[v]))continue;var m=A(c[v]);let N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let x=f[N]||[];f[N]=x,x.push(m)}R(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function Nd(c){this.Aa=0,this.i=[],this.j=new To,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,c),this.cb=ko("retryDelaySeedMs",1e4,c),this.Wa=ko("forwardChannelMaxRetries",2,c),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yd(c&&c.concurrentRequestLimit),this.Da=new Dm,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Nd.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){Nt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=fu(this,null,this.W),ra(this)};function na(c){if(xd(c),c.G==3){var f=c.U++,m=Cn(c.I);if(Le(m,"SID",c.K),Le(m,"RID",f),Le(m,"TYPE","terminate"),Oo(c,m),f=new ir(c,c.j,f),f.L=2,f.v=ea(Cn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=jd(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ks(f)}Vd(c)}function Bn(c){c.g&&(du(c),c.g.cancel(),c.g=null)}function xd(c){Bn(c),c.u&&(a.clearTimeout(c.u),c.u=null),Vr(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ra(c){if(!ru(c.h)&&!c.s){c.s=!0;var f=c.Ga;mi||cn(),Pr||(mi(),Pr=!0),yi.add(f,c),c.B=0}}function Am(c,f){return vd(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Or(w(c.Ga,c,f),Ld(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let N=new ir(this,this.j,c),x=this.o;if(this.S&&(x?(x=I(x),T(x,this.S)):x=this.S),this.m!==null||this.O||(N.H=x,x=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=kd(this,N,f),m=Cn(this.I),Le(m,"RID",c),Le(m,"CVER",22),this.D&&Le(m,"X-HTTP-Session-Id",this.D),Oo(this,m),x&&(this.O?f="headers="+encodeURIComponent(String(Sd(x)))+"&"+f:this.m&&cu(m,this.m,x)),Ys(this.h,N),this.Ua&&Le(m,"TYPE","init"),this.P?(Le(m,"$req",f),Le(m,"SID","null"),N.T=!0,Ws(N,m,null)):Ws(N,m,f),this.G=2}}else this.G==3&&(c?Pd(this,c):this.i.length==0||ru(this.h)||Pd(this))};function Pd(c,f){var m;f?m=f.l:m=c.U++;let v=Cn(c.I);Le(v,"SID",c.K),Le(v,"RID",m),Le(v,"AID",c.T),Oo(c,v),c.m&&c.o&&cu(v,c.m,c.o),m=new ir(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=kd(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ys(c.h,m),Ws(m,v,f)}function Oo(c,f){c.H&&De(c.H,function(m,v){Le(f,v,m)}),c.l&&_d({},function(m,v){Le(f,v,m)})}function kd(c,f,m){m=Math.min(c.i.length,m);var v=c.l?w(c.l.Na,c.l,c):null;e:{var N=c.i;let x=-1;for(;;){let j=["count="+m];x==-1?0<m?(x=N[0].g,j.push("ofs="+x)):x=0:j.push("ofs="+x);let Re=!0;for(let ot=0;ot<m;ot++){let de=N[ot].g,_t=N[ot].map;if(de-=x,0>de)x=Math.max(0,N[ot].g-100),Re=!1;else try{Dd(_t,j,"req"+de+"_")}catch{v&&v(_t)}}if(Re){v=j.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Od(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;mi||cn(),Pr||(mi(),Pr=!0),yi.add(f,c),c.v=0}}function lu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Or(w(c.Fa,c),Ld(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Or(w(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Bn(this),Fd(this))};function du(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Fd(c){c.g=new ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Cn(c.qa);Le(f,"RID","rpc"),Le(f,"SID",c.K),Le(f,"AID",c.T),Le(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(f,"TO",c.ja),Le(f,"TYPE","xmlhttp"),Oo(c,f),c.m&&c.o&&cu(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ea(Cn(f)),m.m=null,m.P=!0,So(m,c)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),lu(this),Nt(19))};function Vr(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hu(c,f){var m=null;if(c.g==f){Vr(c),du(c),c.g=null;var v=2}else if(Ao(c.h,f))m=f.D,iu(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var N=c.B;v=$s(),wt(v,new Hs(v,m)),ra(c)}else Od(c);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&Am(c,f)||v==2&&lu(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),N){case 1:jr(c,5);break;case 4:jr(c,10);break;case 3:jr(c,6);break;default:jr(c,2)}}}function Ld(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function jr(c,f){if(c.j.info("Error code "+f),f==2){var m=w(c.fb,c),v=c.Xa;let N=!v;v=new bn(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Js(v,"https"),ea(v),N?bm(v.toString(),m):Cm(v.toString(),m)}else Nt(2);c.G=0,c.l&&c.l.sa(f),Vd(c),xd(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Vd(c){if(c.G=0,c.ka=[],c.l){let f=ou(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function fu(c,f,m){var v=m instanceof bn?Cn(m):new bn(m);if(v.g!="")f&&(v.g=f+"."+v.g),Xs(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var x=new bn(null);v&&Js(x,v),f&&(x.g=f),N&&Xs(x,N),m&&(x.l=m),v=x}return m=c.D,f=c.ya,m&&f&&Le(v,m,f),Le(v,"VER",c.la),Oo(c,v),v}function jd(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new He(new Ai({eb:m})):new He(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ia(){}n=ia.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fo(){}Fo.prototype.g=function(c,f){return new Ft(c,f)};function Ft(c,f){it.call(this),this.g=new Nd(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!Z(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Z(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ni(this)}M(Ft,it),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){na(this.g)},Ft.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Zc(c),c=m);f.i.push(new md(f.Ya++,c)),f.G==3&&ra(f)},Ft.prototype.N=function(){this.g.l=null,delete this.j,na(this.g),delete this.g,Ft.aa.N.call(this)};function oa(c){Xc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(oa,Xc);function Lo(){eu.call(this),this.status=1}M(Lo,eu);function Ni(c){this.g=c}M(Ni,ia),Ni.prototype.ua=function(){wt(this.g,"a")},Ni.prototype.ta=function(c){wt(this.g,new oa(c))},Ni.prototype.sa=function(c){wt(this.g,new Lo)},Ni.prototype.ra=function(){wt(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,gE=ci.createWebChannelTransport=function(){return new Fo},pE=ci.getStatEventTarget=function(){return $s()},fE=ci.Event=kr,jp=ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Nl=ci.ErrorCode=qs,fd.COMPLETE="complete",hE=ci.EventType=fd,ld.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",it.prototype.listen=it.prototype.K,dc=ci.WebChannel=ld,iq=ci.FetchXmlHttpFactory=Ai,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,dE=ci.XhrIo=He}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});var iM="@firebase/firestore",oM="4.8.0";var Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");var xc="11.10.0";var bs=new br("@firebase/firestore");function hc(){return bs.logLevel}function q(n,...e){if(bs.logLevel<=ve.DEBUG){let t=e.map(ab);bs.debug(`Firestore (${xc}): ${n}`,...t)}}function li(n,...e){if(bs.logLevel<=ve.ERROR){let t=e.map(ab);bs.error(`Firestore (${xc}): ${n}`,...t)}}function po(n,...e){if(bs.logLevel<=ve.WARN){let t=e.map(ab);bs.warn(`Firestore (${xc}): ${n}`,...t)}}function ab(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,JM(n,r,t)}function JM(n,e,t){let r=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw li(r),new Error(r)}function Me(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||JM(e,i,r)}function ie(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends _n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ui=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Gp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_E=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tt.UNAUTHENTICATED))}shutdown(){}},EE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},IE=class{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ui,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>b(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ui)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Gp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}},bE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},CE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new bE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Wp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},DE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Me(this.o===void 0,3512);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Wp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function oq(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function XM(){return new TextEncoder}var Ll=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=oq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function TE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return pe(r,i);{let o=XM(),s=sq(o.encode(sM(n,t)),o.encode(sM(e,t)));return s!==0?s:pe(r,i)}}t+=r>65535?2:1}return pe(n.length,e.length)}function sM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function sq(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pe(n[t],e[t]);return pe(n.length,e.length)}function _c(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var aM="__name__",Kp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Y(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):TE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ai.fromString(e.substring(4,e.length-2))}},ze=class n extends Kp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},aq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,In=class n extends Kp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return aq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aM}static keyField(){return new n([aM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var K=class n{constructor(e){this.path=e}static fromPath(e){return new n(ze.fromString(e))}static fromName(e){return new n(ze.fromString(e).popFirst(5))}static empty(){return new n(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ze(e.slice()))}};function eN(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cq(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cM(n){if(!K.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uM(n){if(K.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y(12329,{type:typeof n})}function ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Sg(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Wl(n,e){if(!tN(n))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(F.INVALID_ARGUMENT,t);return!0}var lM=-62135596800,dM=1e6,ht=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*dM);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lM)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dM}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-lM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:dt("string",ht._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};var se=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ht(0,0))}static max(){return new n(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vl=-1,SE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};SE.UNKNOWN_ID=-1;function uq(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new Cs(i,K.empty(),e)}function lq(n){return new Cs(n.readTime,n.key,Vl)}var Cs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),K.empty(),Vl)}static max(){return new n(se.max(),K.empty(),Vl)}};function dq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=K.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var hq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Pc(n){return b(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==hq)throw n;q("LocalStore","Unexpectedly lost primary lease")})}var V=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function fq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(n){return n.name==="IndexedDbTransactionError"}var cb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),ub=-1;function Ag(n){return n==null}function jl(n){return n===0&&1/n==-1/0}function pq(n){return typeof n=="number"&&Number.isInteger(n)&&!jl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var nN="";function gq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hM(e)),e=mq(n.get(t),e);return hM(e)}function mq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case nN:t+="";break;default:t+=o}}return t}function hM(n){return n+nN+""}var yq="remoteDocuments",rN="owner";var iN="mutationQueues";var oN="mutations";var sN="documentMutations",vq="remoteDocumentsV14";var aN="remoteDocumentGlobal";var cN="targets";var uN="targetDocuments";var lN="targetGlobal",dN="collectionParents";var hN="clientMetadata";var fN="bundles";var pN="namedQueries";var wq="indexConfiguration";var _q="indexState";var Eq="indexEntries";var gN="documentOverlays";var Iq="globals";var bq=[iN,oN,sN,yq,cN,rN,lN,uN,hN,aN,dN,fN,pN],YX=[...bq,gN],Cq=[iN,oN,sN,vq,cN,rN,lN,uN,hN,aN,dN,fN,pN,gN],Dq=Cq,Tq=[...Dq,wq,_q,Eq];var ZX=[...Tq,Iq];function fM(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Xe=class n{constructor(e,t){this.comparator=e,this.root=t||Tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}},mc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class n{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(e){return new Qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Qp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var On=class n{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new n([])}unionWith(e){let t=new St(In.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _c(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Yp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bt.EMPTY_BYTE_STRING=new Bt("");var Sq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(n){if(Me(!!n,39018),typeof n=="string"){let e=0,t=Sq.exec(n);if(Me(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hi(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}var yN="server_timestamp",vN="__type__",wN="__previous_value__",_N="__local_write_time__";function lb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[vN])===null||t===void 0?void 0:t.stringValue)===yN}function Rg(n){let e=n.mapValue.fields[wN];return lb(e)?Rg(e):e}function Bl(n){let e=di(n.mapValue.fields[_N].timestampValue);return new ht(e.seconds,e.nanos)}var RE=class{constructor(e,t,r,i,o,s,a,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}},Zp="(default)",Jp=class n{constructor(e,t){this.projectId=e,this.database=t||Zp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Zp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var db="__type__",EN="__max__",Bp={mapValue:{fields:{__type__:{stringValue:EN}}}},hb="__vector__",Ec="value";function go(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lb(n)?4:bN(n)?9007199254740991:IN(n)?10:11:Y(28295,{value:n})}function Rr(n,e){if(n===e)return!0;let t=go(n);if(t!==go(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=di(i.timestampValue),a=di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return hi(i.bytesValue).isEqual(hi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?jl(s)===jl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return _c(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fM(s)!==fM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Rr(s[u],a[u])))return!1;return!0}(n,e);default:return Y(52216,{left:n})}}function Ul(n,e){return(n.values||[]).find(t=>Rr(t,e))!==void 0}function Ic(n,e){if(n===e)return 0;let t=go(n),r=go(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=qe(o.integerValue||o.doubleValue),u=qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return pM(n.timestampValue,e.timestampValue);case 4:return pM(Bl(n),Bl(e));case 5:return TE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=hi(o),u=hi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=pe(a[d],u[d]);if(p!==0)return p}return pe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=pe(qe(o.latitude),qe(s.latitude));return a!==0?a:pe(qe(o.longitude),qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gM(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let g=o.fields||{},w=s.fields||{},_=(a=g[Ec])===null||a===void 0?void 0:a.arrayValue,M=(u=w[Ec])===null||u===void 0?void 0:u.arrayValue,O=pe(((d=_?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:gM(_,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bp.mapValue&&s===Bp.mapValue)return 0;if(o===Bp.mapValue)return 1;if(s===Bp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let w=TE(u[g],p[g]);if(w!==0)return w;let _=Ic(a[u[g]],d[p[g]]);if(_!==0)return _}return pe(u.length,p.length)}(n.mapValue,e.mapValue);default:throw Y(23264,{le:t})}}function pM(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=di(n),r=di(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function gM(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ic(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function bc(n){return ME(n)}function ME(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=di(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return hi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return K.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ME(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ME(t.fields[s])}`;return i+"}"}(n.mapValue):Y(61005,{value:n})}function Hp(n){switch(go(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Rg(n);return e?16+Hp(e):16;case 5:return 2*n.stringValue.length;case 6:return hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Hp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return wo(r.fields,(o,s)=>{i+=o.length+Hp(s)}),i}(n.mapValue);default:throw Y(13486,{value:n})}}function mM(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NE(n){return!!n&&"integerValue"in n}function fb(n){return!!n&&"arrayValue"in n}function yM(n){return!!n&&"nullValue"in n}function vM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qp(n){return!!n&&"mapValue"in n}function IN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||t===void 0?void 0:t.stringValue)===hb}function Pl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===EN}var XX={mapValue:{fields:{[db]:{stringValue:hb},[Ec]:{arrayValue:{}}}}};var En=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(t)}setAll(e){let t=In.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Pl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());qp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Pl(this.value))}};function CN(n){let e=[];return wo(n.fields,(t,r)=>{let i=new In([t]);if(qp(r)){let o=CN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}var Jn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),En.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),En.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Cc=class{constructor(e,t){this.position=e,this.inclusive=t}};function wM(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),t.key):r=Ic(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _M(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}var Ds=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Aq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Xp=class{},lt=class n extends Xp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new PE(e,t,r):t==="array-contains"?new FE(e,r):t==="in"?new LE(e,r):t==="not-in"?new VE(e,r):t==="array-contains-any"?new jE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kE(e,r):new OE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ic(t,this.value)):t!==null&&go(this.value)===go(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xn=class n extends Xp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return DN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function DN(n){return n.op==="and"}function TN(n){return Rq(n)&&DN(n)}function Rq(n){for(let e of n.filters)if(e instanceof Xn)return!1;return!0}function xE(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+bc(n.value);if(TN(n))return n.filters.map(e=>xE(e)).join(",");{let e=n.filters.map(t=>xE(t)).join(",");return`${n.op}(${e})`}}function SN(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(n,e):n instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&SN(s,i.filters[a]),!0):!1}(n,e):void Y(19439)}function AN(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${bc(t.value)}`}(n):n instanceof Xn?function(t){return t.op.toString()+" {"+t.getFilters().map(AN).join(" ,")+"}"}(n):"Filter"}var PE=class extends lt{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){let t=K.comparator(e.key,this.key);return this.matchesComparison(t)}},kE=class extends lt{constructor(e,t){super(e,"in",t),this.keys=RN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},OE=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=RN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function RN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}var FE=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return fb(t)&&Ul(t.arrayValue,this.value)}},LE=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Ul(this.value.arrayValue,t)}},VE=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ul(this.value.arrayValue,t)}},jE=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!fb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}};var BE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function EM(n,e=null,t=[],r=[],i=null,o=null,s=null){return new BE(n,e,t,r,i,o,s)}function pb(n){let e=ie(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>xE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ag(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),e.Pe=t}return e.Pe}function gb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Aq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_M(n.startAt,e.startAt)&&_M(n.endAt,e.endAt)}function UE(n){return K.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var mo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Mq(n,e,t,r,i,o,s,a){return new mo(n,e,t,r,i,o,s,a)}function mb(n){return new mo(n)}function IM(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function MN(n){return n.collectionGroup!==null}function kl(n){let e=ie(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new St(In.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ds(o,r))}),t.has(In.keyField().canonicalString())||e.Te.push(new Ds(In.keyField(),r))}return e.Te}function Sr(n){let e=ie(n);return e.Ie||(e.Ie=Nq(e,kl(n))),e.Ie}function Nq(n,e){if(n.limitType==="F")return EM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let t=n.endAt?new Cc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cc(n.startAt.position,n.startAt.inclusive):null;return EM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $E(n,e){let t=n.filters.concat([e]);return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function HE(n,e,t){return new mo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mg(n,e){return gb(Sr(n),Sr(e))&&n.limitType===e.limitType}function NN(n){return`${pb(Sr(n))}|lt:${n.limitType}`}function fc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>AN(i)).join(", ")}]`),Ag(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>bc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>bc(i)).join(",")),`Target(${r})`}(Sr(n))}; limitType=${n.limitType})`}function Ng(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of kl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=wM(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,kl(r),i)||r.endAt&&!function(s,a,u){let d=wM(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,kl(r),i))}(n,e)}function xq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xN(n){return(e,t)=>{let r=!1;for(let i of kl(n)){let o=Pq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Pq(n,e,t){let r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Ic(u,d):Y(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:n.dir})}}var fi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mN(this.inner)}size(){return this.innerSize}};var kq=new Xe(K.comparator);function pi(){return kq}var PN=new Xe(K.comparator);function xl(...n){let e=PN;for(let t of n)e=e.insert(t.key,t);return e}function kN(n){let e=PN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return Ol()}function ON(){return Ol()}function Ol(){return new fi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Oq=new Xe(K.comparator),Fq=new St(K.comparator);function _e(...n){let e=Fq;for(let t of n)e=e.add(t);return e}var Lq=new St(pe);function Vq(){return Lq}function yb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jl(e)?"-0":e}}function FN(n){return{integerValue:""+n}}function jq(n,e){return pq(e)?FN(e):yb(n,e)}var Dc=class{constructor(){this._=void 0}};function Bq(n,e,t){return n instanceof Ts?function(i,o){let s={fields:{[vN]:{stringValue:yN},[_N]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lb(o)&&(o=Rg(o)),o&&(s.fields[wN]=o),{mapValue:s}}(t,e):n instanceof Ss?VN(n,e):n instanceof As?jN(n,e):function(i,o){let s=LN(i,o),a=bM(s)+bM(i.Ee);return NE(s)&&NE(i.Ee)?FN(a):yb(i.serializer,a)}(n,e)}function Uq(n,e,t){return n instanceof Ss?VN(n,e):n instanceof As?jN(n,e):t}function LN(n,e){return n instanceof Tc?function(r){return NE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ts=class extends Dc{},Ss=class extends Dc{constructor(e){super(),this.elements=e}};function VN(n,e){let t=BN(e);for(let r of n.elements)t.some(i=>Rr(i,r))||t.push(r);return{arrayValue:{values:t}}}var As=class extends Dc{constructor(e){super(),this.elements=e}};function jN(n,e){let t=BN(e);for(let r of n.elements)t=t.filter(i=>!Rr(i,r));return{arrayValue:{values:t}}}var Tc=class extends Dc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function bM(n){return qe(n.integerValue||n.doubleValue)}function BN(n){return fb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var qE=class{constructor(e,t){this.field=e,this.transform=t}};function $q(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ss&&i instanceof Ss||r instanceof As&&i instanceof As?_c(r.elements,i.elements,Rr):r instanceof Tc&&i instanceof Tc?Rr(r.Ee,i.Ee):r instanceof Ts&&i instanceof Ts}(n.transform,e.transform)}var zE=class{constructor(e,t){this.version=e,this.transformResults=t}},co=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function zp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Sc=class{};function UN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new eg(n.key,co.none()):new Rs(n.key,n.data,co.none());{let t=n.data,r=En.empty(),i=new St(In.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mr(n.key,r,new On(i.toArray()),co.none())}}function Hq(n,e,t){n instanceof Rs?function(i,o,s){let a=i.value.clone(),u=DM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Mr?function(i,o,s){if(!zp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=DM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($N(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Fl(n,e,t,r){return n instanceof Rs?function(o,s,a,u){if(!zp(o.precondition,s))return a;let d=o.value.clone(),p=TM(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mr?function(o,s,a,u){if(!zp(o.precondition,s))return a;let d=TM(o.fieldTransforms,u,s),p=s.data;return p.setAll($N(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return zp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function qq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=LN(r.transform,i||null);o!=null&&(t===null&&(t=En.empty()),t.set(r.field,o))}return t||null}function CM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_c(r,i,(o,s)=>$q(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Rs=class extends Sc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mr=class extends Sc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $N(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function DM(n,e,t){let r=new Map;Me(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Uq(s,a,t[i]))}return r}function TM(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Bq(o,s,e))}return r}var eg=class extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},GE=class extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var WE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Hq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Fl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ON();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=UN(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&_c(this.mutations,e.mutations,(t,r)=>CM(t,r))&&_c(this.baseMutations,e.baseMutations,(t,r)=>CM(t,r))}},KE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Me(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Oq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var QE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ct,Ce;function zq(n){switch(n){case F.OK:return Y(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Y(15467,{code:n})}}function HN(n){if(n===void 0)return li("GRPC error has no .code"),F.UNKNOWN;switch(n){case ct.OK:return F.OK;case ct.CANCELLED:return F.CANCELLED;case ct.UNKNOWN:return F.UNKNOWN;case ct.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case ct.INTERNAL:return F.INTERNAL;case ct.UNAVAILABLE:return F.UNAVAILABLE;case ct.UNAUTHENTICATED:return F.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case ct.NOT_FOUND:return F.NOT_FOUND;case ct.ALREADY_EXISTS:return F.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return F.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case ct.ABORTED:return F.ABORTED;case ct.OUT_OF_RANGE:return F.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return F.UNIMPLEMENTED;case ct.DATA_LOSS:return F.DATA_LOSS;default:return Y(39323,{code:n})}}(Ce=ct||(ct={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var SM=null;var Gq=new ai([4294967295,4294967295],0);function AM(n){let e=XM().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function RM(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ai([t,r],0),new ai([i,o],0)]}var ZE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ai.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ai.fromNumber(r)));return i.compare(Gq)===1&&(i=new ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=AM(e),[r,i]=RM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=AM(e),[r,i]=RM(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var tg=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new Xe(pe),pi(),_e())}},$l=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,_e(),_e(),_e())}};var yc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ng=class{constructor(e,t){this.targetId=e,this.De=t}},rg=class{constructor(e,t,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ig=class{constructor(){this.ve=0,this.Ce=MM(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=_e(),t=_e(),r=_e();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new $l(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=MM()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},JE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=pi(),this.je=Up(),this.Je=Up(),this.He=new Xe(pe)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(UE(o))if(r===0){let s=new K(o.path);this.Xe(t,s,Jn.newNoDocument(s,se.min()))}else Me(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,d)}SM?.ct(function(p,g,w,_,M){var O,k,U,Z,ee,Ae;let nt={localCacheCount:p,existenceFilterCount:g.count,databaseId:w.database,projectId:w.projectId},De=g.unchangedNames;return De&&(nt.bloomFilter={applied:M===0,hashCount:(O=De?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Z=(U=(k=De?.bits)===null||k===void 0?void 0:k.bitmap)===null||U===void 0?void 0:U.length)!==null&&Z!==void 0?Z:0,padding:(Ae=(ee=De?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&Ae!==void 0?Ae:0,mightContain:R=>{var I;return(I=_?.mightContain(R))!==null&&I!==void 0&&I}}),nt}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=hi(r).toUint8Array()}catch(u){if(u instanceof Yp)return po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ZE(s,i,o)}catch(u){return po(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&UE(a.target)){let u=new K(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Jn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=_e();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.st(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new tg(e,t,this.He,this.ze,r);return this.ze=pi(),this.je=Up(),this.Je=Up(),this.He=new Xe(pe),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ig,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new St(pe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new St(pe),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||q("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ig),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Up(){return new Xe(K.comparator)}function MM(){return new Xe(K.comparator)}var Wq={asc:"ASCENDING",desc:"DESCENDING"},Kq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qq={and:"AND",or:"OR"},XE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function eI(n,e){return n.useProto3Json||Ag(e)?e:{value:e}}function og(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yq(n,e){return og(n,e.toTimestamp())}function Ar(n){return Me(!!n,49232),se.fromTimestamp(function(t){let r=di(t);return new ht(r.seconds,r.nanos)}(n))}function vb(n,e){return tI(n,e).canonicalString()}function tI(n,e){let t=function(i){return new ze(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zN(n){let e=ze.fromString(n);return Me(YN(e),10190,{key:e.toString()}),e}function nI(n,e){return vb(n.databaseId,e.path)}function mE(n,e){let t=zN(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(WN(t))}function GN(n,e){return vb(n.databaseId,e)}function Zq(n){let e=zN(n);return e.length===4?ze.emptyPath():WN(e)}function rI(n){return new ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WN(n){return Me(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function NM(n,e,t){return{name:nI(n,e),fields:t.value.mapValue.fields}}function Jq(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Y(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Me(p===void 0||typeof p=="string",58123),Bt.fromBase64String(p||"")):(Me(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Bt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?F.UNKNOWN:HN(d.code);return new H(p,d.message||"")}(s);t=new rg(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mE(n,r.document.name),o=Ar(r.document.updateTime),s=r.document.createTime?Ar(r.document.createTime):se.min(),a=new En({mapValue:{fields:r.document.fields}}),u=Jn.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new yc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mE(n,r.document),o=r.readTime?Ar(r.readTime):se.min(),s=Jn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new yc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mE(n,r.document),o=r.removedTargetIds||[];t=new yc([],o,i,null)}else{if(!("filter"in e))return Y(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new YE(i,o),a=r.targetId;t=new ng(a,s)}}return t}function Xq(n,e){let t;if(e instanceof Rs)t={update:NM(n,e.key,e.value)};else if(e instanceof eg)t={delete:nI(n,e.key)};else if(e instanceof Mr)t={update:NM(n,e.key,e.data),updateMask:c5(e.fieldMask)};else{if(!(e instanceof GE))return Y(16599,{Rt:e.type});t={verify:nI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof As)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Yq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)}(n,e.precondition)),t}function e5(n,e){return n&&n.length>0?(Me(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ar(i.updateTime):Ar(o);return s.isEqual(se.min())&&(s=Ar(o)),new zE(s,i.transformResults||[])}(t,e))):[]}function t5(n,e){return{documents:[GN(n,e.path)]}}function n5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GN(n,i);let o=function(d){if(d.length!==0)return QN(Xn.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:pc(w.field),direction:o5(w.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=eI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{Vt:t,parent:i}}function r5(n){let e=Zq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1,65062);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(g){let w=KN(g);return w instanceof Xn&&TN(w)?w.getFilters():[w]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(w=>function(M){return new Ds(gc(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(w))}(t.orderBy));let a=null;t.limit&&(a=function(g){let w;return w=typeof g=="object"?g.value:g,Ag(w)?null:w}(t.limit));let u=null;t.startAt&&(u=function(g){let w=!!g.before,_=g.values||[];return new Cc(_,w)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let w=!g.before,_=g.values||[];return new Cc(_,w)}(t.endAt)),Mq(e,i,s,o,a,"F",u,d)}function i5(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function KN(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=gc(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gc(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=gc(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=gc(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(n):n.fieldFilter!==void 0?function(t){return lt.create(gc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xn.create(t.compositeFilter.filters.map(r=>KN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(t.compositeFilter.op))}(n):Y(30097,{filter:n})}function o5(n){return Wq[n]}function s5(n){return Kq[n]}function a5(n){return Qq[n]}function pc(n){return{fieldPath:n.canonicalString()}}function gc(n){return In.fromServerFormat(n.fieldPath)}function QN(n){return n instanceof lt?function(t){if(t.op==="=="){if(vM(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NAN"}};if(yM(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vM(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NOT_NAN"}};if(yM(t.value))return{unaryFilter:{field:pc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(t.field),op:s5(t.op),value:t.value}}}(n):n instanceof Xn?function(t){let r=t.getFilters().map(i=>QN(i));return r.length===1?r[0]:{compositeFilter:{op:a5(t.op),filters:r}}}(n):Y(54877,{filter:n})}function c5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function YN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Hl=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var iI=class{constructor(e){this.gt=e}};function u5(n){let e=r5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?HE(e,e.limit,"L"):e}var sg=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),jl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=di(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(hi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?bN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):IN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):Y(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ec,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(qe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),K.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};sg.Ut=new sg;var oI=class{constructor(){this.Dn=new sI}addToCollectionParentIndex(e,t){return this.Dn.add(t),V.resolve()}getCollectionParents(e,t){return V.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return V.resolve()}deleteFieldIndex(e,t){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,t){return V.resolve()}getDocumentsMatchingTarget(e,t){return V.resolve(null)}getIndexType(e,t){return V.resolve(0)}getFieldIndexes(e,t){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,t){return V.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return V.resolve(Cs.min())}updateCollectionGroup(e,t,r){return V.resolve()}updateIndexEntries(e,t){return V.resolve()}},sI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new St(ze.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(ze.comparator)).toArray()}};var eee=new Uint8Array(0);var xM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZN=41943040,kn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(ZN,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var ql=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var PM="LruGarbageCollector",l5=1048576;function kM([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var aI=class{constructor(e){this.Tr=e,this.buffer=new St(kM),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();kM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},cI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){q(PM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){kc(t)?q(PM,"Ignoring IndexedDB error during garbage collection: ",t):yield Pc(t)}yield this.Rr(3e5)}))}},uI=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return V.resolve(cb.ue);let r=new aI(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(xM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xM):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,d,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),hc()<=ve.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-p}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function d5(n,e){return new uI(n,e)}var lI=class{constructor(){this.changes=new fi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?V.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var dI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var hI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Fl(r.mutation,i,On.empty(),ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){let i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=xl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=pi(),s=Ol(),a=function(){return Ol()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Mr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Fl(p.mutation,d,p.mutation.getFieldMask(),ht.now())):s.set(d.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new dI(p,(g=s.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Ol(),i=new Xe((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||On.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=ON();p.forEach(w=>{if(!o.has(w)){let _=UN(t.get(w),r.get(w));_!==null&&g.set(w,_),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):MN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):V.resolve(ws()),a=Vl,u=o;return s.next(d=>V.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(p)?V.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,_e())).next(p=>({batchId:a,changes:kN(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=xl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=xl();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{let d=function(g,w){return new mo(w,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,w)=>{s=s.insert(g,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Jn.newInvalidDocument(p)))});let a=xl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&Fl(p.mutation,d,On.empty(),ht.now()),Ng(t,d)&&(a=a.insert(u,d))}),a})}};var fI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return V.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ar(i.createTime)}}(t)),V.resolve()}getNamedQuery(e,t){return V.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:u5(i.bundledQuery),readTime:Ar(i.readTime)}}(t)),V.resolve()}};var pI=class{constructor(){this.overlays=new Xe(K.comparator),this.kr=new Map}getOverlay(e,t){return V.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ws();return V.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),V.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),V.resolve()}getOverlaysForCollection(e,t,r){let i=ws(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Xe((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=ws(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=ws(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return V.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QE(t,r));let o=this.kr.get(t);o===void 0&&(o=_e(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var gI=class{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,V.resolve()}};var zl=class{constructor(){this.qr=new St(ut.Qr),this.$r=new St(ut.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ut(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ut(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new K(new ze([])),r=new ut(t,e),i=new ut(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new K(new ze([])),r=new ut(t,e),i=new ut(t,e+1),o=_e();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ut(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return K.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||K.comparator(e.key,t.key)}};var mI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new St(ut.Qr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new WE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,t){return V.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?ub:this.er-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(pe);return t.forEach(i=>{let o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new ut(new K(o),0),a=new St(pe);return this.Yr.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.Hr)),!0)},s),V.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return V.forEach(t.mutations,i=>{let o=new ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ut(t,0),i=this.Yr.firstAfterOrEqual(r);return V.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var yI=class{constructor(e){this.ni=e,this.docs=function(){return new Xe(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return V.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=pi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Jn.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=pi(),s=t.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||dq(lq(p),r)<=0||(i.has(p.key)||Ng(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Y(9500)}ri(e,t){return V.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vI(this)}getSize(e){return V.resolve(this.size)}},vI=class extends lI{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),V.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var wI=class{constructor(e){this.persistence=e,this.ii=new fi(t=>pb(t),gb),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.si=0,this.oi=new zl,this.targetCount=0,this._i=ql.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),V.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new ql(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,V.resolve()}updateTargetData(e,t){return this.hr(t),V.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return V.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),V.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),V.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return V.resolve(r)}containsKey(e,t){return V.resolve(this.oi.containsKey(t))}};var ag=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new cb(0),this.ci=!1,this.ci=!0,this.li=new gI,this.referenceDelegate=e(this),this.hi=new wI(this),this.indexManager=new oI,this.remoteDocumentCache=function(i){return new yI(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new iI(t),this.Ti=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new mI(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){q("MemoryPersistence","Starting transaction:",e);let i=new _I(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return V.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},_I=class extends AE{constructor(e){super(),this.currentSequenceNumber=e}},EI=class n{constructor(e){this.persistence=e,this.Ai=new zl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw Y(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),V.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),V.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.mi,r=>{let i=K.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return V.or([()=>V.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},cg=class n{constructor(e,t){this.persistence=e,this.gi=new fi(r=>gq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=d5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return V.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return V.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?V.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),V.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hp(e.data.value)),t}Sr(e,t,r){return V.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var II=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=_e(),i=_e();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var bI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var CI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return EA()?8:fq(Dt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new bI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(hc()<=ve.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(hc()<=ve.DEBUG&&q("QueryEngine","Query:",fc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(hc()<=ve.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):V.resolve())}ps(e,t){if(IM(t))return V.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=HE(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.bs(t,a);return this.Ds(t,d,s,u.readTime)?this.ps(e,HE(t,null,"F")):this.vs(e,d,t,u)}))})))}ys(e,t,r,i){return IM(t)||i.isEqual(se.min())?V.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?V.resolve(null):(hc()<=ve.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fc(t)),this.vs(e,s,t,uq(i,Vl)).next(a=>a))})}bs(e,t){let r=new St(xN(e));return t.forEach((i,o)=>{Ng(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return hc()<=ve.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",fc(t)),this.gs.getDocumentsMatchingQuery(e,t,Cs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var wb="LocalStore",h5=3e8,DI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Xe(pe),this.Ms=new fi(o=>pb(o),gb),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function f5(n,e,t,r){return new DI(n,e,t,r)}function JN(n,e){return b(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({Bs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function p5(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,w=g.keys(),_=V.resolve();return w.forEach(M=>{_=_.next(()=>p.getEntry(u,M)).next(O=>{let k=d.docVersions.get(M);Me(k!==null,48541),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function XN(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function g5(n,e){let t=ie(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((p,g)=>{let w=i.get(g);if(!w)return;a.push(t.hi.removeMatchingKeys(o,p.removedDocuments,g).next(()=>t.hi.addMatchingKeys(o,p.addedDocuments,g)));let _=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Bt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(g,_),function(O,k,U){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=h5?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(w,_,p)&&a.push(t.hi.updateTargetData(o,_))});let u=pi(),d=_e();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(m5(o,s,e.documentUpdates).next(p=>{u=p.Ls,d=p.ks})),!r.isEqual(se.min())){let p=t.hi.getLastRemoteSnapshotVersion(o).next(g=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.Fs=i,o))}function m5(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=pi();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q(wb,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function y5(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ub),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v5(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Hl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function TI(n,e,t){return b(this,null,function*(){let r=ie(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!kc(s))throw s;q(wb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function OM(n,e,t){let r=ie(n),i=se.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let g=ie(u),w=g.Ms.get(p);return w!==void 0?V.resolve(g.Fs.get(w)):g.hi.getTargetData(d,p)}(r,s,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:_e())).next(a=>(w5(r,xq(e),a),{documents:a,qs:o})))}function w5(n,e,t){let r=n.xs.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var ug=class{constructor(){this.activeTargetIds=Vq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var SI=class{constructor(){this.Fo=new ug,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ug,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var AI=class{xo(e){}shutdown(){}};var FM="ConnectivityMonitor",lg=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){q(FM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){q(FM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $p=null;function RI(){return $p===null?$p=function(){return 268435456+Math.round(2147483648*Math.random())}():$p++,"0x"+$p.toString(16)}var yE="RestConnection",_5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},MI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Zp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=RI(),a=this.Go(e,t.toUriEncodedString());q(yE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:d}=new URL(a),p=Zi(d);return this.jo(e,a,u,r,p).then(g=>(q(yE,`Received RPC '${e}' ${s}: `,g),g),g=>{throw po(yE,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=_5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var NI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var jt="WebChannelConnection",xI=class extends MI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=RI();return new Promise((a,u)=>{let d=new dE;d.setWithCredentials(!0),d.listenOnce(hE.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nl.NO_ERROR:let g=d.getResponseJson();q(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Nl.TIMEOUT:q(jt,`RPC '${e}' ${s} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:let w=d.getStatus();if(q(jt,`RPC '${e}' ${s} failed with status:`,w,"response text:",d.getResponseText()),w>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);let M=_?.error;if(M&&M.status&&M.message){let O=function(U){let Z=U.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(Z)>=0?Z:F.UNKNOWN}(M.status);u(new H(O,M.message))}else u(new H(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{c_:e,streamId:s,l_:d.getLastErrorCode(),h_:d.getLastError()})}}finally{q(jt,`RPC '${e}' ${s} completed.`)}});let p=JSON.stringify(i);q(jt,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",p,r,15)})}P_(e,t,r){let i=RI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gE(),a=pE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");q(jt,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=s.createWebChannel(p,u);this.T_(g);let w=!1,_=!1,M=new NI({Ho:k=>{_?q(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(w||(q(jt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),w=!0),q(jt,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},Yo:()=>g.close()}),O=(k,U,Z)=>{k.listen(U,ee=>{try{Z(ee)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return O(g,dc.EventType.OPEN,()=>{_||(q(jt,`RPC '${e}' stream ${i} transport opened.`),M.s_())}),O(g,dc.EventType.CLOSE,()=>{_||(_=!0,q(jt,`RPC '${e}' stream ${i} transport closed`),M.__(),this.I_(g))}),O(g,dc.EventType.ERROR,k=>{_||(_=!0,po(jt,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),M.__(new H(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,dc.EventType.MESSAGE,k=>{var U;if(!_){let Z=k.data[0];Me(!!Z,16349);let ee=Z,Ae=ee?.error||((U=ee[0])===null||U===void 0?void 0:U.error);if(Ae){q(jt,`RPC '${e}' stream ${i} received error:`,Ae);let nt=Ae.status,De=function(C){let T=ct[C];if(T!==void 0)return HN(T)}(nt),R=Ae.message;De===void 0&&(De=F.INTERNAL,R="Unknown error status: "+nt+" with message "+Ae.message),_=!0,M.__(new H(De,R)),g.close()}else q(jt,`RPC '${e}' stream ${i} received:`,Z),M.a_(Z)}}),O(a,fE.STAT_EVENT,k=>{k.stat===jp.PROXY?q(jt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===jp.NOPROXY&&q(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function vE(){return typeof document<"u"?document:null}function xg(n){return new XE(n,!0)}var dg=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var LM="PersistentStream",hg=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new dg(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return q(LM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(q(LM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},PI=class extends hg{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Jq(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Ar(s.readTime):se.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=rI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=UE(u)?{documents:t5(o,u)}:{query:n5(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=qN(o,s.resumeToken);let d=eI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=og(o,s.snapshotVersion.toTimestamp());let d=eI(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=i5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=rI(this.serializer),t.removeTarget=e,this.k_(t)}},kI=class extends hg{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=e5(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=rI(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Xq(this.serializer,r))};this.k_(t)}};var OI=class{},FI=class extends OI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,tI(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,tI(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},LI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(li(t),this._a=!1):q("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ms="RemoteStore",VI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Ps(this)&&(q(Ms,"Restarting streams for network reachability change."),yield function(u){return b(this,null,function*(){let d=ie(u);d.Ia.add(4),yield Kl(d),d.Aa.set("Unknown"),d.Ia.delete(4),yield Pg(d)})}(this))}))}),this.Aa=new LI(r,i)}};function Pg(n){return b(this,null,function*(){if(Ps(n))for(let e of n.da)yield e(!0)})}function Kl(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function ex(n,e){let t=ie(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),bb(t)?Ib(t):Oc(t).x_()&&Eb(t,e))}function _b(n,e){let t=ie(n),r=Oc(t);t.Ta.delete(e),r.x_()&&tx(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ps(t)&&t.Aa.set("Unknown"))}function Eb(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).H_(e)}function tx(n,e){n.Ra.$e(e),Oc(n).Y_(e)}function Ib(n){n.Ra=new JE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.Aa.aa()}function bb(n){return Ps(n)&&!Oc(n).M_()&&n.Ta.size>0}function Ps(n){return ie(n).Ia.size===0}function nx(n){n.Ra=void 0}function E5(n){return b(this,null,function*(){n.Aa.set("Online")})}function I5(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{Eb(n,e)})})}function b5(n,e){return b(this,null,function*(){nx(n),bb(n)?(n.Aa.la(e),Ib(n)):n.Aa.set("Unknown")})}function C5(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof rg&&e.state===2&&e.cause)try{yield function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){q(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield fg(n,r)}else if(e instanceof yc?n.Ra.Ye(e):e instanceof ng?n.Ra.it(e):n.Ra.et(e),!t.isEqual(se.min()))try{let r=yield XN(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.Ta.get(d);p&&o.Ta.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.Ta.get(u);if(!p)return;o.Ta.set(u,p.withResumeToken(Bt.EMPTY_BYTE_STRING,p.snapshotVersion)),tx(o,u);let g=new Hl(p.target,u,d,p.sequenceNumber);Eb(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){q(Ms,"Failed to raise snapshot:",r),yield fg(n,r)}})}function fg(n,e,t){return b(this,null,function*(){if(!kc(e))throw e;n.Ia.add(1),yield Kl(n),n.Aa.set("Offline"),t||(t=()=>XN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){q(Ms,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Pg(n)}))})}function rx(n,e){return e().catch(t=>fg(n,t,e))}function kg(n){return b(this,null,function*(){let e=ie(n),t=yo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:ub;for(;D5(e);)try{let i=yield y5(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,T5(e,i)}catch(i){yield fg(e,i)}ix(e)&&ox(e)})}function D5(n){return Ps(n)&&n.Pa.length<10}function T5(n,e){n.Pa.push(e);let t=yo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function ix(n){return Ps(n)&&!yo(n).M_()&&n.Pa.length>0}function ox(n){yo(n).start()}function S5(n){return b(this,null,function*(){yo(n).na()})}function A5(n){return b(this,null,function*(){let e=yo(n);for(let t of n.Pa)e.X_(t.mutations)})}function R5(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=KE.from(r,e,t);yield rx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield kg(n)})}function M5(n,e){return b(this,null,function*(){e&&yo(n).Z_&&(yield function(r,i){return b(this,null,function*(){if(function(s){return zq(s)&&s!==F.ABORTED}(i.code)){let o=r.Pa.shift();yo(r).N_(),yield rx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield kg(r)}})}(n,e)),ix(n)&&ox(n)})}function VM(n,e){return b(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),q(Ms,"RemoteStore received new credentials");let r=Ps(t);t.Ia.add(3),yield Kl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Pg(t)})}function N5(n,e){return b(this,null,function*(){let t=ie(n);e?(t.Ia.delete(2),yield Pg(t)):e||(t.Ia.add(2),yield Kl(t),t.Aa.set("Unknown"))})}function Oc(n){return n.Va||(n.Va=function(t,r,i){let o=ie(t);return o.ia(),new PI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:E5.bind(null,n),e_:I5.bind(null,n),n_:b5.bind(null,n),J_:C5.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),bb(n)?Ib(n):n.Aa.set("Unknown")):(yield n.Va.stop(),nx(n))}))),n.Va}function yo(n){return n.ma||(n.ma=function(t,r,i){let o=ie(t);return o.ia(),new kI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:S5.bind(null,n),n_:M5.bind(null,n),ea:A5.bind(null,n),ta:R5.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield kg(n)):(yield n.ma.stop(),n.Pa.length>0&&(q(Ms,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var jI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Cb(n,e){if(li("AsyncQueue",`${e}: ${n}`),kc(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}var pg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=xl(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var gg=class{constructor(){this.fa=new Xe(K.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Y(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ac=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,pg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var BI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},UI=class{constructor(){this.queries=jM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=jM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function jM(){return new fi(n=>NN(n),Mg)}function x5(n,e){return b(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new BI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Cb(s,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Db(t)})}function P5(n,e){return b(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function k5(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Db(t)}function O5(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Db(n){n.Da.forEach(e=>{e.next()})}var $I,BM;(BM=$I||($I={})).Fa="default",BM.Cache="cache";var HI=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==$I.Cache}};var mg=class{constructor(e){this.key=e}},yg=class{constructor(e){this.key=e}},qI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=_e(),this.mutatedKeys=_e(),this.Xa=xN(e),this.eu=new pg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new gg,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let w=i.get(p),_=Ng(this.query,g)?g:null,M=!!w&&this.mutatedKeys.has(w.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),k=!1;w&&_?w.data.isEqual(_.data)?M!==O&&(r.track({type:3,doc:_}),k=!0):this.iu(w,_)||(r.track({type:2,doc:_}),k=!0,(u&&this.Xa(_,u)>0||d&&this.Xa(_,d)<0)&&(a=!0)):!w&&_?(r.track({type:0,doc:_}),k=!0):w&&!_&&(r.track({type:1,doc:w}),k=!0,(u||d)&&(a=!0)),k&&(_?(s=s.add(_),o=O?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((p,g)=>function(_,M){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{At:k})}};return O(_)-O(M)}(p.type,g.type)||this.Xa(p.doc,g.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,d=u!==this.Ya;return this.Ya=u,s.length!==0||d?{snapshot:new Ac(this.query,e.eu,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new gg,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=_e(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new yg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new mg(r))}),t}uu(e){this.Ha=e.qs,this.Za=_e();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ac.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Tb="SyncEngine",zI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},GI=class{constructor(e){this.key=e,this.lu=!1}},WI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new fi(a=>NN(a),Mg),this.Tu=new Map,this.Iu=new Set,this.du=new Xe(K.comparator),this.Eu=new Map,this.Au=new zl,this.Ru={},this.Vu=new Map,this.mu=ql.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function F5(n,e,t=!0){return b(this,null,function*(){let r=dx(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield sx(r,e,t,!0),i})}function L5(n,e){return b(this,null,function*(){let t=dx(n);yield sx(t,e,!0,!1)})}function sx(n,e,t,r){return b(this,null,function*(){let i=yield v5(n.localStore,Sr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield V5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&ex(n.remoteStore,i),a})}function V5(n,e,t,r,i){return b(this,null,function*(){n.gu=(g,w,_)=>function(O,k,U,Z){return b(this,null,function*(){let ee=k.view.nu(U);ee.Ds&&(ee=yield OM(O.localStore,k.query,!1).then(({documents:R})=>k.view.nu(R,ee)));let Ae=Z&&Z.targetChanges.get(k.targetId),nt=Z&&Z.targetMismatches.get(k.targetId)!=null,De=k.view.applyChanges(ee,O.isPrimaryClient,Ae,nt);return $M(O,k.targetId,De._u),De.snapshot})}(n,g,w,_);let o=yield OM(n.localStore,e,!0),s=new qI(e,o.qs),a=s.nu(o.documents),u=$l.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);$M(n,t,d._u);let p=new zI(e,t,s);return n.Pu.set(e,p),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),d.snapshot})}function j5(n,e,t){return b(this,null,function*(){let r=ie(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Mg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield TI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_b(r.remoteStore,i.targetId),KI(r,i.targetId)}).catch(Pc))):(KI(r,i.targetId),yield TI(r.localStore,i.targetId,!0))})}function B5(n,e){return b(this,null,function*(){let t=ie(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_b(t.remoteStore,r.targetId))})}function U5(n,e,t){return b(this,null,function*(){let r=K5(n);try{let i=yield function(s,a){let u=ie(s),d=ht.now(),p=a.reduce((_,M)=>_.add(M.key),_e()),g,w;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let M=pi(),O=_e();return u.Os.getEntries(_,p).next(k=>{M=k,M.forEach((U,Z)=>{Z.isValidDocument()||(O=O.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,M)).next(k=>{g=k;let U=[];for(let Z of a){let ee=qq(Z,g.get(Z.key).overlayedDocument);ee!=null&&U.push(new Mr(Z.key,ee,CN(ee.value.mapValue),co.exists(!0)))}return u.mutationQueue.addMutationBatch(_,d,U,a)}).next(k=>{w=k;let U=k.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(_,k.batchId,U)})}).then(()=>({batchId:w.batchId,changes:kN(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ru[s.currentUser.toKey()];d||(d=new Xe(pe)),d=d.insert(a,u),s.Ru[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Ql(r,i.changes),yield kg(r.remoteStore)}catch(i){let o=Cb(i,"Failed to persist write");t.reject(o)}})}function ax(n,e){return b(this,null,function*(){let t=ie(n);try{let r=yield g5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Me(s.lu,14607):i.removedDocuments.size>0&&(Me(s.lu,42227),s.lu=!1))}),yield Ql(t,r,e)}catch(r){yield Pc(r)}})}function UM(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let w of g.wa)w.va(a)&&(d=!0)}),d&&Db(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $5(n,e,t){return b(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Xe(K.comparator);s=s.insert(o,Jn.newNoDocument(o,se.min()));let a=_e().add(o),u=new tg(se.min(),new Map,new Xe(pe),s,a);yield ax(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Sb(r)}else yield TI(r.localStore,e,!1).then(()=>KI(r,e,t)).catch(Pc)})}function H5(n,e){return b(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield p5(t.localStore,e);ux(t,r,null),cx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ql(t,i)}catch(i){yield Pc(i)}})}function q5(n,e,t){return b(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Me(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);ux(r,e,t),cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ql(r,i)}catch(i){yield Pc(i)}})}function cx(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function ux(n,e,t){let r=ie(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function KI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||lx(n,r)})}function lx(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(_b(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Sb(n))}function $M(n,e,t){for(let r of t)r instanceof mg?(n.Au.addReference(r.key,e),z5(n,r)):r instanceof yg?(q(Tb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||lx(n,r.key)):Y(19791,{yu:r})}function z5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(q(Tb,"New document in limbo: "+t),n.Iu.add(r),Sb(n))}function Sb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new K(ze.fromString(e)),r=n.mu.next();n.Eu.set(r,new GI(t)),n.du=n.du.insert(t,r),ex(n.remoteStore,new Hl(Sr(mb(t.path)),r,"TargetPurposeLimboResolution",cb.ue))}}function Ql(n,e,t){return b(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=II.Es(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,d){return b(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>V.forEach(d,w=>V.forEach(w.Is,_=>p.persistence.referenceDelegate.addReference(g,w.targetId,_)).next(()=>V.forEach(w.ds,_=>p.persistence.referenceDelegate.removeReference(g,w.targetId,_)))))}catch(g){if(!kc(g))throw g;q(wb,"Failed to update sequence numbers: "+g)}for(let g of d){let w=g.targetId;if(!g.fromCache){let _=p.Fs.get(w),M=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(M);p.Fs=p.Fs.insert(w,O)}}})}(r.localStore,o))})}function G5(n,e){return b(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){q(Tb,"User change. New user:",e.toKey());let r=yield JN(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ql(t,r.Bs)}})}function W5(n,e){let t=ie(n),r=t.Eu.get(e);if(r&&r.lu)return _e().add(r.key);{let i=_e(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function dx(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$5.bind(null,e),e.hu.J_=k5.bind(null,e.eventManager),e.hu.pu=O5.bind(null,e.eventManager),e}function K5(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q5.bind(null,e),e}var hx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=xg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return f5(this.persistence,new CI,t.initialUser,this.serializer)}Du(t){return new ag(EI.Vi,this.serializer)}bu(t){return new SI}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),QI=class extends hx{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Me(this.persistence.referenceDelegate instanceof cg,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new cI(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new ag(r=>cg.Vi(r,t),this.serializer)}};var Q5=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>UM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G5.bind(null,this.syncEngine),yield N5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new UI}()}createDatastore(t){let r=xg(t.databaseInfo.databaseId),i=function(s){return new xI(s)}(t.databaseInfo);return function(s,a,u,d){return new FI(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new VI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>UM(this.syncEngine,r,0),function(){return lg.C()?new lg:new AI}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,g){let w=new WI(o,s,a,u,d,p);return g&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield function(o){return b(this,null,function*(){let s=ie(o);q(Ms,"RemoteStore shutting down."),s.Ia.add(5),yield Kl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var YI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vo="FirestoreClient",ZI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=Ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){q(vo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q(vo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Cb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),q(vo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield JN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{po("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{q("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{po("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function HM(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Y5(n);q(vo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>VM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>VM(e.remoteStore,i)),n._onlineComponents=e})}function Y5(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){q(vo,"Using user provided OfflineComponentProvider");try{yield wE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),yield wE(n,new hx)}}else q(vo,"Using default OfflineComponentProvider"),yield wE(n,new QI(void 0));return n._offlineComponents})}function fx(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(q(vo,"Using user provided OnlineComponentProvider"),yield HM(n,n._uninitializedComponentsProvider._online)):(q(vo,"Using default OnlineComponentProvider"),yield HM(n,new Q5))),n._onlineComponents})}function Z5(n){return fx(n).then(e=>e.syncEngine)}function qM(n){return b(this,null,function*(){let e=yield fx(n),t=e.eventManager;return t.onListen=F5.bind(null,e.syncEngine),t.onUnlisten=j5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B5.bind(null,e.syncEngine),t})}function px(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zM=new Map;var gx="firestore.googleapis.com",GM=!0,vg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gx,this.ssl=GM}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:GM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l5)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=px((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _E;switch(r.type){case"firstParty":return new CE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zM.get(t);r&&(q("ComponentProvider","Removing Datastore"),zM.delete(t),r.terminate())}(this),Promise.resolve()}};function mx(n,e,t,r={}){var i;n=ao(n,Rc);let o=Zi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(cp(`https://${u}`),up("Firestore",!0)),s.host!==gx&&s.host!==u&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let d=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Ir(d,a)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Tt.MOCK_USER;else{p=gA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Tt(w)}n._authCredentials=new EE(new Gp(p,g))}}var Ns=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},At=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Wl(t,n._jsonSchema))return new n(e,r||null,new K(ze.fromString(t.referencePath)))}};At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:dt("string",At._jsonSchemaVersion),referencePath:dt("string")};var uo=class n extends Ns{constructor(e,t,r){super(e,t,mb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new K(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function yx(n,e,...t){if(n=We(n),eN("collection","path",e),n instanceof Rc){let r=ze.fromString(e,...t);return uM(r),new uo(n,null,r)}{if(!(n instanceof At||n instanceof uo))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return uM(r),new uo(n.firestore,null,r)}}function vx(n,e,...t){if(n=We(n),arguments.length===1&&(e=Ll.newId()),eN("doc","path",e),n instanceof Rc){let r=ze.fromString(e,...t);return cM(r),new At(n,null,new K(r))}{if(!(n instanceof At||n instanceof uo))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ze.fromString(e,...t));return cM(r),new At(n.firestore,n instanceof uo?n.converter:null,new K(r))}}var WM="AsyncQueue",wg=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new dg(this,"async_queue_retry"),this.oc=()=>{let r=vE();r&&q(WM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=vE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=vE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new ui;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!kc(e))throw e;q(WM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,li("INTERNAL UNHANDLED ERROR: ",KM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=jI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Y(47125,{hc:KM(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function KM(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function QM(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var xs=class extends Rc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wg(e),this._firestoreClient=void 0,yield e}})}};function wx(n,e){let t=typeof n=="object"?n:fs(),r=typeof n=="string"?n:e||Zp,i=rc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pA("firestore");o&&mx(i,...o)}return i}function _x(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J5(n),n._firestoreClient}function J5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new RE(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,px(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ZI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var lo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Bt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};lo._jsonSchemaVersion="firestore/bytes/1.0",lo._jsonSchema={type:dt("string",lo._jsonSchemaVersion),bytes:dt("string")};var Mc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nc=class{constructor(e){this._methodName=e}};var ho=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Wl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ho._jsonSchemaVersion="firestore/geoPoint/1.0",ho._jsonSchema={type:dt("string",ho._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};var fo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};fo._jsonSchemaVersion="firestore/vectorValue/1.0",fo._jsonSchema={type:dt("string",fo._jsonSchemaVersion),vectorValues:dt("object")};var X5=/^__.*__$/,JI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rs(e,this.data,t,this.fieldTransforms)}},_g=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ex(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ec:n})}}var XI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ig(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(Ex(this.Ec)&&X5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},eb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xg(e)}Dc(e,t,r,i=!1){return new XI({Ec:e,methodName:t,bc:r,path:In.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ab(n){let e=n._freezeSettings(),t=xg(n._databaseId);return new eb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function e3(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);Rb("Data must be an object, but it was:",s,r);let a=Ix(r,s),u,d;if(o.merge)u=new On(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let g of o.mergeFields){let w=nb(e,g,t);if(!s.contains(w))throw new H(F.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Cx(p,w)||p.push(w)}u=new On(p),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new JI(new En(a),u,d)}var Eg=class n extends Nc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};var tb=class n extends Nc{_toFieldTransform(e){return new qE(e.path,new Ts)}isEqual(e){return e instanceof n}};function t3(n,e,t,r){let i=n.Dc(1,e,t);Rb("Data must be an object, but it was:",i,r);let o=[],s=En.empty();wo(r,(u,d)=>{let p=Mb(e,u,t);d=We(d);let g=i.gc(p);if(d instanceof Eg)o.push(p);else{let w=Yl(d,g);w!=null&&(o.push(p),s.set(p,w))}});let a=new On(o);return new _g(s,a,i.fieldTransforms)}function n3(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[nb(e,r,t)],u=[i];if(o.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)a.push(nb(e,o[w])),u.push(o[w+1]);let d=[],p=En.empty();for(let w=a.length-1;w>=0;--w)if(!Cx(d,a[w])){let _=a[w],M=u[w];M=We(M);let O=s.gc(_);if(M instanceof Eg)d.push(_);else{let k=Yl(M,O);k!=null&&(d.push(_),p.set(_,k))}}let g=new On(d);return new _g(p,g,s.fieldTransforms)}function r3(n,e,t,r=!1){return Yl(t,n.Dc(r?4:3,e))}function Yl(n,e){if(bx(n=We(n)))return Rb("Unsupported field value:",e,n),Ix(n,e);if(n instanceof Nc)return function(r,i){if(!Ex(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Yl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ht.fromDate(r);return{timestampValue:og(i.serializer,o)}}if(r instanceof ht){let o=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:og(i.serializer,o)}}if(r instanceof ho)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lo)return{bytesValue:qN(i.serializer,r._byteString)};if(r instanceof At){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fo)return function(s,a){return{mapValue:{fields:{[db]:{stringValue:hb},[Ec]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw a.wc("VectorValues must only contain numeric values.");return yb(a.serializer,d)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Sg(r)}`)}(n,e)}function Ix(n,e){let t={};return mN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(n,(r,i)=>{let o=Yl(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function bx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof ho||n instanceof lo||n instanceof At||n instanceof Nc||n instanceof fo)}function Rb(n,e,t){if(!bx(t)||!tN(t)){let r=Sg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function nb(n,e,t){if((e=We(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return Mb(n,e);throw Ig("Field path arguments must be of type string or ",n,!1,void 0,t)}var i3=new RegExp("[~\\*/\\[\\]]");function Mb(n,e,t){if(e.search(i3)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mc(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ig(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+n+u)}function Cx(n,e){return n.some(t=>t.isEqual(e))}var bg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Og("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},rb=class extends bg{data(){return super.data()}};function Og(n,e){return typeof e=="string"?Mb(n,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function o3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gl=class{},Cg=class extends Gl{};function Dx(n,e,...t){let r=[];e instanceof Gl&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof ib).length,a=o.filter(u=>u instanceof Dg).length;if(s>1||s>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Dg=class n extends Cg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ax(e._query,t),new Ns(e.firestore,e.converter,$E(e._query,t))}_parse(e){let t=Ab(e.firestore);return function(o,s,a,u,d,p,g){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ZM(g,p);let M=[];for(let O of g)M.push(YM(u,o,O));w={arrayValue:{values:M}}}else w=YM(u,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ZM(g,p),w=r3(a,s,g,p==="in"||p==="not-in");return lt.create(d,p,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Tx(n,e,t){let r=e,i=Og("where",n);return Dg._create(i,r,t)}var ib=class n extends Gl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Ax(s,u),s=$E(s,u)}(e._query,t),new Ns(e.firestore,e.converter,$E(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var ob=class n extends Cg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(o,s)}(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new mo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function Sx(n,e="asc"){let t=e,r=Og("orderBy",n);return ob._create(r,t)}function YM(n,e,t){if(typeof(t=We(t))=="string"){if(t==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MN(e)&&t.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ze.fromString(t));if(!K.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mM(n,new K(r))}if(t instanceof At)return mM(n,t._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(t)}.`)}function ZM(n,e){if(!Array.isArray(n)||n.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ax(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var sb=class{convertValue(e,t="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return wo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ec].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new fo(o)}convertGeoPoint(e){return new ho(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Rg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){let t=di(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ze.fromString(e);Me(YN(r),9688,{name:e});let i=new Jp(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||li(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function s3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Is=class n extends bg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:dt("string",Is._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};var vc=class extends Is{data(e={}){return super.data(e)}},wc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vc(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new vc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:a3(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ll.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function a3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:n})}}wc._jsonSchemaVersion="firestore/querySnapshot/1.0",wc._jsonSchema={type:dt("string",wc._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};var Tg=class extends sb{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}};function Rx(n,e,t){n=ao(n,At);let r=ao(n.firestore,xs),i=s3(n.converter,e,t);return Nx(r,[e3(Ab(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,co.none())])}function Mx(n,e,t,...r){n=ao(n,At);let i=ao(n.firestore,xs),o=Ab(i),s;return s=typeof(e=We(e))=="string"||e instanceof Mc?n3(o,"updateDoc",n._key,e,t,r):t3(o,"updateDoc",n._key,e),Nx(i,[s.toMutation(n._key,co.exists(!0))])}function Nb(n,...e){var t,r,i;n=We(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QM(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QM(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(n instanceof At)d=ao(n.firestore,xs),p=mb(n._key.path),u={next:g=>{e[s]&&e[s](c3(d,n,g))},error:e[s+1],complete:e[s+2]};else{let g=ao(n,Ns);d=ao(g.firestore,xs),p=g._query;let w=new Tg(d);u={next:_=>{e[s]&&e[s](new wc(d,w,g,_))},error:e[s+1],complete:e[s+2]},o3(n._query)}return function(w,_,M,O){let k=new YI(O),U=new HI(_,k,M);return w.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return x5(yield qM(w),U)})),()=>{k.Ou(),w.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return P5(yield qM(w),U)}))}}(_x(d),p,a,u)}function Nx(n,e){return function(r,i){let o=new ui;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return U5(yield Z5(r),i,o)})),o.promise}(_x(n),e)}function c3(n,e,t){let r=t.docs.get(e._key),i=new Tg(n);return new Is(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}function Fg(){return new tb("serverTimestamp")}(function(e,t=!0){(function(i){xc=i})(Xi),Qn(new Kt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xs(new IE(r.getProvider("auth-internal")),new DE(s,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ze(iM,oM,e),Ze(iM,oM,"esm2017")})();var Lg=function(){return Lg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lg.apply(this,arguments)};var d3={includeMetadataChanges:!1};function xb(n,e){return e===void 0&&(e=d3),new le(function(t){var r=Nb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function xx(n){return xb(n,{includeMetadataChanges:!0})}function Px(n,e){return e===void 0&&(e={}),xx(n).pipe(re(function(t){return Pb(t,e)}))}function Pb(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Lg(Lg({},r),(t={},t[e.idField]=n.id,t))}function kx(n){return xb(n,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function Ox(n,e){return e===void 0&&(e={}),kx(n).pipe(re(function(t){return t.map(function(r){return Pb(r,e)})}))}var ks=class{constructor(e){return e}},Fx="firestore",kb=class{constructor(){return oc(Fx)}};var Ob=new G("angularfire2.firestore-instances");function h3(n,e){let t=wl(Fx,n,e);return t&&new ks(t)}function f3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ks(r)}}var p3={provide:kb,deps:[[new pn,Ob]]},g3={provide:ks,useFactory:h3,deps:[[new pn,Ob],ti]};function Lx(n,...e){return Ze("angularfire",eo.full,"fst"),Gr([g3,p3,{provide:Ob,useFactory:f3(n),multi:!0,deps:[Oe,Pt,to,gs,[new pn,Ml],[new pn,sc],...e]}])}var Vx=Je(Ox,!0);var jx=Je(Px,!0);var Bx=Je(yx,!0,2);var Fb=Je(vx,!0,2);var Ux=Je(wx,!0);var $x=Je(Sx,!0,2),Hx=Je(Dx,!0,2);var qx=Je(Rx,!0,2);var zx=Je(Mx,!0,2);var Gx=Je(Tx,!0,2);var Fn=class n{auth=L(vs);user$=QR(this.auth);signUpEmailPassword(e,t,r){return xe(YR(this.auth,e,t)).pipe(re(i=>b(this,null,function*(){return r&&(yield tM(i.user,{displayName:r})),i.user})))}signInEmailPassword(e,t){return xe(JR(this.auth,e,t))}signInWithGoogle(){let e=new J_;return xe(XR(this.auth,e))}signOut(){return xe(eM(this.auth))}get currentUser(){return this.auth.currentUser}isLoggedIn$=this.user$.pipe(re(e=>!!e));static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wx=(n,e)=>{let t=L(Fn),r=L(Er);return t.isLoggedIn$.pipe(Ye(i=>{i||r.navigate(["/login"],{queryParams:{returnUrl:e.url}})}),re(i=>i))};var rP=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(Q(rs),Q(fr))};static \u0275dir=Fe({type:n})}return n})(),Bb=(()=>{class n extends rP{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275dir=Fe({type:n,features:[Lt]})}return n})(),Fs=new G("");var m3={provide:Fs,useExisting:Gt(()=>Nr),multi:!0};function y3(){let n=xn()?xn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var v3=new G(""),Nr=(()=>{class n extends rP{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!y3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(Q(rs),Q(fr),Q(v3,8))};static \u0275dir=Fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ue("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mn([m3]),Lt]})}return n})();function Ub(n){return n==null||$b(n)===0}function $b(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ls=new G(""),Bc=new G(""),w3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,an=class{static min(e){return _3(e)}static max(e){return E3(e)}static required(e){return iP(e)}static requiredTrue(e){return I3(e)}static email(e){return b3(e)}static minLength(e){return C3(e)}static maxLength(e){return D3(e)}static pattern(e){return T3(e)}static nullValidator(e){return jg()}static compose(e){return lP(e)}static composeAsync(e){return dP(e)}};function _3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function E3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function iP(n){return Ub(n.value)?{required:!0}:null}function I3(n){return n.value===!0?null:{required:!0}}function b3(n){return Ub(n.value)||w3.test(n.value)?null:{email:!0}}function C3(n){return e=>{let t=e.value?.length??$b(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function D3(n){return e=>{let t=e.value?.length??$b(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function T3(n){if(!n)return jg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ub(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function jg(n){return null}function oP(n){return n!=null}function sP(n){return Gi(n)?xe(n):n}function aP(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function cP(n,e){return e.map(t=>t(n))}function S3(n){return!n.validate}function uP(n){return n.map(e=>S3(e)?e:t=>e.validate(t))}function lP(n){if(!n)return null;let e=n.filter(oP);return e.length==0?null:function(t){return aP(cP(t,e))}}function Hb(n){return n!=null?lP(uP(n)):null}function dP(n){if(!n)return null;let e=n.filter(oP);return e.length==0?null:function(t){let r=cP(t,e).map(sP);return uy(r).pipe(re(aP))}}function qb(n){return n!=null?dP(uP(n)):null}function Kx(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hP(n){return n._rawValidators}function fP(n){return n._rawAsyncValidators}function Lb(n){return n?Array.isArray(n)?n:[n]:[]}function Bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qx(n,e){let t=Lb(e);return Lb(n).forEach(i=>{Bg(t,i)||t.push(i)}),t}function Yx(n,e){return Lb(e).filter(t=>!Bg(n,t))}var Ug=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Yt=class extends Ug{name;get formDirective(){return null}get path(){return null}},Os=class extends Ug{_parent=null;name=null;valueAccessor=null},$g=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},A3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wte=he(B({},A3),{"[class.ng-submitted]":"isSubmitted"}),Eo=(()=>{class n extends $g{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(Os,2))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Lt]})}return n})(),Uc=(()=>{class n extends $g{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(Q(Yt,10))};static \u0275dir=Fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ef("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Lt]})}return n})();var Zl="VALID",Vg="INVALID",Fc="PENDING",Jl="DISABLED",_o=class{},Hg=class extends _o{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ed=class extends _o{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},td=class extends _o{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Lc=class extends _o{status;source;constructor(e,t){super(),this.status=e,this.source=t}},qg=class extends _o{source;constructor(e){super(),this.source=e}},zg=class extends _o{source;constructor(e){super(),this.source=e}};function zb(n){return(Qg(n)?n.validators:n)||null}function R3(n){return Array.isArray(n)?Hb(n):n||null}function Gb(n,e){return(Qg(e)?e.asyncValidators:n)||null}function M3(n){return Array.isArray(n)?qb(n):n||null}function Qg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function pP(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function gP(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var Vc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(e){yn(()=>this.statusReactive.set(e))}_status=os(()=>this.statusReactive());statusReactive=zn(void 0);get valid(){return this.status===Zl}get invalid(){return this.status===Vg}get pending(){return this.status==Fc}get disabled(){return this.status===Jl}get enabled(){return this.status!==Jl}errors;get pristine(){return yn(this.pristineReactive)}set pristine(e){yn(()=>this.pristineReactive.set(e))}_pristine=os(()=>this.pristineReactive());pristineReactive=zn(!0);get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(e){yn(()=>this.touchedReactive.set(e))}_touched=os(()=>this.touchedReactive());touchedReactive=zn(!1);get untouched(){return!this.touched}_events=new pt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yx(e,this._rawAsyncValidators))}hasValidator(e){return Bg(this._rawValidators,e)}hasAsyncValidator(e){return Bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new td(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new td(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ed(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ed(!0,r))}markAsPending(e={}){this.status=Fc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this.errors=null,this._forEachChild(i=>{i.disable(he(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hg(this.value,r)),this._events.next(new Lc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this._forEachChild(r=>{r.enable(he(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zl||this.status===Fc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hg(this.value,t)),this._events.next(new Lc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jl:Zl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=sP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Lc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Jl:this.errors?Vg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fc)?Fc:this._anyControlsHaveStatus(Vg)?Vg:Zl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ed(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new td(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=R3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=M3(this._rawAsyncValidators)}},jc=class extends Vc{constructor(e,t,r){super(zb(t),Gb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gP(this,!0,e),Object.keys(e).forEach(r=>{pP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vb=class extends jc{};var rd=new G("",{providedIn:"root",factory:()=>Yg}),Yg="always";function Zg(n,e){return[...e.path,n]}function Gg(n,e,t=Yg){Wb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),x3(n,e),k3(n,e),P3(n,e),N3(n,e)}function Zx(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Wb(n,e){let t=hP(n);e.validator!==null?n.setValidators(Kx(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=fP(n);e.asyncValidator!==null?n.setAsyncValidators(Kx(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Wg(e._rawValidators,i),Wg(e._rawAsyncValidators,i)}function Kg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=hP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=fP(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Wg(e._rawValidators,r),Wg(e._rawAsyncValidators,r),t}function x3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&mP(n,e)})}function P3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&mP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function mP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function yP(n,e){n==null,Wb(n,e)}function O3(n,e){return Kg(n,e)}function vP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function F3(n){return Object.getPrototypeOf(n.constructor)===Bb}function wP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _P(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Nr?t=o:F3(o)?r=o:i=o}),i||r||t||null}function L3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var V3={provide:Yt,useExisting:Gt(()=>id)},Xl=Promise.resolve(),id=(()=>{class n extends Yt{callSetDisabledState;get submitted(){return yn(this.submittedReactive)}_submitted=os(()=>this.submittedReactive());submittedReactive=zn(!1);_directives=new Set;form;ngSubmit=new tt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new jc({},Hb(t),qb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Gg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xl.then(()=>{let r=this._findContainer(t.path),i=new jc({});yP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),wP(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new qg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new zg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Q(Ls,10),Q(Bc,10),Q(rd,8))};static \u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ue("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mn([V3]),Lt]})}return n})();function Jx(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xx(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var nd=class extends Vc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(zb(t),Gb(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Xx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var j3=n=>n instanceof nd,B3=(()=>{class n extends Yt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Zg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275dir=Fe({type:n,standalone:!1,features:[Lt]})}return n})();var U3={provide:Os,useExisting:Gt(()=>Vs)},eP=Promise.resolve(),Vs=(()=>{class n extends Os{_changeDetectorRef;callSetDisabledState;control=new nd;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new tt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),vP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){eP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&bf(r);eP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Zg(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(Q(Yt,9),Q(Ls,10),Q(Bc,10),Q(Fs,10),Q(Ua,8),Q(rd,8))};static \u0275dir=Fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mn([U3]),Lt,Hi]})}return n})();var $c=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var EP=new G("");var $3={provide:Yt,useExisting:Gt(()=>Jg)},Jg=(()=>{class n extends Yt{callSetDisabledState;get submitted(){return yn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=os(()=>this._submittedReactive());_submittedReactive=zn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new tt;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Gg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Zx(t.control||null,t,!1),L3(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),wP(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new qg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new zg(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Zx(r||null,t),j3(i)&&(Gg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);yP(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&O3(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wb(this.form,this),this._oldForm&&Kg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Q(Ls,10),Q(Bc,10),Q(rd,8))};static \u0275dir=Fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ue("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mn([$3]),Lt,Hi]})}return n})(),H3={provide:Yt,useExisting:Gt(()=>Xg)},Xg=(()=>{class n extends B3{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){IP(this._parent)}static \u0275fac=function(r){return new(r||n)(Q(Yt,13),Q(Ls,10),Q(Bc,10))};static \u0275dir=Fe({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[mn([H3]),Lt]})}return n})(),q3={provide:Yt,useExisting:Gt(()=>em)},em=(()=>{class n extends Yt{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){IP(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Zg(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||n)(Q(Yt,13),Q(Ls,10),Q(Bc,10))};static \u0275dir=Fe({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[mn([q3]),Lt]})}return n})();function IP(n){return!(n instanceof Xg)&&!(n instanceof Jg)&&!(n instanceof em)}var z3={provide:Os,useExisting:Gt(()=>Kb)},Kb=(()=>{class n extends Os{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new tt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(t){this._added||this._setUpControl(),vP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Zg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(Q(Yt,13),Q(Ls,10),Q(Bc,10),Q(Fs,10),Q(EP,8))};static \u0275dir=Fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[mn([z3]),Lt,Hi]})}return n})();var G3={provide:Fs,useExisting:Gt(()=>tm),multi:!0};function bP(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function W3(n){return n.split(":")[0]}var tm=(()=>{class n extends Bb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=bP(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=W3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ue("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([G3]),Lt]})}return n})(),CP=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(bP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Q(fr),Q(rs),Q(tm,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),K3={provide:Fs,useExisting:Gt(()=>DP),multi:!0};function tP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Q3(n){return n.split(":")[0]}var DP=(()=>{class n extends Bb{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Q3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ue("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([K3]),Lt]})}return n})(),TP=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(tP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(Q(fr),Q(rs),Q(DP,9))};static \u0275dir=Fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Y3=(()=>{class n{_validator=jg;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Fe({type:n,features:[Hi]})}return n})();var Z3={provide:Ls,useExisting:Gt(()=>od),multi:!0};var od=(()=>{class n extends Y3{required;inputName="required";normalizeInput=bf;createValidator=t=>iP;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qr(n)))(i||n)}})();static \u0275dir=Fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Zv("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[mn([Z3]),Lt]})}return n})();var SP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=zi({type:n});static \u0275inj=$i({})}return n})(),jb=class extends Vc{constructor(e,t,r){super(zb(t),Gb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){gP(this,!1,e),e.forEach((r,i)=>{pP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function nP(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var J3=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return nP(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new jc(i,o)}record(t,r=null){let i=this._reduceControls(t);return new Vb(i,r)}control(t,r,i){let o={};return this.useNonNullable?(nP(r)?o=r:(o.validators=r,o.asyncValidators=i),new nd(t,he(B({},o),{nonNullable:!0}))):new nd(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new jb(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof nd)return t;if(t instanceof Vc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>L(J3).nonNullable,providedIn:"root"})}return n})();var Io=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rd,useValue:t.callSetDisabledState??Yg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zi({type:n});static \u0275inj=$i({imports:[SP]})}return n})(),RP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:EP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:rd,useValue:t.callSetDisabledState??Yg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=zi({type:n});static \u0275inj=$i({imports:[SP]})}return n})();var Hc=class n{MESES=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];mesSelect$=new gt(this.getMouth());ano=Number(new Date().getFullYear());mes=this.MESES[Number(new Date().getMonth())];getMouth(e){e||(e=new Date);let t=e.getMonth(),r=e.getFullYear()+"-"+(t<=8?"0"+(t+1):t+1);return this.ano=Number(e.getFullYear()),this.mes=this.MESES[Number(t)],r}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var rm=class n{dashboard=L(Hc);idMes=this.dashboard.getMouth();changeMouth(){if(!this.idMes){let e=this.dashboard.getMouth();this.idMes=e,setTimeout(()=>{this.idMes=e},0)}this.dashboard.mesSelect$.next(this.idMes)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-header"]],decls:3,vars:1,consts:[["src","svg/logo.svg","alt","Our Home"],["type","month",3,"ngModelChange","change","ngModel"]],template:function(t,r){t&1&&(X(0,"header"),It(1,"img",0),X(2,"input",1),mr("ngModelChange",function(o){return Yr(r.idMes,o)||(r.idMes=o),o}),Ue("change",function(){return r.changeMouth()}),te()()),t&2&&(Te(2),gr("ngModel",r.idMes))},dependencies:[Io,Nr,Eo,Vs],styles:["header[_ngcontent-%COMP%]{z-index:2;display:flex;flex-wrap:wrap;width:100%;align-items:center;position:relative;background-color:#fff;border:solid 1.5px #DCDCDC;justify-content:flex-start;box-shadow:2px 2px #0003}img[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:200px;padding:5px 30px;margin-left:10px;border-radius:5px;margin-bottom:-20px;background-color:#fffc;box-shadow:2px 2px #0003}input[_ngcontent-%COMP%]{flex:none;width:auto;text-transform:uppercase;padding:10px;background-image:linear-gradient(to left,#f0f5f5,#fff);border:solid 1.5px #6ABADF;border-left:none;border-radius:0 10px 10px 0;font-size:1.2em;z-index:2}"]})};var im=class n{firestore=L(ks);auth=L(Fn);ref=e=>Fb(this.firestore,"contaCasa",e);MESES=["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];list$=this.auth.user$.pipe(xt(e=>{if(!e)return[];let t=Bx(this.firestore,"items"),r=Hx(t,Gx("userId","==",e.uid),$x("createdAt","desc"));return Vx(r,{idField:"id"})}));get(e,t){let r=Fb(this.firestore,e,t);return jx(r,{idField:"id"})}createMes(e){return b(this,null,function*(){let[t,r]=e.split("-"),i=Number(t),o=this.MESES[Number(r)-1];(!o||Number.isNaN(i))&&(i=Number(new Date().getFullYear),o=this.MESES[Number(new Date().getMonth())]),yield qx(this.ref(e),{content:[],mes:o,ano:i,createdAt:Fg(),updatedAt:Fg()},{merge:!0})})}saveMes(e,t){return b(this,null,function*(){yield zx(this.ref(e),{ano:Number(t.ano),mes:String(t.mes),content:t.content,updatedAt:Fg()})})}toISODate(e){if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;let t;if(e&&typeof e.toDate=="function")t=e.toDate();else if(e instanceof Date)t=e;else if(typeof e=="number")t=new Date(e);else if(typeof e=="string"){let s=new Date(e);Number.isNaN(s.getTime())||(t=s)}(!t||Number.isNaN(t.getTime()))&&(t=new Date);let r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${r}-${i}-${o}`}fromISOToMs(e){let[t,r,i]=e.split("-").map(Number);return new Date(t,r-1,i).getTime()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yb=Vk(MP());var om=class n{el=L(fr).nativeElement;onChange=()=>{};onTouched=()=>{};disabled=!1;digits="0";formatter=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0});writeValue(e){if(e==null||e==="")this.digits="0";else{let t=typeof e=="string"?Number(e):e,r=Math.round((Number.isFinite(t)?t:0)*100);this.digits=Math.abs(r).toString()}this.render()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.el.disabled=e}onFocus(){queueMicrotask(()=>this.setCaret(this.el.value.length))}onBlur(){this.onTouched()}onInput(e){if(this.disabled)return;let t=this.el.value??"",r=this.getCaret(),i=this.countDigits(t.slice(0,r)),o=t.replace(/\D+/g,"");o.length===0&&(o="0"),o=o.replace(/^0+(?=\d)/,""),this.digits=o;let s=Math.min(i,this.digits.length);this.render(s);let a=this.getNumberFromDigits(this.digits);this.onChange(a)}render(e){let t=this.formatter.format(this.getNumberFromDigits(this.digits));if(this.el.value=t,typeof e=="number"){let r=this.mapDigitIndexToCaret(this.el.value,e);queueMicrotask(()=>this.setCaret(r))}}getNumberFromDigits(e){return parseInt(e||"0",10)/100}countDigits(e){return(e.match(/\d/g)||[]).length}getCaret(){return this.el.selectionStart??this.el.value?.length??0}setCaret(e){try{this.el.setSelectionRange(e,e)}catch{}}mapDigitIndexToCaret(e,t){if(t<=0)return 0;let r=0;for(let i=0;i<e.length;i++)if(/\d/.test(e[i])&&(r++,r>=t))return i+1;return e.length}static \u0275fac=function(t){return new(t||n)};static \u0275dir=Fe({type:n,selectors:[["input","brlCurrency",""]],hostBindings:function(t,r){t&1&&Ue("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("input",function(o){return r.onInput(o)})},features:[mn([{provide:Fs,multi:!0,useExisting:Gt(()=>n)}])]})};function X3(n,e){n&1&&It(0,"img",10)}function ez(n,e){n&1&&It(0,"img",11)}function tz(n,e){if(n&1){let t=Jv();X(0,"div",7)(1,"div",8)(2,"label",9),gn(3,X3,1,0,"img",10)(4,ez,1,0,"img",11),X(5,"select",12)(6,"option",13),Pe(7,"Vitor"),te(),X(8,"option",14),Pe(9,"Marconis"),te()()()(),X(10,"div",15),It(11,"input",16),te(),X(12,"div",8),It(13,"input",17),te(),X(14,"div",18)(15,"input",19),Ue("change",function(){let i=Ou(t).index,o=Gn(2);return Fu(o.changeValue(i))}),te()(),X(16,"div",8)(17,"button",20),Ue("click",function(){let i=Ou(t).index,o=Gn(2);return Fu(o.removeConta(i))}),Pe(18,"X"),te()()()}if(n&2){let t=e.index,r=Gn(2);at("formGroupName",t),Te(3),BT((r.formMes.value.content==null||r.formMes.value.content[t]==null?null:r.formMes.value.content[t].pagante)==1?3:4)}}function nz(n,e){n&1&&(X(0,"div")(1,"span"),Pe(2,"N\xE3o h\xE1 contas nesse m\xEAs"),te()())}function rz(n,e){n&1&&(X(0,"span"),Pe(1,"Maronis - Vitor"),te())}function iz(n,e){n&1&&(X(0,"span"),Pe(1,"Vitor - Maronis"),te())}function oz(n,e){if(n&1){let t=Jv();X(0,"div")(1,"form",1)(2,"div",2),gn(3,tz,19,2,"div",3),te(),gn(4,nz,3,0,"div",0),te(),X(5,"button",4),Ue("click",function(){Ou(t);let i=Gn();return Fu(i.addConta())}),Pe(6,"+ Nova Conta"),te(),X(7,"div",5)(8,"div")(9,"span"),Pe(10,"Total"),te(),X(11,"span"),Pe(12),te()(),X(13,"div")(14,"span"),Pe(15,"Vitor"),te(),X(16,"span"),Pe(17),te()(),X(18,"div")(19,"span"),Pe(20,"Marconis"),te(),X(21,"span"),Pe(22),te()(),X(23,"div"),gn(24,rz,2,0,"span",0)(25,iz,2,0,"span",0),X(26,"span"),Pe(27),te()()(),X(28,"div")(29,"button",6),Ue("click",function(){Ou(t);let i=Gn();return Fu(i.editarTabelas())}),Pe(30,"Salvar M\xEAs"),te()()()}if(n&2){let t=Gn();Te(),at("formGroup",t.formMes),Te(2),at("ngForOf",t.contentFA.controls)("ngForTrackBy",t.trackByControl),Te(),at("ngIf",!(!(t.formMes.value==null||t.formMes.value.content==null)&&t.formMes.value.content.length)),Te(8),pr(t.totalCasa),Te(5),pr(t.totalVitor),Te(5),pr(t.totalMarconis),Te(2),at("ngIf",t.totalVitor>=t.totalMarconis),Te(),at("ngIf",t.totalMarconis>=t.totalVitor),Te(2),pr(t.totalDiferenca)}}function sz(n){let e=n.value;return e==null||e===""||Number.isInteger(Number(e))?null:{integer:!0}}var sm=class n{item=L(im);dashboard=L(Hc);fb=L(AP);vitor=0;marconis=0;trackByControl=(e,t)=>t;formMes=this.fb.group({id:this.fb.control("",{validators:[an.minLength(7)]}),ano:this.fb.control(2025,{validators:[an.required,an.min(2010)]}),mes:this.fb.control("",{validators:[an.required,an.minLength(2)]}),content:this.fb.array([])});get contentFA(){return this.formMes.controls.content}contaCasa$=this.dashboard.mesSelect$.pipe(xt(e=>this.item.get("contaCasa",e).pipe(Ye({next:t=>this.reloadDoc(e,t),error:t=>console.error("tap error:",t)}))));setForm(e,t){t||(t={ano:0,mes:"",content:[]}),this.formMes.patchValue({id:e,ano:t.ano!==0?t.ano:this.dashboard.ano,mes:t.mes||this.dashboard.mes});let r=this.fb.array((t.content??[]).map(i=>this.makeItem(i)));this.formMes.setControl("content",r),this.formMes.updateValueAndValidity({emitEvent:!1})}makeItem(e){return this.fb.group({data:this.fb.control(this.item.toISODate(e?.data??Date.now()),{validators:[an.required]}),nome:this.fb.control(e?.nome??"",{validators:[an.required,an.minLength(2)]}),pagante:this.fb.control(e?.pagante??1,{validators:[an.required,sz]}),valor:this.fb.control(e?.valor??0,{validators:[an.required,an.min(.01)]})})}reloadDoc(e,t){t?this.setForm(e,t):(this.item.createMes(e),this.setForm(e))}addConta(){this.formMes.controls.content.push(this.makeItem())}removeConta(e){let t=this.formMes.controls.content;e<0||e>=t.length||(t.removeAt(e,{emitEvent:!0}),t.markAsDirty(),t.updateValueAndValidity({onlySelf:!1,emitEvent:!0}))}changeValue(e){let t=this.formMes.controls.content;if(e<0||e>=t.length)return;let r=t.at(e).get("valor"),i=r.value;r.setValue(i,{emitEvent:!0}),r.markAsDirty(),r.updateValueAndValidity({emitEvent:!1})}editarTabelas(){if(this.formMes.invalid){this.formMes.markAllAsTouched();return}let e=this.formMes.getRawValue(),t=o=>Number(typeof o=="string"?o.replace(",","."):o),r=e.content.map(o=>({data:this.item.fromISOToMs(o.data),nome:o.nome,pagante:t(o.pagante),valor:t(o.valor)})),i={ano:t(e.ano),mes:String(e.mes),content:r};this.item.saveMes(e.id,i).then(()=>{Yb.default.fire({icon:"success",title:"Sucesso!",text:"As Contas da Casa de "+e.mes+" foram salvos"})}).catch(o=>{Yb.default.fire({icon:"error",title:"Erro!",text:"Algo deu errado"}),console.error("Falha ao salvar:",o)})}get totalCasa(){let t=this.formMes.getRawValue().content?.reduce((r,{valor:i})=>Number(r)+Number(i),0)?.toFixed(2).split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),t.join(",")}get totalVitor(){let t=this.formMes.getRawValue().content?.filter(i=>i.pagante==1)?.reduce((i,{valor:o})=>Number(i)+Number(o),0);this.vitor=t;let r=t?.toFixed(2).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),r.join(",")}get totalMarconis(){let t=this.formMes.getRawValue().content?.filter(i=>i.pagante==2)?.reduce((i,{valor:o})=>Number(i)+Number(o),0);this.marconis=t;let r=t?.toFixed(2).split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),r.join(",")}get totalDiferenca(){let e=((this.vitor>this.marconis?this.vitor-this.marconis:this.marconis-this.vitor)/2).toFixed(2).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,"."),e.join(",")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-conta-casa"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"formGroup"],["formArrayName","content"],["class","row",3,"formGroupName",4,"ngFor","ngForOf","ngForTrackBy"],["id","add-conta",3,"click"],[1,"result-mes"],["id","salvar-conta",3,"click"],[1,"row",3,"formGroupName"],[1,"collumn"],[1,"pagante"],["src","/img/1.png","alt","Pagante"],["src","/img/2.png","alt","Pagante"],["formControlName","pagante"],["value","1"],["value","2"],[1,"collumn","collumn-descricao"],["placeholder","Descri\xE7\xE3o","type","text","formControlName","nome"],["type","date","formControlName","data"],[1,"collumn","collumn-number"],["brlCurrency","","inputmode","numeric","autocomplete","off","formControlName","valor",3,"change"],["type","button",3,"click"]],template:function(t,r){t&1&&(gn(0,oz,31,10,"div",0),zT(1,"async")),t&2&&at("ngIf",GT(1,1,r.contaCasa$))},dependencies:[Ki,Sf,Zr,cw,Io,$c,CP,TP,Nr,tm,Eo,Uc,RP,Jg,Kb,Xg,em,om],styles:[".row[_ngcontent-%COMP%]{background-color:var(--color-bg-demote);border:solid 1.5px var(--color-border);display:flex;flex-wrap:wrap;padding:5px;gap:5px;align-items:center;width:100%}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]{flex:none;display:flex;flex-wrap:wrap;width:fit-content}.row[_ngcontent-%COMP%]   .collumn.collumn-descricao[_ngcontent-%COMP%]{flex:1 0 0}.row[_ngcontent-%COMP%]   .collumn.collumn-number[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1.2em;text-align:right}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:var(--color-bg-elev);border:solid 1.5px var(--color-border);border-radius:5px}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]:last-child{margin-right:-10px}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{padding:5px;background-color:var(--color-border)}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]   .pagante[_ngcontent-%COMP%]{position:relative}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]   .pagante[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:40px;position:absolute;top:0;left:0;border-radius:5px 0 0 5px}.row[_ngcontent-%COMP%]   .collumn[_ngcontent-%COMP%]   .pagante[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{padding-left:45px}.row[_ngcontent-%COMP%]:first-child{border-radius:5px 5px 0 0}.row[_ngcontent-%COMP%]:last-child{border-radius:0 0 0 5px;border-bottom-width:5px}#add-conta[_ngcontent-%COMP%]{display:table;margin:0 0 0 auto;font-weight:600;background-color:var(--color-border);border-radius:0 0 10px 10px}#add-conta[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}#salvar-conta[_ngcontent-%COMP%]{display:block;width:100%;font-weight:600;text-transform:uppercase;background-color:var(--color-text);color:var(--color-bg-elev);border-radius:0 0 10px 10px}#salvar-conta[_ngcontent-%COMP%]:hover{background-color:var(--color-primary);color:#fff}.result-mes[_ngcontent-%COMP%]{border-radius:5px 5px 0 0;background-color:var(--color-bg-demote);border:solid 1.5px var(--color-border);display:flex;flex-wrap:wrap;padding:10px 5px 15px;gap:5px;align-items:center;width:100%;margin-top:1rem}.result-mes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:none;display:flex;flex-direction:column;text-align:center;padding:10px;flex:1 0 0}.result-mes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{font-weight:800;padding-bottom:10px;display:block}.result-mes[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{font-size:2.5em}"]})};var Zb=n=>({active:n});function az(n,e){n&1&&(X(0,"div"),It(1,"app-conta-casa"),te())}function cz(n,e){n&1&&It(0,"div")}function uz(n,e){n&1&&It(0,"div")}var am=class n{auth=L(Fn);index=1;logout(){this.auth.signOut().subscribe()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-dashboard"]],decls:14,vars:12,consts:[["id","dashboard"],["id","contas"],[1,"abas"],[3,"click","ngClass"],[4,"ngIf"],["id","parcelas"]],template:function(t,r){t&1&&(It(0,"app-header"),X(1,"div",0)(2,"div",1)(3,"div",2)(4,"button",3),Ue("click",function(){return r.index=1}),Pe(5,"Casa"),te(),X(6,"button",3),Ue("click",function(){return r.index=2}),Pe(7,"Vitor"),te(),X(8,"button",3),Ue("click",function(){return r.index=3}),Pe(9,"Marconis"),te()(),gn(10,az,2,0,"div",4)(11,cz,1,0,"div",4)(12,uz,1,0,"div",4),te(),It(13,"div",5),te()),t&2&&(Te(4),at("ngClass",If(6,Zb,r.index==1)),Te(2),at("ngClass",If(8,Zb,r.index==2)),Te(2),at("ngClass",If(10,Zb,r.index==3)),Te(2),at("ngIf",r.index==1),Te(),at("ngIf",r.index==2),Te(),at("ngIf",r.index==3))},dependencies:[rm,sm,aw,Zr],styles:["[_nghost-%COMP%]{width:100%;overflow:auto;display:block;min-height:100dvh;color:var(--color-text);background-image:linear-gradient(180deg,var(--color-bg),var(--color-bg-elev))}[_nghost-%COMP%]   app-header[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;margin-bottom:40px}[_nghost-%COMP%]   #dashboard[_ngcontent-%COMP%]{gap:5px;width:100%;padding:5px;display:flex;flex-wrap:wrap;align-items:stretch}[_nghost-%COMP%]   #dashboard[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:block;padding:20px;background-color:var(--color-bg-elev)}[_nghost-%COMP%]   #dashboard[_ngcontent-%COMP%]   #contas[_ngcontent-%COMP%]{flex:1 0 0}[_nghost-%COMP%]   .abas[_ngcontent-%COMP%]{gap:5px;display:flex;padding:4px 10px;width:fit-content;align-items:center;margin-bottom:10px;border-radius:10px;border:solid 1.5px var(--color-border);background-color:var(--color-bg-demote)}[_nghost-%COMP%]   .abas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;opacity:.5;font-weight:600}[_nghost-%COMP%]   .abas[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:var(--color-bg-elev);border:solid 1.5px var(--color-border);opacity:1}[_nghost-%COMP%]   .abas[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{background-color:var(--color-primary);color:#fff}"]})};function lz(n,e){if(n&1&&(X(0,"p"),Pe(1),te()),n&2){let t=Gn();Te(),pr(t.error())}}var cm=class n{auth=L(Fn);router=L(Er);displayName="";email="";password="";error=zn(void 0);register(){this.auth.signUpEmailPassword(this.email,this.password,this.displayName).subscribe({next:()=>this.router.navigateByUrl("/"),error:e=>this.error.set(e.message)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-register"]],decls:9,vars:4,consts:[[3,"ngSubmit"],["name","displayName","placeholder","nome",3,"ngModelChange","ngModel"],["name","email","type","email","placeholder","email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","senha","required","",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngIf"]],template:function(t,r){t&1&&(X(0,"h1"),Pe(1,"Criar conta"),te(),X(2,"form",0),Ue("ngSubmit",function(){return r.register()}),X(3,"input",1),mr("ngModelChange",function(o){return Yr(r.displayName,o)||(r.displayName=o),o}),te(),X(4,"input",2),mr("ngModelChange",function(o){return Yr(r.email,o)||(r.email=o),o}),te(),X(5,"input",3),mr("ngModelChange",function(o){return Yr(r.password,o)||(r.password=o),o}),te(),X(6,"button",4),Pe(7,"Registrar"),te()(),gn(8,lz,2,1,"p",5)),t&2&&(Te(3),gr("ngModel",r.displayName),Te(),gr("ngModel",r.email),Te(),gr("ngModel",r.password),Te(3),at("ngIf",r.error()))},dependencies:[Ki,Zr,Io,$c,Nr,Eo,Uc,od,Vs,id],encapsulation:2})};function dz(n,e){if(n&1&&(X(0,"p"),Pe(1),te()),n&2){let t=Gn();Te(),pr(t.error())}}var um=class n{auth=L(Fn);router=L(Er);route=L(_r);email="";password="";error=zn(void 0);login(){let e=this.route.snapshot.queryParamMap.get("returnUrl")||"/";this.auth.signInEmailPassword(this.email,this.password).subscribe({next:()=>this.router.navigateByUrl(e),error:t=>this.error.set(t.message)})}google(){let e=this.route.snapshot.queryParamMap.get("returnUrl")||"/";this.auth.signInWithGoogle().subscribe({next:()=>this.router.navigateByUrl(e),error:t=>this.error.set(t.message)})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-login"]],decls:10,vars:3,consts:[[3,"ngSubmit"],["name","email","type","email","placeholder","email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","senha","required","",3,"ngModelChange","ngModel"],["type","submit"],[3,"click"],[4,"ngIf"]],template:function(t,r){t&1&&(X(0,"h1"),Pe(1,"Login"),te(),X(2,"form",0),Ue("ngSubmit",function(){return r.login()}),X(3,"input",1),mr("ngModelChange",function(o){return Yr(r.email,o)||(r.email=o),o}),te(),X(4,"input",2),mr("ngModelChange",function(o){return Yr(r.password,o)||(r.password=o),o}),te(),X(5,"button",3),Pe(6,"Entrar"),te()(),X(7,"button",4),Ue("click",function(){return r.google()}),Pe(8,"Entrar com Google"),te(),gn(9,dz,2,1,"p",5)),t&2&&(Te(3),gr("ngModel",r.email),Te(),gr("ngModel",r.password),Te(5),at("ngIf",r.error()))},dependencies:[Ki,Zr,Io,$c,Nr,Eo,Uc,od,Vs,id],encapsulation:2})};var NP=[{path:"login",component:um},{path:"register",component:cm},{path:"",canActivate:[Wx],component:am},{path:"**",redirectTo:""}];var xP={apiKey:"AIzaSyDg0sNudgwxRj5aDmgDclPY_BEF27CR3TA",authDomain:"ourhome-d99fc.firebaseapp.com",projectId:"ourhome-d99fc",storageBucket:"ourhome-d99fc.firebasestorage.app",messagingSenderId:"532222704355",appId:"1:532222704355:web:1ad3f7af71160c6ae6e3d6"};var PP={providers:[YT({eventCoalescing:!0}),qw(NP,zw()),UA(()=>$A(xP)),KR(()=>ZR()),Lx(()=>Ux())]};var lm=class n{title="ourhome-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=on({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&It(0,"router-outlet")},dependencies:[ul],encapsulation:2})};ww(lm,PP).catch(n=>console.error(n));
